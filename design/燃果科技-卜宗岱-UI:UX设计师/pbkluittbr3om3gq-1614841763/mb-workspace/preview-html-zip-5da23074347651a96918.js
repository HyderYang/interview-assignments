!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MB_NEXT_EXAMPLE=t():e.MB_NEXT_EXAMPLE=t()}(window,(function(){return function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0
for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r])
for(u&&u(t);p.length;)p.shift()()
return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s]
0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={4:0},o=[]
function a(t){if(r[t])return r[t].exports
var n=r[t]={i:t,l:!1,exports:{}}
return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e
if(4&t&&"object"==typeof e&&e&&e.__esModule)return e
var n=Object.create(null)
if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r))
return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e}
return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/mb-workspace/"
var s=window.webpackJsonpMB_NEXT_EXAMPLE=window.webpackJsonpMB_NEXT_EXAMPLE||[],c=s.push.bind(s)
s.push=t,s=s.slice()
for(var l=0;l<s.length;l++)t(s[l])
var u=c
return o.push([1052,0]),n()}([,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"y",(function(){return l})),n.d(t,"A",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"K",(function(){return p})),n.d(t,"E",(function(){return f})),n.d(t,"D",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"P",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"h",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"r",(function(){return j})),n.d(t,"g",(function(){return S})),n.d(t,"q",(function(){return _})),
n.d(t,"M",(function(){return C})),n.d(t,"v",(function(){return O})),n.d(t,"l",(function(){return k})),n.d(t,"b",(function(){return E})),n.d(t,"x",(function(){return M})),n.d(t,"n",(function(){return T})),n.d(t,"u",(function(){return D})),n.d(t,"k",(function(){return A})),n.d(t,"j",(function(){return N})),n.d(t,"w",(function(){return P})),n.d(t,"N",(function(){return I})),n.d(t,"p",(function(){return L})),n.d(t,"z",(function(){return B})),n.d(t,"C",(function(){return F})),n.d(t,"m",(function(){return R})),
n.d(t,"t",(function(){return z})),n.d(t,"J",(function(){return U})),n.d(t,"I",(function(){return H})),n.d(t,"o",(function(){return G})),n.d(t,"s",(function(){return V})),n.d(t,"L",(function(){return W})),n.d(t,"H",(function(){return Y})),n.d(t,"F",(function(){return Z})),n.d(t,"G",(function(){return q})),n.d(t,"O",(function(){return X})),n.d(t,"B",(function(){return J})),n.d(t,"a",(function(){return K}))
var r=n(20),i=n(53),o=n(29),a=n(93),s=n(28),c=n(102),l=function(e){return e.container.common.preference.show_toolbar_text},u=function(e){return e.container.common.preference.layout},d=function(e){return e.container.common.scale},p=function(e){return e.container.common.screenCommentThreadCountMap},f=function(e){return e.container.previewSetting},h=function(e){return e.container.common.previewOptions},m=function(e){return e.container.common.designOptions},g=function(e){
return e.container.common.experienceSnapshotUrlMap},b=function(e){return e.model.screens},v=function(e){return e.container.current.rootProject},y=function(e){return e.container.current.projectMeta},x=function(e){return e.container.current.screenGlue},w=function(e){return e.container.current.projectShare},j=function(e){return"project-main"===e.container.current.screenGlue.type},S=function(e){return e.container.current.screenMeta},_=function(e){return e.container.current.isPanelPreviewMode},C=function(e){
return e.container.previewSetting.simulatorType},O=function(e){return e.container.previewSetting.isShowShell},k=function(e){return e.container.previewSetting.isDummyApk},E=function(e){return e.container.previewSetting.toolbarActiveItem},M=function(e){return e.container.previewSetting.isStickyShow},T=function(e){return e.container.previewSetting.isHighlight},D=function(e){return e.container.previewSetting.isShowOfflineModal},A=function(e){return e.container.previewSetting.isAppOffline},N=function(e){
return e.container.previewSetting.isAppCacheNeedUpToDate},P=function(e){return e.container.previewSetting.isStatePanelShow},I=function(e){return e.container.common.preference.theme},L=function(e){return e.container.previewSetting.isMinimized},B=function(e){return e.container.common.previewOptions.isVersionEmbedded},F=Object(r.createSelector)([E],(function(e){return{isPreview:"preview"===e,isInspect:"inspect"===e,isComment:"comment"===e}})),R=function(e){return e.container.previewSetting.isFullScreenMode
},z=function(e){return e.container.previewSetting.isShowColorPicker},U=function(e){return e.container.runner},H=function(e){return e.container.runner.activeCid},G=Object(r.createSelector)([E],(function(e){return e===i.b||e===i.a})),V=Object(r.createSelector)([E,C],(function(e,t){return[i.b,i.a].includes(e)||"device"!==t})),W=Object(r.createSelector)([b],(function(e){var t={}
return e.forEach((function(e){return t[e.cid]=e})),t})),Y=Object(r.createSelector)([b,y,x],(function(e,t,n){var r=e.filter((function(e){return e.screen_glue_cid===n.cid}))
return Object(a.a)(r).screenTreeData})),Z=Object(r.createSelector)([Y],(function(e){return Object(o.h)(e)})),q=Object(r.createSelector)([Y],(function(e){return Object(o.h)(e).filter((function(e){return!Object(o.a)(e)}))})),X=function(e){return e.container.common.viewport},J=function(e){return e.container.common.offset},K=Object(r.createSelector)([U,X,function(e){return e.container.common.scale}],(function(e,t,n){var r=e.activeCid,i=e.screenInfoMap[r]
if(!i)return{x:0,y:0}
var o=i.screenMeta,a=i.stateCid,l=i.screenRuntimeState.itemListMap[a],u=o.width,d=o.height,p=Object(c.b)(location.pathname)?Object(s.n)(r,a,l):Object(s.c)(l),f=p.minX,h=p.minY,m=p.maxX,g=p.maxY
f=Math.min(f*n/100,3*-t.width/2),m=Math.max(m*n/100,3*t.width/2),h=Math.min(h*n/100,3*-t.height/2),g=Math.max(g*n/100,3*t.height/2)
var b=Math.max(-f,m,u),v=Math.max(-h,g,d),y=100*t.height/d,x=100*t.width/u
return n>x&&(b+=5*(n-x)),n>y&&(v+=10*(n-y)),Q(2*b,2*v)})),Q=Object(s.i)((function(e,t){return{x:e,y:t}}))},,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMemoize=s,t.createSelectorCreator=l,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u
if("object"!==(0,i.default)(e))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+(0,i.default)(e))
var n=Object.keys(e)
return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r]
return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))},t.createSelector=void 0
var i=r(n(24))
function o(e,t){return e===t}function a(e,t,n){if(null===t||null===n||t.length!==n.length)return!1
for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1
return!0}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=null,r=null
return function(){return a(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}function c(e){var t=Array.isArray(e[0])?e[0]:e
if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return(0,i.default)(e)})).join(", ")
throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r]
return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i]
var o=0,a=r.pop(),s=c(r),l=e.apply(void 0,[function(){return o++,a.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments))
return l.apply(null,e)}))
return u.resultFunc=a,u.dependencies=s,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}var u=l(s)
t.createSelector=u},,,,,,,,function(e,t,n){"use strict"
n.d(t,"i",(function(){return s})),n.d(t,"m",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return w})),n.d(t,"k",(function(){return j})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"n",(function(){return O})),n.d(t,"c",(function(){return C}))
var r=n(23),i=n.n(r),o=n(27)
function a(e,t){if(!e||e.length!==t.length)return!1
for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1
return!0}function s(e){var t,n
return function(){return a(n,arguments)||(t=e.apply(null,arguments),n=arguments),t}}var c,l=["https://qiniu.modao.cc","https://qiniu-us.modao.cc","https://qiniu-test.modao.cc"],u={"&amp;":"&","&lt;":"<","&gt;":">"},d=/(&amp;|&lt;|&gt;)/g,p=function(e){return u[e]||e},f=function(e){return e&&e.replace(d,p)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
return Number(parseFloat((1/t*e).toFixed(2)))+n},m=function(e){var t=e.image,n=e.adjust
t.naturalWidth>=t.naturalHeight?t.style.maxWidth=n+"px":t.style.maxHeight=n+"px"},g=/\s|<|>|《|》|:|：|？|\?|\\|\/|"|”|\||\./g,b=function(e){var t,n=e.url,r=e.name,i=e.type,o=document.createElement("a"),a=(t=r)&&t.replace(g,"_")||"未命名"
if(function(e){return l.some((function(t){return e.startsWith(t)}))}(n)){var s="".concat(encodeURIComponent(a))
o.href="".concat(n,"?attname=").concat(s,".").concat(i)}else{var c=a
o.setAttribute("download",c),o.href="".concat(n)}o.click()},v=function(e){return Number(e.toFixed(2))},y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},x=function(){return console.error("下载失败")},w=function(){try{var e=Object(o.b)("user_pick_color")
return JSON.parse(e||"[]")}catch(e){return[]}},j=function(e){var t=w()
return t.includes(e)?{history:t,focusColor:e}:(t.unshift(e),t.length>40&&t.pop(),Object(o.e)("user_pick_color",JSON.stringify(t)),{history:t,focusColor:null})},S=function(e){var t=w(),n=t.indexOf(e)
return t.splice(n,1),Object(o.e)("user_pick_color",JSON.stringify(t)),t},_=function(){var e
try{e=(window.parent===window||/^\/app\/(design|preview)/.test(window.parent.location.pathname))&&(MB.isDashboard||!MB.f.inSharing&&"file:"!==window.location.protocol)}catch(t){console.warn(t),e=!1}return e},C=function(e){var t,n=1/0,r=1/0,o=-1/0,a=-1/0,s=i()(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value
isFinite(c.top)&&isFinite(c.left)&&isFinite(c.width)&&isFinite(c.height)&&(n=Math.min(n,c.left),o=Math.max(o,c.left+c.width),r=Math.min(r,c.top),a=Math.max(a,c.top+c.height))}}catch(e){s.e(e)}finally{s.f()}return{minX:n,minY:r,maxX:o,maxY:a}},O=(c=new Map,function(e,t,n){var r="".concat(e,"-").concat(t)
if(c.get(r))return c.get(r)
var i=C(n)
return c.set(r,i),i})},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l}))
var r=n(10),i=n.n(r),o=Object(r.css)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),a=Object(r.css)(["position:relative;pointer-events:none;&::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}"]),s=Object(r.css)(["position:relative;height:32px;padding-left:14px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span{margin-right:14px;}.actions{display:none;position:absolute;top:0;right:0;height:100%;padding-left:6px;background:",";.Dropdown > button{display:flex;padding:8px 10px;padding-left:0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;color:",";}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],(function(e){
return e.theme.common.text_2.cr}),(function(e){return e.theme.listItem.expander_color}),(function(e){return e.theme.action_bg}),(function(e){return e.theme.listItem.action_color}),(function(e){return e.theme.listItem.action_hover_color}),(function(e){return e.theme.common.text_2.active}),(function(e){return e.theme.listItem.hover.action}),(function(e){return e.theme.common.text_2.hover}),(function(e){return e.theme.listItem.hover.bg}),(function(e){return e.theme.common.text_2.active}),(function(e){
return e.theme.common.bg.item_active_bg})),c=i.a.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1auzxd5-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],(function(e){return e.theme.tooltip.tips_right
})),l=Object(r.css)(["width:22px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}"],(function(e){return e.theme.common.text_18.cr}),(function(e){return e.theme.icon_button.fore_color}),(function(e){return e.theme.icon_button.hover.fore_color}),(function(e){return e.theme.icon_button.hover.fore_color}))},,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0
}),t.LEGACY_LEAVE_TEAMS=t.LEGACY_JOIN_TEAMS=t.LEGACY_LEAVE_ORGS=t.LEGACY_JOIN_ORGS=t.V3_BROADCAST_COMMENT_THREAD_DATA=t.V3_BROADCAST_COMMENT_DATA=t.V3_REQUEST_PROJECT_META_BUFFER_SAVE_QUEUE=t.V3_BROADCAST_PROJECT_META_BUFFER_SAVE_QUEUE=t.V3_REQUEST_PROJECT_META_JSON_SAVE_QUEUE=t.V3_BROADCAST_PROJECT_META_JSON_SAVE_QUEUE=t.V3_ACTION_PROJECT_VERSION_RESET=t.V3_LEAVE_PROJECT_META_LIST=t.V3_JOIN_PROJECT_META_LIST=t.V3_BROADCAST_PROJECT_META_DATA=t.V3_ACTION_PROJECT_UPPER_DELETE=t.V3_ACTION_PROJECT_UPPER_UPDATE=t.V3_LEAVE_TEAM_LIST=t.V3_JOIN_TEAM_LIST=t.V3_BROADCAST_TEAM_DATA=t.V3_LEAVE_ORG_LIBRARY_LIST=t.V3_JOIN_ORG_LIBRARY_LIST=t.V3_BROADCAST_ORG_LIBRARY_DATA=t.V3_ACTION_ORG_COMBO_DELETE=t.V3_ACTION_ORG_COMBO_GROUP_DELETE=t.V3_ACTION_ORG_COMBO_GROUP_UPDATE=t.V3_ACTION_ORG_ASSET_GROUP_DELETE=t.V3_ACTION_ORG_ASSET_GROUP_UPDATE=t.V3_ACTION_ORG_ASSET_DELETE=t.V3_ACTION_ORG_ASSET_UPDATE=t.V3_ACTION_LIBRARY_ACCESS_UPDATE=t.V3_ACTION_ORDER_PAID=t.V3_ACTION_USER_NOTIFICATION=t.V3_ACTION_ORG_UPDATE=t.V3_ACTION_TEAM_DELETE=t.V3_ACTION_TEAM_UPDATE=t.V3_ACTION_USER_PROFILE_DELETE=t.V3_ACTION_USER_PROFILE_UPDATE=t.V3_LEAVE_ORG_LIST=t.V3_JOIN_ORG_LIST=t.V3_BROADCAST_ORG_DATA=t.V3_BROADCAST_USER_DATA=t.V3_BROADCAST_ALL_UPGRADE_NOTICE_NEW=t.SOCKET_EVENT_NAME_LOCK_TAG=void 0
t.SOCKET_EVENT_NAME_LOCK_TAG="socket:event-name:lock-tag:20201217"
t.V3_BROADCAST_ALL_UPGRADE_NOTICE_NEW="v3:broadcast:all:upgrade-notice:new"
t.V3_BROADCAST_USER_DATA="broadcast:user:data"
t.V3_BROADCAST_ORG_DATA="broadcast:org:data"
t.V3_JOIN_ORG_LIST="v3:join:org-list"
t.V3_LEAVE_ORG_LIST="v3:leave:org-list"
t.V3_ACTION_USER_PROFILE_UPDATE="user-profile:update"
t.V3_ACTION_USER_PROFILE_DELETE="user-profile:delete"
t.V3_ACTION_TEAM_UPDATE="team:update"
t.V3_ACTION_TEAM_DELETE="team:delete"
t.V3_ACTION_ORG_UPDATE="org:update"
t.V3_ACTION_USER_NOTIFICATION="user:notification"
t.V3_ACTION_ORDER_PAID="order:paid"
t.V3_ACTION_LIBRARY_ACCESS_UPDATE="library-access:update"
t.V3_ACTION_ORG_ASSET_UPDATE="org-asset:update"
t.V3_ACTION_ORG_ASSET_DELETE="org-asset:delete"
t.V3_ACTION_ORG_ASSET_GROUP_UPDATE="org-asset-group:update"
t.V3_ACTION_ORG_ASSET_GROUP_DELETE="org-asset-group:delete"
t.V3_ACTION_ORG_COMBO_GROUP_UPDATE="org-combo-group:update"
t.V3_ACTION_ORG_COMBO_GROUP_DELETE="org-combo-group:delete"
t.V3_ACTION_ORG_COMBO_DELETE="org-combo:delete"
t.V3_BROADCAST_ORG_LIBRARY_DATA="broadcast:org-library:data"
t.V3_JOIN_ORG_LIBRARY_LIST="v3:join:org-library-list"
t.V3_LEAVE_ORG_LIBRARY_LIST="v3:leave:org-library-list"
t.V3_BROADCAST_TEAM_DATA="broadcast:team:data"
t.V3_JOIN_TEAM_LIST="v3:join:team-list"
t.V3_LEAVE_TEAM_LIST="v3:leave:team-list"
t.V3_ACTION_PROJECT_UPPER_UPDATE="project-upper:update"
t.V3_ACTION_PROJECT_UPPER_DELETE="project-upper:delete"
t.V3_BROADCAST_PROJECT_META_DATA="broadcast:project-meta:data"
t.V3_JOIN_PROJECT_META_LIST="v3:join:project-meta-list"
t.V3_LEAVE_PROJECT_META_LIST="v3:leave:project-meta-list"
t.V3_ACTION_PROJECT_VERSION_RESET="project-version:reset"
t.V3_BROADCAST_PROJECT_META_JSON_SAVE_QUEUE="v3:broadcast:project-meta:json-save-queue"
t.V3_REQUEST_PROJECT_META_JSON_SAVE_QUEUE="v3:request:project-meta:json-save-queue"
t.V3_BROADCAST_PROJECT_META_BUFFER_SAVE_QUEUE="v3:broadcast:project-meta:buffer-save-queue"
t.V3_REQUEST_PROJECT_META_BUFFER_SAVE_QUEUE="v3:request:project-meta:buffer-save-queue"
t.V3_BROADCAST_COMMENT_DATA="broadcast:comment:data"
t.V3_BROADCAST_COMMENT_THREAD_DATA="broadcast:comment-thread:data"
t.LEGACY_JOIN_ORGS="join:orgs"
t.LEGACY_LEAVE_ORGS="leave:orgs"
t.LEGACY_JOIN_TEAMS="join:teams"
t.LEGACY_LEAVE_TEAMS="leave:teams"},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return W}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(5),b=n.n(g),v=n(1),y=n.n(v),x=n(38),w=n.n(x),j=n(69),S=n.n(j),_=n(55),C=n.n(_),O=n(77),k=n(15),E=n(13),M=n.n(E),T=n(45),D=n.n(T),A=n(10),N=n.n(A)
function P(){
var e=D()(["\n  .no-pointer-events {\n    pointer-events: none;\n    user-select: none;\n\n    &.col-resize {\n      cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNyAzLjVWMGw4IDUtOCA1VjYuNUg4VjEwTDAgNWw4LTV2My41aDl6IiBpZD0iYiIvPjxmaWx0ZXIgeD0iLTIwJSIgeT0iLTQwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMjAwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iYSI+PGZlT2Zmc2V0IGR5PSIxIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMS41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNDEyMTA5Mzc1IDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAyKSI+PHVzZSBmaWxsPSIjMDAwIiBmaWx0ZXI9InVybCgjYSkiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSIjRkZGIiB4bGluazpocmVmPSIjYiIvPjwvZz48cGF0aCBkPSJNMjEgNi41VjRsNSAzLTUgM1Y3LjVIMTBWMTBMNSA3bDUtM3YyLjVoMTF6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==') 12 5, default;\n    }\n\n    &.row-resize {\n      cursor: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xNyAzLjVWMGw4IDUtOCA1VjYuNUg4VjEwTDAgNWw4LTV2My41aDl6IiBpZD0iYiIvPjxmaWx0ZXIgeD0iLTIwJSIgeT0iLTQwJSIgd2lkdGg9IjE0MCUiIGhlaWdodD0iMjAwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iYSI+PGZlT2Zmc2V0IGR5PSIxIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMS41IiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNDEyMTA5Mzc1IDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIi8+PC9maWx0ZXI+PC9kZWZzPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoOTAgNS41IDgpIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNhKSIgeGxpbms6aHJlZj0iI2IiLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNiIi8+PC9nPjxwYXRoIGQ9Ik05IDIwLjVoMi41bC0zIDUtMy01SDh2LTExSDUuNWwzLTUgMyA1SDl2MTF6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==') 8 15, default;\n    }\n  }\n"])
return P=function(){return e},e}var I=Object(A.createGlobalStyle)(P()),L=N.a.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-750n6r-0"
})(["position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;height:28px;font-size:12px;border-radius:2px;overflow:hidden;transition:border 0.2s ease-out 0s,outline,opacity;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:",";&.title-cursor{&.col-resize{cursor:url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjdweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMjcgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1ICg3ODA3NikgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8dGl0bGU+57yW57uEPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggZD0iTTEzLDMuNSBMMTMsLTEuNTMxNDI3NDhlLTE1IEwyMSw1IEwxMywxMCBMMTMsNi41IEw4LDYuNSBMOCwxMCBMLTMuMDYxNjE3ZS0xNiw1IEw4LDIuNDQ5MjkzNmUtMTYgTDgsMy41IEwxMywzLjUgWiIgaWQ9InBhdGgtMSI+PC9wYXRoPgogICAgICAgIDxmaWx0ZXIgeD0iLTIzLjglIiB5PSItNDAuMCUiIHdpZHRoPSIxNDcuNiUiIGhlaWdodD0iMjAwLjAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjEiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiPjwvZmVPZmZzZXQ+CiAgICAgICAgICAgIDxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEuNSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC40MTIxMDkzNzUgMCIgdHlwZT0ibWF0cml4IiBpbj0ic2hhZG93Qmx1ck91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgIDwvZmlsdGVyPgogICAgPC9kZWZzPgogICAgPGcgaWQ9Iuiuvue9rumdouadvyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Iue7hOS7tuagt+W8jyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQwLjAwMDAwMCwgLTYyMS4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0i57yW57uEIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0My4wMDAwMDAsIDYyMy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJDb21iaW5lZC1TaGFwZSI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9IiNGRkZGRkYiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LDQuNSBMMTQsMiBMMTksNSBMMTQsOCBMMTQsNS41IEw3LDUuNSBMNyw4IEwyLDUgTDcsMiBMNyw0LjUgTDE0LDQuNSBaIiBpZD0i5b2i54q257uT5ZCIIiBmaWxsPSIjMDAwMDAwIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==') 10 5,default;}&.row-resize{cursor:url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMjYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxwYXRoIGQ9Ik0xMyAzLjVWMGw4IDUtOCA1VjYuNUg4VjEwTDAgNWw4LTV2My41aDV6IiBpZD0iYiIvPjxmaWx0ZXIgeD0iLTIzLjglIiB5PSItNDAlIiB3aWR0aD0iMTQ3LjYlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImEiPjxmZU9mZnNldCBkeT0iMSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEuNSIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjQxMjEwOTM3NSAwIiBpbj0ic2hhZG93Qmx1ck91dGVyMSIvPjwvZmlsdGVyPjwvZGVmcz48ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPjxnIHRyYW5zZm9ybT0icm90YXRlKDkwIDUuNSA4KSI+PHVzZSBmaWxsPSIjMDAwIiBmaWx0ZXI9InVybCgjYSkiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSIjRkZGIiB4bGluazpocmVmPSIjYiIvPjwvZz48cGF0aCBkPSJNOSAxNi41aDIuNWwtMyA1LTMtNUg4di03SDUuNWwzLTUgMyA1SDl2N3oiIGZpbGw9IiMwMDAiLz48L2c+PC9zdmc+') 8 13,default;}}}input{color:",";width:100%;height:100%;margin-left:5px;transition:0.2s ease-out;cursor:default;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:1.5em;height:100%;text-align:center;visibility:hidden;transition:0.2s ease-out;transition-property:background,border,opacity;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";transition:all 0.1s ease-out;&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:22px;border:1px solid transparent;svg{height:10px;width:10px;margin-right:0;}button{height:100%;}}}&.is-disabled{> *{opacity:0.5;cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.title{color:",";}.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 22px);border:1px solid transparent;border-radius:2px;margin-left:0;padding-left:5px;transition:0.2s ease-out;transition-property:outline,border;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";}}&.is-active{input{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}.action.caret{visibility:visible;color:#c8cdd0;&:hover{background:",";}}}}"],(function(e){
return e.theme.common.text_22.cr}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_5.cr}),(function(e){return e.theme.common.text_20.cr}),(function(e){return e.theme.common.text_20.hover}),(function(e){return e.theme.common.text_20.hover}),(function(e){return e.theme.inputNumber.border_color}),(function(e){return e.theme.inputNumber.active_bg}),(function(e){return e.theme.inputNumber.active_bg}),(function(e){return e.theme.inputNumber.active_bg}),(function(e){
return e.theme.inputNumber.active_bg}),(function(e){return e.theme.inputNumber.hover_border}),(function(e){return e.theme.inputNumber.caret_bg_hover}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.inputNumber.caret_bg_hover})),B=n(161),F=n.n(B),R=n(59),z=n.n(R),U=function(e,t){return Number(Number(e).toFixed(t))}
function H(e,t){return t?e:""!==e&&F()(Number(e))?Number(e):""}var G=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return t?10*r:n?100*r:r},V=function(e){var t=e.currentTarget
return setTimeout((function(){return t.select()}),50)},W=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),m()(l()(r),"setElemRef",(function(e){return r.$title=e})),m()(l()(r),"setLabelRef",(function(e){return r.$label=e})),m()(l()(r),"setInputRef",(function(e){return r.$input=e})),m()(l()(r),"onChange",(function(e){var t=e.target.value
r.setValue(t.trim(),e)})),m()(l()(r),"correctNumber",(function(e){var t=r.props,n=t.value,i=t.min,o=t.max,a=t.precision,s=U(Math.min(Math.max(e,i),o),a)
return isNaN(s)?n:s})),m()(l()(r),"checkValidity",(function(e){return/^\+$/.test(e)?r.canBePositive:/^\-$/.test(e)?r.canBeNegative:""===e||isFinite(e)&&r.correctNumber(e)===Number(e)})),m()(l()(r),"setValue",(function(e,t,n){t.persist&&t.persist()
var i=r.props,o=i.value,a=(0,i.parser)(e.toString()).toString(),s=r.checkValidity(a),c=""!==e&&isFinite(a),l=function(e){return""===e||/^0?[\+\-]0*$/.test(e)||/^[\+\-]?\d*\.$/.test(e)}(a)
if(c||l){var u=r.correctNumber(a),d=isNaN(u)?o:u,p=l||!s?a:d
r.setState({value:p,isValid:s},n)}})),m()(l()(r),"setConfirmedValue",(function(e,t){return r.setValue(e,t,(function(){return r.onConfirm(t)}))})),m()(l()(r),"onConfirm",(function(e){var t=r.props,n=t.attr,i=t.value,o=t.precision,a=t.onConfirm,s=t.shouldCorrectOnConfirm,c=r.state.value,l=r.checkValidity(c)
if(!(r.props.isDisabled||r.props.disabled)){e.persist&&e.persist()
var u=r.correctNumber(c),d=isNaN(u)?i:u,p=""===c?i:l?/^[\+\-]$/.test(c)?0:c:u===U(c,o)?u:s?d:i||d
return r.setState({value:p,isValid:!0},(function(){return a(p,n,e)}))}})),m()(l()(r),"focusOnInput",(function(e){try{var t=e.currentTarget.closest("label").querySelector("input")
setTimeout((function(){return t.focus()}))}catch(e){console.error(e)}})),m()(l()(r),"onStep",(function(e){e.persist(),e.nativeEvent.stopPropagation(),r.handleBeforeChangeValue()
var t=e.currentTarget.dataset.action,n=G(e,r.props.step)*("up"===t?1:-1)
r.setConfirmedValue(r.correctNumber(Number(r.state.value)+n),e),r.focusOnInput(e),Object.assign(l()(r),{longPressedTimeout:setTimeout((function(){return Object.assign(l()(r),{steppingInterval:setInterval((function(){return r.setConfirmedValue(r.correctNumber(Number(r.state.value)+n),e)}),30)})}),500)})})),m()(l()(r),"onRelease",(function(){clearTimeout(r.longPressedTimeout),clearInterval(r.steppingInterval),r.handleAfterChangeValue()})),m()(l()(r),"onFocus",(function(e){
var t=r.props,n=t.attr,i=t.dontSelectOnFocus,o=t.onFocus;(void 0===o?i?void 0:V:o)(e,n)})),m()(l()(r),"onKeyDown",(function(e){var t=e.key,n=e.currentTarget,i="ArrowUp"===t?"up":"ArrowDown"===t?"down":"Enter"===t?"enter":"Tab"===t?"tab":null,o=n instanceof Element&&n.matches("input")
if(i){if(e.persist&&e.persist(),"tab"!==i&&e.preventDefault(),o&&"tab"===i)return r.setInactive(),r.onConfirm(e)
if(o&&"enter"===i)return r.onConfirm(e),r.setInactive(),void r.$label.querySelector("input").select()
if(o){var a=G(e,r.props.step)*("up"===i?1:-1)
r.handleBeforeChangeValue(),r.setConfirmedValue(r.correctNumber(Number(r.state.value)+a),e)}}})),m()(l()(r),"setActive",(function(){r.setState({isActive:!0})})),m()(l()(r),"setInactive",(function(){r.setState({isActive:!1})})),m()(l()(r),"toggleMenu",(function(){return r.setState({isMenuOpen:!r.state.isMenuOpen})})),m()(l()(r),"closeMenu",(function(){return r.setState({isMenuOpen:!1})})),m()(l()(r),"onSelect",(function(e){e.persist()
var t=e.currentTarget
r.setConfirmedValue(t.dataset.value,e),r.setInactive(),r.closeMenu()})),m()(l()(r),"onClickOutside",(function(e){var t=e.target
t.closest("label")&&r.$label.contains(t)||(r.onConfirm(e),r.setInactive())})),m()(l()(r),"handleRectResize",(function(e){e.stopPropagation()
var t=r.props,n=t.isDisabled,i=t.disabled,o=t.cursorSize,a=t.cursorDirection
if(!n&&!i){var s=r.$title.getBoundingClientRect(),c=s.left,l=s.right,u=s.top,d=s.bottom
r.lastRecordedClientX="col-resize"===o?(c+l)/2:(u+d)/2,r.lastRecordedValue=Number(r.state.value),r.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",o),r.handleBeforeChangeValue()
var p=function(e){var t=("col-resize"===o?e.pageX:e.pageY)-r.lastRecordedClientX
r.setConfirmedValue(r.correctNumber(r.lastRecordedValue+(a?Number(t):-Number(t))),e)}
document.addEventListener("mousemove",p),document.addEventListener("mouseup",(function e(){r.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",o),r.handleAfterChangeValue(),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",e)}))}})),m()(l()(r),"handleChangeCursor",(function(e){var t=r.props,n=t.isDisabled,i=t.disabled
n||i||r.setState({isCursor:!r.state.isCursor})})),m()(l()(r),"handleAfterChangeValue",(function(e){(0,r.props.onAfterChangeValue)()})),m()(l()(r),"handleBeforeChangeValue",(function(e){(0,r.props.onBeforeChangeValue)()})),r.state={prevProps:r.props,value:H(r.props.value,r.props.isNotVerify),isActive:!1,isMenuOpen:!1,isValid:!0,isTitleActive:!1,isCursor:!1,suffixStyle:null},r.lastRecordedClientX=null,r.lastRecordedValue=H(r.props.value,r.props.isNotVerify),r}return s()(n,[{key:"componentDidMount",
value:function(){this.positionEverything(),this.props.isSelect&&this.$input.select()}},{key:"componentDidUpdate",value:function(e){!e.isSelect&&this.props.isSelect&&this.$input.select()}},{key:"positionEverything",value:function(){var e=this.props,t=e.value,n=e.suffix,r=e.suffixOffsetLeft,i=this.checkValidity(t)
if(this.setState({isValid:i}),n){var o={left:this.$input.offsetLeft+r}
this.setState({suffixStyle:o})}}},{key:"render",value:function(){var e=this.props,t=e.inputClassName,n=e.className,i=e.placeholder,o=e.title,a=e.cursorSize,s=e.suffix,c=e.actionButton,l=e.formatter,u=e.optionList,d=e.canSlidingAdjustment,p=e.readOnly,f=e.onMouseEnter,h=e.onMouseLeave,m=this.state,g=m.value,b=m.isActive,v=m.isValid,y=m.isMenuOpen,j=m.isTitleActive,S=m.isCursor,_=m.suffixStyle,C=this.props.isDisabled||this.props.disabled,k=u&&u.length>0,E=M()(n,"WorkspaceInputNumber",{"is-disabled":C,
"is-active":b&&!C,"is-menu-open":y,"isnt-valid":!v,"is-active-title":j,"can-sliding-adjustment":d,"has-menu":k,"is-readOnly":p})
return Object(r.jsxs)(L,{className:E,ref:this.setLabelRef,onMouseDown:this.setActive,onMouseEnter:f,onMouseLeave:h,children:[o&&Object(r.jsx)("span",{className:M()("title",{"title-cursor":S},a),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:o}),Object(r.jsx)("input",{className:t,type:"text",value:l(g),placeholder:i,ref:this.setInputRef,disabled:C,onChange:this.onChange,onKeyDown:this.onKeyDown,
onKeyUp:this.handleAfterChangeValue,onFocus:this.onFocus}),s&&Object(r.jsx)("span",{className:"suffix",style:_,"data-value":l(g),"data-suffix":s,children:Object(r.jsx)("span",{children:s})}),c&&Object(r.jsx)(Y,{hasMenu:k,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),k&&y&&Object(r.jsx)(O.c,{isOpen:y,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:u,value:g,onChange:this.onSelect,onClose:this.closeMenu}),b&&Object(r.jsx)(w.a,{target:document,
onMouseDown:Object(x.withOptions)(this.onClickOutside,{capture:!0})})]})}},{key:"canBePositive",get:function(){return this.props.max>0}},{key:"canBeNegative",get:function(){return this.props.min<0}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return z()(n,e)?null:{prevProps:e,value:H(e.value,e.isNotVerify)}}}]),n}(g.PureComponent)
m()(W,"propTypes",{step:y.a.number,precision:y.a.number,formatter:y.a.func,parser:y.a.func,value:y.a.oneOfType([y.a.string,y.a.number]),placeholder:y.a.oneOfType([y.a.string,y.a.number]),dontSelectOnFocus:y.a.bool,readOnly:y.a.bool,title:y.a.node,suffix:y.a.string,cursorSize:y.a.string,min:y.a.number,max:y.a.number,suffixOffsetLeft:y.a.number,cursorDirection:y.a.bool,isDisabled:y.a.bool,isNotVerify:y.a.bool,disabled:y.a.bool,canSlidingAdjustment:y.a.bool,actionButton:y.a.bool,isSelect:y.a.bool,
onFocus:y.a.func,onConfirm:y.a.func.isRequired,shouldCorrectOnConfirm:y.a.bool,attr:y.a.oneOfType([y.a.string,y.a.array]),className:y.a.string,optionList:y.a.array,onAfterChangeValue:y.a.func,onMouseEnter:y.a.func,onMouseLeave:y.a.func,onBeforeChangeValue:y.a.func}),m()(W,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",cursorDirection:!0,step:1,suffixOffsetLeft:0,isNotVerify:!1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,
isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:function(){return null},onMouseEnter:function(){return null},onMouseLeave:function(){return null},onAfterChangeValue:function(){return null},onBeforeChangeValue:function(){return null},shouldCorrectOnConfirm:!1,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0})
var Y=Object(g.memo)((function(e){var t=e.hasMenu,n=e.onToggleMenu,i=e.onStep,o=e.onRelease
return Object(r.jsxs)(b.a.Fragment,{children:[t?Object(r.jsx)("div",{className:"action caret",children:Object(r.jsx)(S.a,{type:"text",tabIndex:"-1",onClick:n,children:Object(r.jsx)(k.a,{name:"design/triangle_down"})})}):Object(r.jsxs)("div",{className:"action",children:[Object(r.jsx)(S.a,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:i,onMouseLeave:o,onMouseUp:o,children:Object(r.jsx)(C.a,{name:"triangle_up"})}),Object(r.jsx)(S.a,{type:"text",tabIndex:"-1","data-action":"down",onMouseDown:i,
onMouseLeave:o,onMouseUp:o,children:Object(r.jsx)(C.a,{name:"triangle_down"})})]}),Object(r.jsx)(I,{})]})}))
Y.propTypes={hasMenu:y.a.bool,onToggleMenu:y.a.func,onStep:y.a.func,onRelease:y.a.func}},function(e,t,n){"use strict"
n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))
var r="preview",i="inspect",o="comment"},function(e,t,n){"use strict"
n.d(t,"d",(function(){return r})),n.d(t,"m",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"l",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"q",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"r",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"n",(function(){return b})),
n.d(t,"o",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"k",(function(){return x}))
var r="RECEIVE_RESOURCE_SUCCESS",i=function(e,t){return{type:r,payload:{screenID:e,data:t}}},o="RECEIVE_RESOURCE_ERROR",a=function(e,t){return{type:o,payload:{screenID:e,error:t}}},s="REQUEST_INDIRECT_ENTER_LAYER",c="REQUEST_INDIRECT_SELECTION_LAYER",l="REQUEST_SELECT_LAYER",u="REQUEST_ENTER_LAYER",d=function(e){return{type:l,payload:{layerID:e}}},p=function(e){return{type:c,payload:{layerID:e}}},f="SELECT_LAYER",h=function(e){return{type:f,payload:{layerID:e}}},m="ACTIVATE_LAYER",g=function(e){
return MB.event("preview","点击了 Layer 元素"),{type:m,payload:{layerID:e}}},b=function(e){return{type:u,payload:{layerID:e}}},v=function(e){return{type:s,payload:{layerID:e}}},y="ENTER_LAYER",x=function(e){return{type:y,payload:{layerID:e}}}},,,function(e,t,n){"use strict"
n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}))
var r=n(27),i=function(e){return Object(r.e)("newguide-step",e)},o=function(){return Number(Object(r.b)("newguide-step"))},a=function(){return Object(r.e)("is-new-guiding",!1)},s=function(){return Object(r.b)("new-guide-start-from")},c=function(){return Object(r.b)("is-new-guiding")}},,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"f",(function(){return j}))
var r=n(26),i=n.n(r),o=n(20),a=n(16),s=n(153),c=n(4),l=n.n(c),u=n(149),d=n(87),p=function(e,t){var n=t.filter((function(e){return!["link","panel","sticky"].includes(e.name)})).sort((function(e,t){return e.z-t.z})).map((function(t){var n,r,i,o
return e.overflow_behavior?(i=t.top,o=t.left,n=t.left+t.width,r=t.top+t.height):(n=Math.min(Math.max(t.left+t.width,0),e.width),r=Math.min(Math.max(t.top+t.height,0),e.height),i=Math.min(Math.max(t.top,0),e.height),o=Math.min(Math.max(t.left,0),e.width)),"image_view"===t.name&&t.image_rect?l()(l()({},t),{},{cid:"".concat(e.cid,"-").concat(t.cid),top:e.top+i,left:e.left+o,width:n-o,height:r-i,image_rect:l()(l()({},t.image_rect),{},{center_x:t.image_rect.center_x+e.left,center_y:t.image_rect.center_y+e.top})
}):l()(l()({},t),{},{cid:"".concat(e.cid,"-").concat(t.cid),top:e.top+i,left:e.left+o,width:n-o,height:r-i})}))
return Object(s.d)(n,MB.currentProject.device)},f=function e(t,n,r,i){var o=r[t]
if("group"===o.name){var a=n[t]||{children:[]}
return{cid:o.cid,type:d.a.MB_GROUP,widget:o,children:a.children.map((function(t){return e(t,n,r,i)}))}}if("panel"===o.name){var s=o.cid
return{cid:o.cid,type:d.a.MB_PANEL,widget:o,children:i[s].widgetTreeData.children}}return{cid:o.cid,type:d.a.MB_WIDGET,widget:o,children:[]}},h=function(e,t){return{cid:e.id,type:d.a.SKETCH_ARTBOARD,widget:e,children:t.map((function(e){return{cid:e.cid,type:d.a.SKETCH_LAYER,widget:e,children:[]}}))}},m=n(171),g=function(e){return e.container.layers.activeLayerID},b=function(e){return e.container.layers.resourceByScreen},v=Object(o.createSelector)([a.I,b],(function(e,t){return t[e]||{}
})),y=Object(o.createSelector)([a.c,a.J],(function(e,t){var n=t.activeCid,r=t.screenInfoMap
if(!r[n])return[]
var i=r[n],o=i.screenMeta,a=i.stateCid,c=i.screenRuntimeState.itemListMap[a]
return Object(s.c)(c,e,o)})),x=Object(o.createSelector)([a.I,b,y],(function(e,t,n){var r=t[e]
if(!r)return[]
var o=r.artboardLayer,a=r.sketchLayers
return o?[o].concat(i()(n),i()(a)):n})),w=Object(o.createSelector)([a.J,b,y],(function(e,t,n){var r=e.activeCid,o=e.screenInfoMap
if(!o[r])return{cid:r,type:"screen",widget:{},children:[]}
var a=o[r],s=a.screenMeta,c=a.stateCid,l=a.panelInfoMap,m=t[r]||{artboardLayer:{id:-1},sketchLayers:[]}
return function(e,t,n,r,o){var a=o.artboardLayer,s=o.sketchLayers,c=h(a,s),l=e.cid,m=[]
n.forEach((function(e){if("panel"===e.name){var t=r[e.cid],n=t.currentScreenMetaCid,i=t.currentScreenStateCid,o=t.screenDataMap[n],a=o.screenMeta,s=o.screenRuntimeState.itemListMap[i]||[]
m.push({screenMeta:a,treeId:e.cid,screenCid:n,stateCid:i,widgetList:p(e,s)})}}))
var g="".concat(l,"-").concat(t),b=Object(u.b)({treeId:g,screenCid:l,screenMeta:e,stateCid:t,widgetList:n},m),v=b[g],y=v.widgetMap,x=v.groupMap
return{cid:l,type:d.a.MB_SCREEN,widget:a,children:[].concat(i()(s.length?[c]:[]),i()(x.root.children.map((function(e){return f(e,x,y,b)}))))}}(s,c,n,l,{artboardLayer:m.artboardLayer,sketchLayers:m.sketchLayers})})),j=Object(o.createSelector)([a.I,b],(function(e,t){var n=t[e]
if(!n)return[]
var r=n.sketchLayers
return Object(m.a)(r)}))},,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.PrimaryCoreButton=function(e){return o.default.createElement(_,f({},e,{type:"primary"}))},t.TertiaryCoreButton=function(e){return o.default.createElement(_,f({},e,{type:"tertiary"}))},t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(424)),c=r(n(55)),l=n(35)
function u(){var e=function(e,t){t||(t=e.slice(0))
return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}(["\n  &.RegularButton,\n  &.PrimaryButton,\n  &.PrimaryCoreButton,\n  &.RegularCoreButton,\n  &.SecondaryCoreButton,\n  &.TertiaryCoreButton {\n    padding: 0 0.5em;\n    height: 2.125rem;\n    font-size: 0.875rem;\n    border: 1px solid;\n    border-radius: 2px;\n    cursor: pointer; \n    transition: all 0.2s ease-out;\n    &:not(button) {\n      display: inline-flex;\n      justify-content: center;\n      align-items: center;\n    }\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.6;\n    }\n    .icon {\n      margin-right: 0.125em;\n    }\n    &.small {\n      height: 2em;\n      font-size: 0.75rem;\n    }\n    .svg-icon.loading {\n      margin-right: 0.5em;\n      vertical-align: -.15em;\n      animation: ibot-ani-spinning 1.5s infinite ease-out;\n    }\n  }\n\n  &.PrimaryCoreButton,\n  &.RegularCoreButton,\n  &.SecondaryCoreButton,\n  &.TertiaryCoreButton {\n    padding: 0 1em;\n    height: 2.375rem;\n    &.small {\n      height: 2em;\n    }\n    &:disabled {\n      background-color: #f6f7f8;\n      border-color: #dedee4;\n      color: #c8cdd1;\n      opacity: 1;\n    }\n  }\n\n  &.PrimaryCoreButton {\n    background-color: #eb5648;\n    &,\n    &:link,\n    &:visited {\n      border-color: transparent;\n      color: #fff;\n    }\n    &:enabled:hover,\n    a&:hover {\n      background-color: #ef776c;\n      color: #fff;\n    }\n    &:enabled:active,\n    a&:active {\n      background-color: #bc4439;\n      color: #e4b4b0;\n    }\n  }\n\n  &.RegularCoreButton,\n  &.SecondaryCoreButton {\n    background-color: #fff;\n    &,\n    &:link,\n    &:visited {\n      color: #eb5648;\n    }\n    &:enabled:hover,\n    a&:hover {\n      border-color: #ffa39e;\n      color: #ef776c;\n    }\n    &:enabled:active,\n    a&:active {\n      border-color: #e84030;\n      color: #bc4439;\n    }\n  }\n\n  &.TertiaryCoreButton {\n    background-color: #fff;\n    border-color: #c8cdd1;\n    &,\n    &:link,\n    &:visited {\n      color: #415058;\n    }\n    &:enabled:hover,\n    a&:hover {\n      background-color: #8d9ea7;\n      border-color: #7d8694;\n      color: #fff;\n    }\n    &:enabled:active,\n    a&:active {\n      background-color: #5b6b73;\n      border-color: #415058;\n    }\n  }\n\n  &.RegularButton {\n    &,\n    &:link,\n    &:visited {\n      color: #8d9ea7;\n    }\n    &:enabled:hover,\n    a&:hover {\n      color: #5b6b73;\n    }\n    &:disabled {\n      opacity: 0.6;\n    }\n  }\n\n  &.PrimaryButton {\n    background-color: #8d9ea7;\n    border-color: transparent;\n    &,\n    &:link,\n    &:visited {\n      color: #fff;\n    }\n    &:enabled:hover,\n    a&:hover {\n      background-color: #5b6b73;\n      color: #fff;\n    }\n    &:enabled:active,\n    a&:active {\n      color: rgba(255,255,255,0.6);\n    }\n  }\n\n  &.TextButton,\n  &.TextCoreButton {\n    transition: all 0.1s ease-out;\n    &,\n    &:link,\n    &:visited {\n      color: #298df8;\n    }\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.6;\n    }\n    &:enabled:hover,\n    a&:hover {\n      color: #0d7ef7;\n      text-decoration: underline;\n    }\n    .svg-icon.loading {\n      margin-right: 0.25em;\n      vertical-align: -.15em;\n      animation: ibot-ani-spinning 1.5s infinite ease-out;\n    }\n    .icon {\n      margin-right: 0.125em;\n    }\n    &.small {\n      height: 2em;\n      font-size: 0.75rem;\n    }\n  }\n\n  &.TextCoreButton {\n    &,\n    &:link,\n    &:visited {\n      color: #eb5648;\n    }\n    &:enabled:hover,\n    a&:hover {\n    color: #ef776c;\n    text-decoration: none;\n    }\n    &:enabled:active,\n    a&:active {\n      color: #bc4439;\n    }\n  }\n"])
return u=function(){return e},e}var d=r(n(10)).default.button(u())
function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{}
var n,r,i=function(e,t){if(null==e)return{}
var n,r,i={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n])
return i}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=x(e)
if(t){var i=x(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e)
var t,n,r,i=v(a)
function a(){return m(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.className,t=this.isLoading,n=this.isDisabled,r=this.props,i=r.iconType,a=r.icon,l=r.children,u=h(r,["iconType","icon","children"])
return o.default.createElement(d,f({className:e,disabled:n,onClick:function(e){return n&&e.preventDefault()},type:"button"},(0,s.default)(u,["className","type","theme","isDisabled","disabled","isLoading","loading"])),o.default.createElement(o.default.Fragment,null,t&&o.default.createElement(c.default,{name:"loading"}),a&&"svg"===i&&o.default.createElement(c.default,{name:a}),l))}},{key:"className",get:function(){var e=this.props,t=e.type,n=e.theme,r=e.size,i=e.className,o=this.isDisabled,a=this.isLoading
return(0,l.trimList)(["Button","".concat(j[t]).concat("core"===n?"CoreButton":"Button"),"regular"!==r&&r,a&&"is-loading",o&&"is-disabled",i])}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"isLoading",get:function(){var e=this.props,t=e.isLoading,n=e.loading
return t||n}}])&&g(t.prototype,n),r&&g(t,r),a}(o.PureComponent)
function _(e){return o.default.createElement(S,f({},e,{theme:"core"}))}w(S,"propTypes",{type:a.default.oneOf(["primary","regular","secondary","tertiary","text"]),size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),iconType:a.default.oneOf(["svg","dora","mb","icon","fa","md"]),icon:a.default.string,className:a.default.string,isDisabled:a.default.bool,disabled:a.default.bool,isLoading:a.default.bool,loading:a.default.bool,children:a.default.any,html:a.default.string}),
w(S,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1})
var C=S
t.default=C},,,,,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=n(37),s=r(n(1)),c=r(n(238)),l=r(n(72)),u=r(n(59)),d=r(n(100)),p=n(35),f=r(n(10))
function h(){
var e=g(["\n  &.TipBase {\n    position: fixed;\n    z-index: 1200;\n    pointer-events: none;\n  }\n  .Tip {\n    position: absolute;\n    padding: 0.33em 0.5em;\n    font-size: 12px;\n    line-height: 1.4;\n    pointer-events: none;\n    speak: none;\n    transition-property: opacity, transform;\n    transition-duration: 0.15s;\n    user-select: none;\n    filter: opacity(0.8);\n    &.arrowed {\n      padding: 0.33em 0.75em;\n    }\n    & > .arrow {\n      position: absolute;\n      z-index: 10;\n      display: block;\n      font-size: 14px;\n      line-height: 0;\n      svg {\n        width: 1em;\n        height: 0.375em;\n        fill: #415058;\n      }\n    }\n    &:not(.is-open) {\n      opacity: 0 !important;\n    }\n    &.is-open {\n      opacity: 1;\n    }\n    &.on-top {\n      left: 50%;\n      bottom: 100%;\n      transform: translate(-50%, -10%);\n      &.arrowed {\n        margin-bottom: 0.25em;\n      }\n      &.is-open {\n        transform: translate(-50%);\n      }\n    }\n    &.on-bottom {\n      left: 50%;\n      top: 100%;\n      transform: translate(-50%, 10%);\n      &.arrowed {\n        margin-top: 0.25em;\n      }\n      &.is-open {\n        transform: translate(-50%);\n      }\n    }\n    &.on-left {\n      right: 100%;\n      top: 50%;\n      transform: translate(-10%, -50%);\n      &.is-open {\n        transform: translate(0, -50%);\n      }\n    }\n    &.on-right {\n      left: 100%;\n      top: 50%;\n      transform: translate(10%, -50%);\n      &.is-open {\n        transform: translate(0, -50%);\n      }\n    }\n    &.on-top > .arrow {\n      left: 50%;\n      bottom: 0;\n      transform: translateX(-50%);\n      &.on-top > .arrow svg {\n        transform: rotate(180deg);\n      }\n    }\n    &.on-bottom > .arrow {\n      top: 0;\n      left: 50%;\n      transform: translateX(-50%);\n    }\n    &.on-right > .arrow {\n      top: 50%;\n      left: 0;\n      font-size: 16px;\n      transform: translateY(-50%);\n      svg {\n        transform: rotate(-90deg);\n      }\n    }\n    &.on-left > .arrow {\n      top: 50%;\n      right: 0;\n      font-size: 16px;\n      transform: translateY(-50%);\n      svg {\n        transform: rotate(90deg);\n      }\n    }\n    > .content {\n      position: relative;\n      z-index: 20;\n      padding: 0.5em;\n      width: -moz-max-content;\n      width: max-content;\n      min-width: 3em;\n      max-width: 20em;\n      min-height: 2em;\n      background-color: #415058;\n      -webkit-backdrop-filter: blur(2px);\n      backdrop-filter: blur(2px);\n      border-radius: 2px;\n      color: #fff;\n    }\n  }\n  .CoreTip {\n    filter: opacity(0.9);\n    > .arrow svg {\n      fill: #1e292e;\n    }\n    > .content {\n      padding: 0.5em 0.75em;\n      background-color: #1e292e;\n      border-radius: 4px;\n      box-shadow: 0 2px 8px 0 rgba(0,0,0,0.15);\n    }\n  }\n"])
return h=function(){return e},e}function m(){
var e=g(["\n  div.Tooltip {\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n  }\n  &.Ellipsis {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    display: inline-block;\n    max-width: 100%;\n    vertical-align: bottom;\n    &.isnt-truncated {\n      display: inline;\n      max-width: initial !important;\n    }\n    &.is-truncated:before {\n      content: '';\n      display: block;\n    }\n    &[data-type=user],\n    &[data-type=id] {\n      max-width: 10em;\n    }\n    &[data-type=email] {\n      max-width: 12em;\n    }\n    &[data-type=org] {\n      max-width: 15em;\n    }\n    &[data-type=team] {\n      max-width: 10em;\n    }\n    &[data-type=app] {\n      max-width: 15em;\n    }\n    &[data-type=widget] {\n      max-width: 12em;\n    }\n  }\n"])
return m=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var b=f.default.span(m()),v=f.default.div(h())
function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=M(e)
if(t){var i=M(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return k(this,n)}}function k(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=["hover","click"],A=document.getElementById("IBOT_TOOLTIP_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_TOOLTIP_ROOT"}),N=document.body
function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hover"
return(0,c.default)(e)||(0,l.default)(e)||(0,o.isValidElement)(e)?e:D.includes(t)&&(0,d.default)(e)?e[t]||e.hover:null}N.contains(A)||N.appendChild(A)
var I=function(e){_(n,e)
var t=O(n)
function n(){var e
w(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return T(E(e=t.call.apply(t,[this].concat(i))),"state",{isOpen:!1,isClicked:!1,$text:null}),T(E(e),"ref",o.default.createRef()),T(E(e),"onClick",(function(t){e.setState({isOpen:!!P(e.props.content,"click"),isClicked:!0}),t.persist(),e.props.onClick(t)})),T(E(e),"onMouseEnter",(function(){return Object.assign(E(e),{hoverTimeout:setTimeout((function(){return e.setState({isOpen:!!P(e.props.content,"hover")},e.props.onMouseEnter)}),e.props.delay)})})),T(E(e),"onMouseLeave",(function(){
clearTimeout(e.hoverTimeout),e.setState({isOpen:!1,isClicked:!1},e.props.onMouseLeave)})),e}return S(n,[{key:"componentDidMount",value:function(){this.props.setRef(this.ref.current)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=t.isOpen,i=this.props.duration,o=this.state.isOpen
i>0&&!r&&o&&(this.timeout=setTimeout((function(){return n.setState({isOpen:!1})}),i))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout),clearTimeout(this.hoverTimeout)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.position,r=e.inflexible,i=e.arrowed,a=e.className,s=e.tipClassName,c=e.content,l=e.html,u=e.children,d=this.state,f=d.isOpen,h=d.isClicked,m=(0,p.trimList)(["Tooltip",a,f?"is-open":"",h?"is-clicked":""]),g=h?"click":"hover"
return o.default.createElement(b,x({ref:this.ref,className:m,onMouseEnter:this.onMouseEnter,onClick:this.onClick,onMouseLeave:this.onMouseLeave},(0,p.getOtherProps)(this.constructor,this.props)),o.default.createElement(o.default.Fragment,null,l?o.default.createElement("span",{dangerouslySetInnerHTML:{__html:l}}):u,o.default.createElement(L,{$text:this.ref.current,isOpen:f,className:s,eventName:g,theme:t,position:n,inflexible:r,arrowed:i},P(c,g))))}}]),n}(o.PureComponent)
T(I,"propTypes",{theme:s.default.oneOf(["core","plain"]),position:s.default.oneOf(["top","right","bottom","left"]).isRequired,arrowed:s.default.bool,inflexible:s.default.bool,className:s.default.string,tipClassName:s.default.string,content:s.default.oneOfType([s.default.node,s.default.shape(D.reduce((function(e,t){return Object.assign(e,T({},t,s.default.node))}),{}))]),onMouseEnter:s.default.func,onClick:s.default.func,onMouseLeave:s.default.func,
delay:s.default.oneOfType([s.default.number,s.default.string]),duration:s.default.oneOfType([s.default.number,s.default.string]),children:s.default.node,html:s.default.string,setRef:s.default.func}),T(I,"defaultProps",{theme:"plain",position:"right",arrowed:!0,inflexible:!1,delay:200,className:"",tipClassName:"",setRef:function(){return null},onClick:function(){return null}})
var L=function(e){_(n,e)
var t=O(n)
function n(){var e
w(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return T(E(e=t.call.apply(t,[this].concat(i))),"state",{prevProps:e.props,isOpen:e.props.isOpen,position:e.props.position}),T(E(e),"ref",o.default.createRef()),T(E(e),"position",(function(){var t=e.props,n=t.$text,r=t.position,i=t.inflexible,o=E(e),a=o.$tipBase,s=o.$tip
if(n&&a&&s){var c,l=!i,u=window.innerWidth-10,d=window.innerHeight-10,f=n.getBoundingClientRect(),h=f.top,m=f.right,g=f.bottom,b=f.left,v=n.offsetWidth,y=n.offsetHeight,x=s.offsetWidth,w=s.offsetHeight,j=b+v/2,S=h+y/2,_={},C={},O=function(e){return Object.assign(C,e)}
switch(c={top:"".concat(h,"px"),left:"".concat(b,"px"),width:"".concat(v,"px"),height:"".concat(y,"px")},Object.assign(_,c),l&&("top"===r&&h-w<10?e.setState({position:"bottom"}):"bottom"===r&&g+w>d?e.setState({position:"top"}):"left"===r&&b-x<10?e.setState({position:"right"}):"right"===r&&m+x>u&&e.setState({position:"left"})),r){case"top":case"bottom":var k=(x-18)/2+6,M=j-x/2<10?Math.min(x/2-j-6,k):j+x/2>u?Math.max(6-(x/2-(u+10-j)),-k):0
0!==M&&O({transform:"translateX(".concat(M,"px)")})
break
case"left":case"right":var T=(w-18)/2-6,D=w>50&&(S-5<=d/2&&S-w/2<10?Math.min(w/2-S-6,T):S-5>d/2&&S+w/2>d?Math.max(-(w/2-(d+10-S)),-T):0)
0!==D&&O({transform:"translateY(".concat(D,"px)")})}Object.assign(a.style,_),Object.assign((0,p.$)(".content",s).style,C),s.classList.add("is-open")}})),T(E(e),"onTransitionEnd",(function(){e.props.isOpen?e.$tip.classList.add("is-open"):e.setState({isOpen:!1})})),e}return S(n,[{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen
!t&&n?this.position():t&&!n&&this.$tip&&this.$tip.classList.remove("is-open")}},{key:"render",value:function(){return(0,a.createPortal)(this.tip,A)}},{key:"$tipBase",get:function(){return this.ref.current}},{key:"$tip",get:function(){return this.$tipBase&&(0,p.$)(".Tip",this.$tipBase)}},{key:"tip",get:function(){var e=this.props,t=e.className,n=e.theme,r=e.inflexible,i=e.arrowed,a=e.children,s=this.state,c=s.isOpen,l=s.position,u=(0,
p.trimList)(["core"===n?"Tip CoreTip":"Tip",t,"on-".concat(l),r&&"inflexible",i&&"arrowed"])
return c&&o.default.createElement(v,{className:"TipBase",ref:this.ref},o.default.createElement("div",{className:u,onTransitionEnd:this.onTransitionEnd},i&&o.default.createElement("div",{className:"arrow",dangerouslySetInnerHTML:{__html:p.SVG.DROPDOWN_ARROW}}),o.default.createElement("div",{className:"content"},a)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return(0,u.default)(n,e)?null:{prevProps:e,isOpen:e.isOpen,position:e.position}}}]),n}(o.PureComponent)
T(L,"propTypes",{isOpen:s.default.bool,className:s.default.string,eventName:s.default.oneOf(D),$text:s.default.instanceOf(Element),theme:s.default.oneOf(["plain","core"]),position:s.default.oneOf(["top","right","bottom","left"]),inflexible:s.default.bool,arrowed:s.default.bool,children:s.default.node})
var B=I
t.default=B},,,function(e,t,n){"use strict"
n.d(t,"d",(function(){return te})),n.d(t,"c",(function(){return ne})),n.d(t,"a",(function(){return re})),n.d(t,"b",(function(){return ie}))
var r=n(183),i=n.n(r),o=n(0),a=n(4),s=n.n(a),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),f=n.n(p),h=n(8),m=n.n(h),g=n(9),b=n.n(g),v=n(2),y=n.n(v),x=n(5),w=n(37),j=n(1),S=n.n(j),_=n(38),C=n.n(_),O=n(91),k=n.n(O),E=n(72),M=n.n(E),T=n(59),D=n.n(T),A=n(182),N=n.n(A),P=n(155),I=n.n(P),L=n(35),B=n(161),F=n.n(B),R=n(238),z=n.n(R)
function U(e){var t=e.$opener,n=e.$menuBase,r=e.menuBaseStyle,i=void 0===r?{}:r,o=(e.inflexible,e.shouldSetMaxHeight),a=void 0!==o&&o,s=e.$menuContainer,c=e.$fontTip
if(t&&n){var l,u=n.querySelector("*"),d=(Object(L.$)("li[role=option].is-active",u)||Object(L.$)("li[role=option]",u)||Object(L.$)("li[role=empty-msg]",u)).getBoundingClientRect(),p=u.getBoundingClientRect(),f={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},h=function(e){return Object.assign(f.styleFor$menu,e)},m=function(e){return Object.assign(f.styleFor$menuContainer,e)},g=function(e){return Object.assign(f.styleFor$fontTip,e)},b=(u.offsetWidth,
u.offsetHeight),v=i.width||t.offsetWidth,y=i.height||t.offsetHeight,x=t.getBoundingClientRect(),w=Object.assign({top:x.top,right:x.right,bottom:x.bottom,left:x.left},i),j=w.top,S=(w.right,w.bottom),_=w.left
l={top:"".concat(j,"px"),left:"".concat(_,"px"),width:"".concat(v,"px"),height:"".concat(y,"px")},Object.assign(f.styleFor$menuBase,l)
var C=window.innerHeight,O=C-10,k=j+y,E=0,M=0,T=(d.top-p.top)/.8
E=W(p,d)?-T:-T+(M=d.bottom/.8-p.bottom/.8)
var D=0
return c&&(D=c.getBoundingClientRect().height),k+b+9+E+D<C?(f.isDownward=!0,W(p,d)?(m({top:"".concat(E,"px")}),c&&g({top:"".concat(E+p.height/.8,"px"),width:"".concat(p.width/.8,"px")})):(m({top:"".concat(E,"px")}),s.scrollTop=M,c&&g({top:"".concat(E+p.height/.8,"px"),width:"".concat(p.width/.8,"px")})),a&&S+b>O&&h({maxHeight:"".concat(O-S,"px")})):(f.isDownward=!1,a&&j-b<10&&h({maxHeight:"".concat(j-10,"px")})),Object.assign(n.style,f.styleFor$menuBase),Object.assign(u.style,f.styleFor$menu),
Object.assign(s.style,f.styleFor$menuContainer),c&&Object.assign(c.style,f.styleFor$fontTip),f}}function H(e){return z()(e)||F()(e)||Object(x.isValidElement)(e)?e:e.label||e.value?e.label||e.value:void 0}function G(e){return z()(e)||F()(e)?String(e):e.value||e.label?String(e.value||e.label):void 0}function V(e,t){return!!t&&G(e)===String(t)}function W(e,t){return t.top/.8>=e.top/.8&&t.bottom/.8<=e.bottom/.8}var Y=n(10),Z=n.n(Y),q=Z.a.label.withConfig({displayName:"styles__StyledSelect",
componentId:"sc-1g6qy3m-0"
})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:",";cursor:pointer;button{display:block;height:100%;color:",";text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.caret{padding:0 0.5em;color:",";height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:#1e98ea;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border-color:",";.caret{margin-left:auto;visibility:visible;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"],(function(e){
return e.theme.common.text_5.cr}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_9.cr}),(function(e){return e.theme.select.border_color})),X=Z.a.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-1g6qy3m-1"
})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:",";color:",";border-radius:2px;background-color:",";pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:",";border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}.SelectOption{display:flex;align-items:center;height:28px;line-height:28px;cursor:pointer;& > .Ellipsis{padding:0 16px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{background-color:",";color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:",";}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:",";span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:",";margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:",";}}"],(function(e){
return e.theme.common.shadow.shadow_3}),(function(e){return e.theme.select.tc}),(function(e){return e.theme.common.menu.event_select.bg}),(function(e){return e.theme.scrollbar.thumb.y_bg}),(function(e){return e.theme.common.menu.event_select.card.active_bg}),(function(e){return e.theme.common.menu.event_select.card.active_tc}),(function(e){return e.theme.common.menu.event_select.card.hover_bg}),(function(e){return e.theme.common.menu.event_select.card.hover_tc}),(function(e){return e.theme.select.divider
}),(function(e){return e.theme.common.text_22.cr}),(function(e){return e.theme.menu.font.family.link_tc}),(function(e){return e.theme.menu.font.family.tip_show_color})),J=n(32),K=document.getElementById("IBOT_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_SELECT_MENU_ROOT"}),Q=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"state",{isDownward:!0}),y()(f()(e),"portal",Object(L.preparePortal)(K,"SelectMenuPortal")),y()(f()(e),"menuBaseRef",Object(x.createRef)()),y()(f()(e),"menuContainerRef",Object(x.createRef)()),y()(f()(e),"fontTipRef",Object(x.createRef)()),y()(f()(e),"position",(function(t){var n=e.props.$select,r=f()(e),i=r.menuBaseRef.current,o=r.menuContainerRef.current,a=r.fontTipRef.current
if(t){var s=k()(t,"target")
if(s&&N()(s)&&s.matches(".WorkspaceSelectMenu"))return}var c=U({$menuBase:i,$opener:n,shouldSetMaxHeight:!1,$menuContainer:o,$fontTip:a}).isDownward
e.setState({isDownward:c,isTransform:!0})})),y()(f()(e),"onChange",(function(t){var n=e.props.onChange,r=e.state.isDownward,i=t.currentTarget,o=i.closest(".WorkspaceSelectMenu")
if(!i||!o)return e.onlose()
var a=i.getBoundingClientRect(),s=a.top,c=a.bottom,l=o.getBoundingClientRect(),u=l.top,d=l.bottom
if(r&&s>=u||!r&&c<=d){if(i.classList.contains("title"))return
return n(t)}return e.onClose()})),y()(f()(e),"onClose",(function(){(0,e.props.onClose)()})),y()(f()(e),"onClickOutside",(function(t){var n=t.target,r=e.props.$select,i=!K.contains(n),o=n.closest("label"),a=o&&o.contains(r)
i&&!a&&e.onClose()})),e}return d()(n,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current
Object(L.preventScrollingPropagation)(Object(L.$)(".WorkspaceSelectMenu",e)),this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return Object(w.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){
var e=this,t=this.props,n=t.isOpen,r=t.isDisabled,i=t.menuTheme,a=t.menuClassName,s=t.optionList,c=t.emptyMsg,l=t.value,u=t.canSelect,d=this.state,p=d.isDownward,f=d.isTransform,h=0===s.length,m=Object(L.trimList)(["WorkspaceSelectMenu",a,f&&"is-open",p?"is-downward":"is-upward",r&&"is-disabled",h&&"is-empty",u?"can-select":"cant-select"]),g=Object(L.trimList)(["font-select-menu-tip","is-show"])
return Object(o.jsxs)(X,{ref:this.menuBaseRef,children:[Object(o.jsx)("ul",{className:m,ref:this.menuContainerRef,children:h?Object(o.jsx)("li",{className:"SelectOption empty-msg",children:c}):s.map((function(t,n){return M()(t)?Object(o.jsx)(re,{menuTheme:i,optionList:t,value:l,onChange:e.onChange},n):Object(o.jsx)(ie,{menuTheme:i,isActive:V(t,l),option:t,isDisabled:t.isDisabled,onChange:e.onChange},n)}))}),Object(o.jsxs)("div",{className:g,ref:this.fontTipRef,
children:[I18N.Common.font_commercial_use_info,Object(o.jsx)("a",{target:"_blank",className:"font-link",rel:"noopener noreferrer",href:J.a.MB_LINK.ARTICLE__BUSINESS_FONT_STATE,children:I18N.Common.learn_more})]}),n&&Object(o.jsx)(C.a,{target:document,onClick:this.onClickOutside})]})}}]),n}(x.PureComponent)
y()(Q,"propTypes",{menuTheme:S.a.string,menuClassName:S.a.string,emptyMsg:S.a.string,optionList:S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool}),S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool})]))])).isRequired,value:S.a.oneOfType([S.a.number,S.a.string]),isDisabled:S.a.bool,onChange:S.a.func,isOpen:S.a.bool,canSelect:S.a.bool,onClose:S.a.func,$select:S.a.instanceOf(Element)}),y()(Q,"defaultProps",{isOpen:!1,
isTransform:!1})
var $=document.getElementById("IBOT_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_SELECT_MENU_ROOT"}),ee=document.body
ee.contains($)||ee.appendChild($)
var te=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"state",{isOpen:!1,prevProps:e.props,value:e.props.value}),y()(f()(e),"set$select",(function(t){return e.setState({$select:t})})),y()(f()(e),"open",(function(){return e.setState({isOpen:!0})})),y()(f()(e),"close",(function(){return e.setState({isOpen:!1})})),y()(f()(e),"toggle",(function(){return e.setState({isOpen:!e.state.isOpen})})),y()(f()(e),"onResizeWindow",(function(){return e.state.isOpen&&e.close()})),y()(f()(e),"onChange",(function(t){
return e.setState({value:t},(function(){e.close(),e.props.onChange(t,e.props.attr)}))})),y()(f()(e),"onSelect",(function(t){var n=t.currentTarget,r=e.props.value,i=f()(e).canSelect
return e.onChange(i?n.dataset.value:r)})),e}return d()(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.unstyled,r=e.className,i=e.isFontSelectMenu,a=e.onMouseEnter,c=e.onMouseLeave,l=this.state,u=l.isOpen,d=l.$select,p=l.value,f=this.isDisabled,h=this.readOnly,m=this.canSelect,g=Object(L.trimList)(["WorkspaceSelect",t,n&&"unstyled",r,u&&"is-open",f&&"is-disabled",h&&"readonly"])
return Object(o.jsxs)(q,{className:g,role:"listbox",ref:this.set$select,children:[Object(o.jsx)("button",{onClick:this.toggle,disabled:f,children:this.displayText}),Object(o.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:'<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>'}}),u&&(i?Object(o.jsx)(Q,s()(s()({isOpen:u},this.props),{},{
value:p,$select:d,canSelect:m,onChange:this.onSelect,onClose:this.close})):Object(o.jsx)(ne,s()(s()({isOpen:u},this.props),{},{value:p,$select:d,canSelect:m,onChange:this.onSelect,onMouseEnter:a,onMouseLeave:c,onClose:this.close})))]})}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canSelect",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}},{key:"displayText",get:function(){var e=this.props,t=e.optionList,n=e.placeholder,r=this.state.value,i=(t.find((function(e){return M()(e)&&e.slice(0).some((function(e){return V(e,r)}))}))||t).find((function(e){return!M()(e)&&V(e,r)}))
return i?H(i):n}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return D()(n,e)?null:{prevProps:e,value:e.value}}}]),n}(x.PureComponent)
y()(te,"propTypes",{size:S.a.oneOf(["regular","small"]),theme:S.a.oneOf(["core","plain"]),menuTheme:S.a.oneOf(["core","plain","check"]),unstyled:S.a.bool,className:S.a.string,menuClassName:S.a.string,placeholder:S.a.string,optionList:S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool}),S.a.arrayOf(S.a.oneOfType([S.a.node,S.a.shape({label:S.a.node,value:S.a.any,isDisabled:S.a.bool})]))])).isRequired,value:S.a.oneOfType([S.a.number,S.a.string]),isDisabled:S.a.bool,
disabled:S.a.bool,readOnly:S.a.bool,onChange:S.a.func,onMouseEnter:S.a.func,onMouseLeave:S.a.func}),y()(te,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one…",emptyMsg:"Nothing to display…",optionList:[],isDisabled:!1,onChange:function(){return null},onMouseEnter:function(){return null},onMouseLeave:function(){return null}})
var ne=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"state",{isDownward:!0}),y()(f()(e),"portal",Object(L.preparePortal)($,"SelectMenuPortal")),y()(f()(e),"menuBaseRef",Object(x.createRef)()),y()(f()(e),"menuContainerRef",Object(x.createRef)()),y()(f()(e),"position",(function(t){var n=e.props.$select,r=f()(e),i=r.menuBaseRef.current,o=r.menuContainerRef.current
if(t){var a=k()(t,"target")
if(a&&N()(a)&&a.matches(".WorkspaceSelectMenu"))return}var s=U({$menuBase:i,$opener:n,shouldSetMaxHeight:!1,$menuContainer:o}).isDownward
e.setState({isDownward:s,isTransform:!0})})),y()(f()(e),"onChange",(function(t){var n=e.props.onChange,r=e.state.isDownward,i=t.currentTarget,o=i.closest(".WorkspaceSelectMenu")
if(!i||!o)return e.onlose()
var a=i.getBoundingClientRect(),s=a.top,c=a.bottom,l=o.getBoundingClientRect(),u=l.top,d=l.bottom
if(r&&s>=u||!r&&c<=d){if(i.classList.contains("title"))return
return n(t)}return e.onClose()})),y()(f()(e),"onClose",(function(){(0,e.props.onClose)()})),y()(f()(e),"onClickOutside",(function(t){var n=t.target,r=e.props.$select,i=!$.contains(n),o=n.closest("label"),a=o&&o.contains(r)
i&&!a&&e.onClose()})),e}return d()(n,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current
Object(L.preventScrollingPropagation)(Object(L.$)(".WorkspaceSelectMenu",e)),this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return Object(w.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){
var e=this,t=this.props,n=t.isOpen,r=t.isDisabled,i=t.menuTheme,a=t.menuClassName,s=t.optionList,c=t.emptyMsg,l=t.value,u=t.canSelect,d=t.onMouseEnter,p=t.onMouseLeave,f=this.state,h=f.isDownward,m=f.isTransform,g=0===s.length,b=Object(L.trimList)(["WorkspaceSelectMenu",a,m&&"is-open",h?"is-downward":"is-upward",r&&"is-disabled",g&&"is-empty",u?"can-select":"cant-select"])
return Object(o.jsxs)(X,{ref:this.menuBaseRef,children:[Object(o.jsx)("ul",{className:b,ref:this.menuContainerRef,children:g?Object(o.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:c}):s.map((function(t,n){return M()(t)?Object(o.jsx)(re,{menuTheme:i,optionList:t,value:l,onChange:e.onChange,onMouseEnter:d,onMouseLeave:p},n):Object(o.jsx)(ie,{menuTheme:i,isActive:V(t,l),option:t,isDisabled:t.isDisabled,onChange:e.onChange,onMouseEnter:d,onMouseLeave:p},n)}))}),n&&Object(o.jsx)(C.a,{
target:document,onClick:this.onClickOutside})]})}}]),n}(x.PureComponent)
function re(e){var t=e.value,n=i()(e.optionList),r=n[0],a=n.slice(1),s=e.menuTheme,c=e.onChange,l=e.onMouseEnter,u=e.onMouseLeave
return Object(o.jsxs)("li",{className:"SelectGroup",children:["HIDDELINE"===r?null:"DIVIDER"===r?Object(o.jsx)("div",{className:"divider"}):Object(o.jsx)(I.a,{className:"title",onClick:c,children:r}),Object(o.jsx)("ul",{children:a.map((function(e,n){return Object(o.jsx)(ie,{menuTheme:s,option:e,isActive:V(e,t),isDisabled:e.isDisabled,onChange:c,onMouseEnter:l,onMouseLeave:u},n)}))})]})}function ie(e){var t=e.option,n=e.isActive,r=e.isDisabled,i=(e.menuTheme,
e.onChange),a=e.onMouseEnter,s=e.onMouseLeave,c=Object(L.trimList)(["SelectOption",n&&"is-active",r&&"is-disabled"]),l=H(t),u=G(t)
return Object(o.jsx)("li",{role:"option","data-value":u,className:c,onClick:r?void 0:i,onMouseEnter:a,onMouseLeave:s,children:Object(o.jsx)(I.a,{children:l})})}y()(ne,"propTypes",s()(s()({},te.propTypes),{},{isOpen:S.a.bool,canSelect:S.a.bool,onChange:S.a.func,onClose:S.a.func,$select:S.a.instanceOf(Element)})),y()(ne,"defaultProps",{isOpen:!1,isTransform:!1}),re.propTypes={value:S.a.oneOfType([S.a.string,S.a.number]),optionList:S.a.array,onChange:S.a.func,menuTheme:S.a.string,onMouseEnter:S.a.func,
onMouseLeave:S.a.func},ie.propTypes={isActive:S.a.bool,option:S.a.oneOfType([S.a.node,S.a.object]),isDisabled:S.a.bool,menuTheme:S.a.string,onChange:S.a.func,onMouseEnter:S.a.func,onMouseLeave:S.a.func}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0})
var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}
t.createReduxEntry=function(){var e=null,t={},n=function(e,n){if("string"!=typeof e)throw new Error("[ReduxEntry][setEntry] non-string actionType: "+e)
if("function"!=typeof n)throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+e+", "+n)
t[e]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+e),t[e]=n}
return{middleware:function(n){if("function"!=typeof n.getState||"function"!=typeof n.dispatch)throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore")
if(null!==e)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore")
return e=n,function(n){return function(r){return!0===function(n){var r=t[n.type]
return r&&r(e,n)}(r)||n(r)}}},setEntry:n,setEntryMap:function(e){return Object.keys(e).forEach((function(t){return n(t,e[t])}))}}},t.createStateStore=function(e){if(void 0===e)throw new Error("[ReduxEntry][createStateStore] initialState expected")
return{getState:function(){return e},setState:function(t){return e=t},wrapEntry:function(t){return function(n,r){return t(e,n,r)}}}},t.createStateStoreReducer=function(e,t){var n=t.getState,r=t.setState
return function(t,i){var o=i.type,a=i.payload
return o===e&&r(a),n()}},t.createStateStoreMergeReducer=function(e,t){var n=t.getState,i=t.setState
return function(t,o){var a=o.type,s=o.payload
return a===e&&i(r({},n(),s)),n()}}},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r=function(e){MB.eventTarget.dispatchEvent({type:"GUIDE_EVENT",nextStep:e})}},function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(59)),c=n(35)
function l(){var e=function(e,t){t||(t=e.slice(0))
return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}(["\n  position: relative;\n  display: inline-block;\n  margin: 0 0.125em;\n  width: 42px;\n  height: 16px;\n  vertical-align: text-bottom;\n  background-color: #c8cdd1;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.2s ease-in;\n  transition-delay: 0.15s;\n  &.readonly {\n    cursor: default;\n  }\n  > button {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    transform: translateY(-50%);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 22px;\n    height: 22px;\n    font-size: 14px;\n    border: 2px solid #d0d7dd;\n    border-radius: 50%;\n    background-color: #fff;\n    box-shadow: 0 4px 4px 0 rgba(0,0,0,0.04);\n    cursor: inherit;\n    transition: all 0.2s cubic-bezier(0.55, 0.06, 0.68, 0.19);\n  }\n  &.small {\n    width: 26px;\n    height: 10px;\n    vertical-align: baseline;\n    > button {\n      width: 14px;\n      height: 14px;\n      border-width: 1px;\n    }\n  }\n  &.is-checked {\n    background-color: #eb5648;\n    > button {\n      transform: translate(21px, -50%);\n      cursor: inherit;\n    }\n    &.small > button {\n      transform: translate(13px, -50%);\n    }\n  }\n\n  &.is-disabled {\n    background-color: #dedee4;\n    cursor: not-allowed;\n    &.is-checked {\n      background-color: rgba(235,86,72,0.35);\n    }\n    button {\n      background-color: #f6f7f8;\n    }\n  }\n"])
return l=function(){return e},e}var u=r(n(10)).default.label(l())
function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=v(e)
if(t){var i=v(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e)
var t,n,r,i=m(a)
function a(){var e
p(this,a)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return y(b(e=i.call.apply(i,[this].concat(n))),"state",{prevProps:e.props,isChecked:e.props.isChecked}),y(b(e),"toggle",(function(t){var n=t.target,r=e.props.onChange,i=e.state.isChecked,o=b(e),a=o.isDisabled,s=o.canToggle?!i:i
return n.blur(),e.setState({isChecked:s}),!a&&r(s)})),e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return(0,s.default)(n,e)?null:{prevProps:e,isChecked:e.isChecked}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.size,n=e.readOnly,r=e.children,i=this.state.isChecked,a=this.isDisabled
return o.default.createElement(u,{className:(0,c.trimList)(["Switch",t,i?"is-checked":"isnt-checked",a&&"is-disabled",n&&"readonly"])},o.default.createElement("button",{type:"button",disabled:a,onClick:this.toggle}),r)}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}])&&f(t.prototype,n),r&&f(t,r),a}(o.PureComponent)
y(x,"propTypes",{className:a.default.string,size:a.default.oneOf(["regular","small"]),isChecked:a.default.bool,isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,onChange:a.default.func,children:a.default.any}),y(x,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null}})
var w=x
t.default=w},,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return p}))
var r=n(0),i=n(1),o=n.n(i),a=n(5),s=n.n(a),c=n(13),l=n.n(c),u=n(267),d=Object(a.memo)((function(e){var t=e.activeIndex,n=e.className,i=e.children,o=e.onTabChange
return Object(r.jsx)(u.a,{className:l()(n),children:a.Children.map(i,(function(e,n){var r={index:n,active:n===t,onClick:o}
return s.a.cloneElement(e,r)}))})}))
d.propTypes={activeIndex:o.a.number,className:o.a.string,children:o.a.array,onTabChange:o.a.func},d.defaultProps={activeIndex:0}
var p=Object(a.memo)((function(e){var t=e.className,n=e.index,i=e.active,o=e.onClick,a=e.label
return Object(r.jsxs)("li",{className:l()("nav-item",{active:i},t),onClick:function(e){o(n)},children:[a&&Object(r.jsx)("span",{className:"nav-label",children:a}),i&&Object(r.jsx)("span",{className:"nav-underline"})]})}))
p.propTypes={index:o.a.number,className:o.a.string,label:o.a.string,active:o.a.bool,onClick:o.a.func},t.b=d},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.applyProjectDumpPatchListMutate=t.walkProjectStoreChangeMap=t.createProjectStore=t.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT=t.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST=t.EVENT_CHANGE_APPLY_SERVER_PATCH=t.EVENT_CHANGE_RESET_SERVER_WITH_DUMP=t.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP=t.EVENT_CHANGE_LOAD_LOCAL=void 0
var i=r(n(23)),o=r(n(26)),a=r(n(4)),s=n(101),c=n(127),l=n(318),u=n(105),d=n(462),p=n(463)
t.EVENT_CHANGE_LOAD_LOCAL="project-store:load-local"
t.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP="project-store:reset-local-with-dump"
t.EVENT_CHANGE_RESET_SERVER_WITH_DUMP="project-store:reset-server-with-dump"
t.EVENT_CHANGE_APPLY_SERVER_PATCH="project-store:apply-server-patch"
t.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST="project-store:reduce-local-update-action-list"
t.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT="project-store:merge-local-project-document"
t.createProjectStore=function(e){var t=e.projectMetaCid,n=e.projectMetaType,r=e.getServerTimestamp,f=void 0===r?c.getLocalTimestamp:r,h=e.eventSource,m=void 0===h?(0,s.createEventTarget)():h,g=e.onChange,b=void 0===g?function(e,t,n){return m.dispatchEvent((0,a.default)({type:e,projectMetaCid:n},t))}:g,v=(0,d.createJsonDataReducerMap)(f),y=(0,d.createJsonDataStore)({dataName:"projectMeta",onLocalDataDelete:function(e){x.unloadLocalWithFilter((function(t){return t.project_meta_cid!==e.cid}))},
onServerDataDelete:function(e){x.unloadServerWithFilter((function(t){return t.project_meta_cid!==e.cid}))},JSON_DATA_REDUCER_MAP:v}),x=(0,d.createJsonDataStore)({dataName:"screenGlue",onLocalDataDelete:function(e){w.unloadLocalWithFilter((function(t){return t.screen_glue_cid!==e.cid}))},onServerDataDelete:function(e){w.unloadServerWithFilter((function(t){return t.screen_glue_cid!==e.cid}))},JSON_DATA_REDUCER_MAP:v}),w=(0,d.createJsonDataStore)({dataName:"screenMeta",onLocalDataDelete:function(e){
S.unloadLocalWithFilter((function(t){return t.screenMetaCid!==e.cid}))},onServerDataDelete:function(e){S.unloadServerWithFilter((function(t){return t.screenMetaCid!==e.cid}))},JSON_DATA_REDUCER_MAP:v}),j=(0,p.createRuntimeStateReducerMap)(f),S=(0,p.createScreenRuntimeStateStore)({RUNTIME_STATE_REDUCER_MAP:j}),_=function(){return y.getLocal(t)},C=x.getLocal,O=x.getLocalList,k=x.getLocalCidList,E=w.getLocal,M=w.getLocalList,T=function(e){return w.filterMapLocalList((function(t){return t.screen_glue_cid===e&&t
}))},D=w.getLocalCidList,A=S.getLocalRuntimeState,N=S.getLocalRuntimeStateList,P=function(e,n,r,i,o){if(void 0!==n||void 0!==r||void 0!==i||void 0!==o){var a={projectMetaChangeMap:n,screenGlueChangeMap:r,screenMetaChangeMap:i,screenRuntimeStateChangeMap:o}
return b(e,a,t),a}},I=function(e,t,r,i,o){return P(e,0!==t.length?y.reduceLocalUpdateActionList(t,n):void 0,0!==r.length?x.reduceLocalUpdateActionList(r,n):void 0,0!==i.length?w.reduceLocalUpdateActionList(i,n):void 0,0!==o.length?S.reduceLocalUpdateActionList(o,n):void 0)},L={getLocalProjectMeta:_,getLocalScreenGlueList:O,getLocalScreenMetaListByScreenGlueCid:T,getLocalScreenRuntimeStateByCid:A},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return(0,u.selectProjectStoreLocalProjectDocument)(L,e)},F={has:function(){return!1}}
return{projectMetaCid:t,getServerTimestamp:f,eventSource:m,projectMetaDataStore:y,screenGlueDataStore:x,screenMetaDataStore:w,screenRuntimeStateStore:S,getLocalProjectMeta:_,getLocalScreenGlueByCid:C,getLocalScreenGlueList:O,getLocalScreenGlueCidList:k,getLocalScreenMetaByCid:E,getLocalScreenMetaList:M,getLocalScreenMetaListByScreenGlueCid:T,getLocalScreenMetaCidList:D,getLocalScreenRuntimeStateByCid:A,getLocalScreenRuntimeStateList:N,getLocalScreenRuntimeStateListByScreenGlueCid:function(e){
return w.filterMapLocalList((function(t){return t.screen_glue_cid===e&&S.getLocalRuntimeState(t.cid)}))},loadLocal:function(e){var t=e.projectMetaList,n=e.screenGlueList,r=e.screenMetaList,i=e.screenRuntimeStateList
return P("project-store:load-local",y.loadLocal.apply(y,(0,o.default)(t)),x.loadLocal.apply(x,(0,o.default)(n)),w.loadLocal.apply(w,(0,o.default)(r)),S.loadLocal.apply(S,(0,o.default)(i)))},loadServer:function(e){var t=e.projectMetaList,n=e.screenGlueList,r=e.screenMetaList,i=e.screenRuntimeStateList
y.loadServer.apply(y,(0,o.default)(t)),x.loadServer.apply(x,(0,o.default)(n)),w.loadServer.apply(w,(0,o.default)(r)),S.loadServer.apply(S,(0,o.default)(i))},generateLocalDump:function(e){return{projectMetaCid:t,projectMetaDump:y.generateLocalDump(e),screenGlueDump:x.generateLocalDump(e),screenMetaDump:w.generateLocalDump(e),screenRuntimeStateDump:S.generateLocalDump(e)}},resetLocalWithDump:function(e){var n=e.projectMetaCid,r=e.projectMetaDump,i=e.screenGlueDump,o=e.screenMetaDump,a=e.screenRuntimeStateDump
if(n!==t)throw new Error("[resetLocalWithDump] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return P("project-store:reset-local-with-dump",y.resetLocalWithDump(r),x.resetLocalWithDump(i),w.resetLocalWithDump(o),S.resetLocalWithDump(a))},resetServerWithDump:function(e){var n=e.projectMetaCid,r=e.projectMetaDump,i=e.screenGlueDump,o=e.screenMetaDump,a=e.screenRuntimeStateDump
if(n!==t)throw new Error("[resetServerWithDump] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return P("project-store:reset-server-with-dump",y.resetServerWithDump(r),x.resetServerWithDump(i),w.resetServerWithDump(o),S.resetServerWithDump(a))},previewResetLocalWithDump:function(e){var n=e.projectMetaCid,r=e.projectMetaDump,i=e.screenGlueDump,o=e.screenMetaDump,a=e.screenRuntimeStateDump
if(n!==t)throw new Error("[previewResetLocalWithDump] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return{projectMetaCid:t,projectMetaPreview:y.previewResetLocalWithDump(r),screenGluePreview:x.previewResetLocalWithDump(i),screenMetaPreview:w.previewResetLocalWithDump(o),screenRuntimeStatePreview:S.previewResetLocalWithDump(a)}},hasLocalPatch:function(){return y.hasLocalPatch()||x.hasLocalPatch()||w.hasLocalPatch()||S.hasLocalPatch()},countLocalPatch:function(){return y.countLocalPatch()+x.countLocalPatch()+w.countLocalPatch()+S.countLocalPatch()},generateLocalPatch:function(){return{projectMetaCid:t,
projectMetaType:n,projectMetaPatch:y.generateLocalPatch(),screenGluePatch:x.generateLocalPatch(),screenMetaPatch:w.generateLocalPatch(),screenRuntimeStatePatch:S.generateLocalPatch()}},applyServerPatch:function(e){var n=e.projectMetaCid,r=e.projectMetaPatch,i=e.screenGluePatch,o=e.screenMetaPatch,a=e.screenRuntimeStatePatch
if(n!==t)throw new Error("[applyServerPatch] wrong projectMetaCid: ".concat(n,", expect: ").concat(t))
return P("project-store:apply-server-patch",r&&y.applyServerPatch(r),i&&x.applyServerPatch(i),o&&w.applyServerPatch(o),a&&S.applyServerPatch(a,function(e){return{existLocalBindData:function(t){var n=t.screenMetaCid
return e.hasLocal(n)},existServerBindData:function(t){var n=t.screenMetaCid
return e.hasServer(n)}}}(w)))},reduceLocalUpdateActionList:function(e){var t,n=[],r=[],o=[],a=[],s=(0,i.default)(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value
switch(c.type){case"json-v3:project-meta:delete":case"json-v3:project-meta:update":n.push(c)
break
case"json-v3:screen-glue:delete":case"json-v3:screen-glue:update":r.push(c)
break
case"json-v3:screen-meta:delete":case"json-v3:screen-meta:update":o.push(c)
break
default:a.push(c)}}}catch(e){s.e(e)}finally{s.f()}return I("project-store:reduce-local-update-action-list",n,r,o,a)},selectLocalProjectDocument:B,selectAndRemapLocalProjectDocument:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return(0,u.remapProjectStoreLocalProjectDocument)(B(e),t)},mergeLocalProjectDocument:function(e){var n=e.projectDocument,r=e.ignoreProjectMetaCidSet,o=void 0===r?F:r,a=e.ignoreScreenGlueCidSet,s=void 0===a?F:a,c=e.ignoreScreenMetaCidSet,u=void 0===c?F:c,d=e.ignoreScreenStateCidSet,p=void 0===d?F:d,f=e.ignoreItemCidSet,h=void 0===f?F:f,m=[],g=[],b=[],v=[]
return(0,l.walkProjectDocument)({projectDocument:n,onProjectMeta:function(e){if(e.cid!==t)throw new Error("[mergeLocalProjectDocument] expect projectMeta: ".concat(t,", get: ").concat(e.cid))
!o.has(e.cid)&&m.push({type:"json-v3:project-meta:update",payload:e})},onScreenGlue:function(e){!s.has(e.cid)&&g.push({type:"json-v3:screen-glue:update",payload:e})},onScreenMeta:function(e){!u.has(e.cid)&&b.push({type:"json-v3:screen-meta:update",payload:e})},onScreenState:function(e,t){var n=t.itemList,r=t.screenMeta.cid
!p.has(e.cid)&&v.push({type:"buffer-v3:screen-state-data:update",payload:e,screenMetaCid:r})
var o,a=(0,i.default)(n)
try{for(a.s();!(o=a.n()).done;){var s=o.value
!h.has(s.cid)&&v.push({type:"buffer-v3:screen-state-item:update",payload:s,stateCid:e.cid,screenMetaCid:r})}}catch(e){a.e(e)}finally{a.f()}}}),I("project-store:merge-local-project-document",m,g,b,v)},describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
e("- projectMetaCid: ".concat(t)),y.describe(e),x.describe(e),w.describe(e),S.describe(e)},verify:function(){y.verify(),x.verify(),w.verify(),S.verify()}}}
t.walkProjectStoreChangeMap=function(e,t){var n=e.projectMetaChangeMap,r=e.screenGlueChangeMap,i=e.screenMetaChangeMap,o=e.screenRuntimeStateChangeMap
void 0!==n&&(0,d.walkJsonDataChangeMap)(n,t,"projectMeta"),void 0!==r&&(0,d.walkJsonDataChangeMap)(r,t,"screenGlue"),void 0!==i&&(0,d.walkJsonDataChangeMap)(i,t,"screenMeta"),void 0!==o&&(0,p.walkScreenRuntimeStateChangeMap)(o,t)}
t.applyProjectDumpPatchListMutate=function(e,t){var n,r=e.projectMetaCid,o=e.projectMetaDump,a=e.screenGlueDump,s=e.screenMetaDump,c=e.screenRuntimeStateDump,l=(0,i.default)(t)
try{for(l.s();!(n=l.n()).done;){var u=n.value,h=u.projectMetaCid,m=u.projectMetaPatch,g=u.screenGluePatch,b=u.screenMetaPatch,v=u.screenRuntimeStatePatch
if(r!==h)throw new Error("mismatch cid: ".concat(r," - ").concat(h))
m&&(0,d.applyJsonDataDumpPatchMutate)(o,m),g&&(0,d.applyJsonDataDumpPatchMutate)(a,g),b&&(0,d.applyJsonDataDumpPatchMutate)(s,b),v&&(0,p.applyScreenRuntimeStateDumpPatchMutate)(c,v)}}catch(e){l.e(e)}finally{l.f()}var y=new Map
s.forEach((function(e){var t=e.cid
return y.set(t,1)})),c.forEach((function(e){var t=e.screenMetaCid
return y.has(t)&&y.set(t,2)})),f(s,(function(e){var t=e.cid
return 2===y.get(t)})),f(c,(function(e){var t=e.screenMetaCid
return 2===y.get(t)}))}
var f=function(e,t){for(var n=0,r=0;n<e.length;){var i=e[n]
t(i,n,e)&&(e[r++]=i),n++}return e.length=r,e}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r={SKETCH_ARTBOARD:"sketch-artboard",SKETCH_LAYER:"sketch-layer",MB_SCREEN:"screen",MB_WIDGET:"widget",MB_GROUP:"group",MB_PANEL:"panel"}},,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.SelectMenu=t.$menuRoot=t.default=void 0
var o=i(n(5)),a=n(37),s=r(n(1)),c=i(n(38)),l=r(n(91)),u=r(n(72)),d=r(n(59)),p=r(n(182)),f=r(n(55)),h=r(n(155)),m=n(35),g=n(132),b=r(n(10))
function v(){
var e=w(["\n  position: absolute;\n  margin: 2px 0;\n  padding: 0;\n  display: block;\n  max-width: 20em;\n  min-width: 100%;\n  min-height: 30px;\n  max-height: 300px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  pointer-events: none;\n  font-size: 12px;\n  list-style: none;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 2px 10px 0 rgba(39,54,78,0.08), 4px 12px 40px 0 rgba(39,54,78,0.1);\n  color: #5b6b73;\n  transition: 0.2s ease-out;\n  transition-property: transform, opacity;\n  transform-origin: 50% 0;\n  &::-webkit-scrollbar {\n    display: block;\n    width: 4px;\n    height: 4px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: #ccc;\n    border-radius: 2px;\n  }\n  &::-webkit-scrollbar-track {\n    background-color: rgba(255,255,255,0.5);\n  }\n  &.is-empty {\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n  }\n  &:not(.is-open) {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  &.x-center {\n    left: 50%;\n    transform: translateX(-50%);\n    &:not(.is-open) {\n      transform: scale(0.8) translateX(-50%);\n    }\n  }\n  &.x-right {\n    right: 0;\n  }\n  &.is-downward {\n    top: 100%;\n    bottom: initial;\n  }\n  &.is-upward {\n    transform-origin: 50% 100%;\n    top: initial;\n    bottom: 100%;\n  }\n  &.is-open {\n    opacity: 1;\n    pointer-events: initial;\n  }\n  &.cant-select .SelectOption {\n    cursor: default;\n  }\n\n  .SelectGroup {\n    > .title {\n      padding: 0 0.75em;\n      width: 100%;\n      height: 30px;\n      line-height: 30px;\n      font-weight: bold;\n    }\n    > ul {\n      margin: 0;\n      padding: 0;\n    }\n  }\n  .SelectOption {\n    display: flex;\n    align-items: center;\n    height: 30px;\n    line-height: 30px;\n    cursor: pointer;\n    > .Ellipsis {\n      padding: 0 0.75em;\n    }\n    > .svg-icon {\n      margin-left: auto;\n      margin-right: 0.75em;\n\n      &.check path {\n        fill: #5b6b73;\n      }\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n    &.is-active {\n      color: #298df8;\n    }\n    &:not(.empty-msg):not(.is-disabled):hover,\n    &.is-active {\n      background-color: #f6f7f8;\n    }\n    &.empty-msg {\n      padding: 0 0.5em;\n      color: #8d9ea7;\n      cursor: not-allowed;\n    }\n  }\n  &.CheckSelectMenu {\n    &:not(.is-empty) {\n      padding: 6px 0;\n    }\n    .SelectOption {\n      height: 32px;\n      .Ellipsis {\n        padding: 0 16px;\n      }\n      .Ellipsis + .icon {\n        margin-right: 10px;\n      }\n      &:hover,\n      &.is-active:hover {\n        color: #298df8;\n      }\n      &.is-active {\n        background: none;\n        color: inherit;\n      }\n    }\n  }\n  &.CoreSelectMenu {\n    margin: 4px 0;\n    &:not(.is-empty) {\n      padding: 8px;\n      min-height: 48px;\n      max-height: 336px;\n    }\n    .SelectGroup > .title,\n    .SelectOption {\n      height: 32px;\n      line-height: 32px;\n      border-radius: 2px;\n    }\n  }\n"])
return v=function(){return e},e}function y(){var e=w(["\n  position: fixed;\n  pointer-events: none;\n  z-index: 1100;\n"])
return y=function(){return e},e}function x(){
var e=w(["\n  display: inline-flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 100%;\n  min-width: 3em;\n  height: 34px;\n  color: #5b6b73;\n  cursor: pointer;\n  transition: all 0.2s ease-out;\n  button {\n    flex: 1;\n    width: calc(100% - 2em);\n    height: 100%;\n    text-align: start;\n    cursor: inherit;\n  }\n  .caret {\n    margin: 0 0.75em 0 1em;\n    line-height: 0;\n    color: #8d9ea7;\n    svg {\n      display: block;\n      width: 6px;\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n      transform: rotate(180deg);\n      transition: all 0.3s ease-out;\n    }\n  }\n\n  &:not(.unstyled) {\n    padding-left: .5em;\n    background-color: #f6f7f8;\n    border: 1px solid #f2f2f3;\n    border-radius: 2px;\n  }\n\n  &.small {\n    height: 22px;\n    font-size: 12px;\n    .caret {\n      margin-right: 0.5em;\n    }\n  }\n\n  &:not(.is-disabled):not(.readonly):not(.unstyled):hover,\n  &:not(.unstyled).is-open {\n    border-color: #298df8;\n  }\n\n  &.is-open {\n    &:not(.unstyled) {\n      background-color: #fff;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    .caret svg {\n      transform: rotate(0deg);\n    }\n  }\n\n  &.is-disabled {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n\n  &.readonly {\n    cursor: default\n  }\n\n  &.CoreSelect:not(.unstyled) {\n    background-color: #fff;\n    border: 1px solid #c8cdd1;\n  }\n"])
return x=function(){return e},e}function w(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=b.default.label(x()),S=b.default.div(y()),_=b.default.ul(v())
function C(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?C(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return
if("string"==typeof e)return E(e,t)
var n=Object.prototype.toString.call(e).slice(8,-1)
"Object"===n&&e.constructor&&(n=e.constructor.name)
if("Map"===n||"Set"===n)return Array.from(e)
if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length)
for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n]
return r}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=R(e)
if(t){var i=R(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return B(this,n)}}function B(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=window.I18N,H=void 0===U?{}:U,G=document.getElementById("IBOT_SELECT_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_SELECT_MENU_ROOT"})
t.$menuRoot=G
var V=document.body
V.contains(G)||V.appendChild(G)
var W=function(e){P(n,e)
var t=L(n)
function n(){var e
D(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return z(F(e=t.call.apply(t,[this].concat(i))),"state",{isOpen:!1,prevProps:e.props,value:e.props.value}),z(F(e),"set$select",(function(t){return e.setState({$select:t})})),z(F(e),"open",(function(){return e.setState({isOpen:!0})})),z(F(e),"close",(function(){return e.setState({isOpen:!1})})),z(F(e),"toggle",(function(){return e.setState({isOpen:!e.state.isOpen})})),z(F(e),"onResizeWindow",(function(){return e.state.isOpen&&e.close()})),z(F(e),"onChange",(function(t){return e.setState({value:t},(function(){
e.close(),e.props.onChange(t)}))})),z(F(e),"onSelect",(function(t){var n=t.currentTarget,r=e.props.value,i=F(e).canSelect
return e.onChange(i?n.dataset.value:r)})),e}return N(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.theme,r=e.unstyled,i=e.className,a=e.menuX,s=this.state,c=s.isOpen,l=s.$select,u=s.value,d=this.isDisabled,p=this.readOnly,f=this.canSelect,g=(0,m.trimList)(["core"===n?"CoreSelect":"Select",t,r&&"unstyled",i,c&&"is-open",d&&"is-disabled",p&&"readonly"])
return o.default.createElement(j,{className:g,role:"listbox",ref:this.set$select},o.default.createElement("button",{type:"button",onClick:this.toggle,disabled:d},o.default.createElement(h.default,null,this.displayText)),o.default.createElement("span",{className:"caret",dangerouslySetInnerHTML:{__html:m.SVG.INPUT_ARROW}}),o.default.createElement(Y,T({isOpen:c},this.props,{value:u,$select:l,canSelect:f,onChange:this.onSelect,onClose:this.close,menuX:a})))}},{key:"isDisabled",get:function(){
var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canSelect",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}},{key:"displayText",get:function(){var e=this.props,t=e.optionList,n=e.placeholder,r=e.optionLabelProp,i=this.state.value,o=(t.find((function(e){return(0,u.default)(e)&&e.slice(0).some((function(e){return(0,m.checkOptionByValue)(e,i)}))}))||t).find((function(e){return!(0,u.default)(e)&&(0,m.checkOptionByValue)(e,i)}))
return o?(0,m.getOptionLabel)(o,r):n}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return(0,d.default)(n,e)?null:{prevProps:e,value:e.value}}}]),n}(o.PureComponent)
z(W,"propTypes",{size:s.default.oneOf(["regular","small"]),theme:s.default.oneOf(["core","plain"]),menuTheme:s.default.oneOf(["core","plain","check"]),unstyled:s.default.bool,className:s.default.string,menuClassName:s.default.string,placeholder:s.default.string,optionList:s.default.arrayOf(s.default.oneOfType([s.default.node,s.default.shape({label:s.default.node,value:s.default.any,isDisabled:s.default.bool}),s.default.arrayOf(s.default.oneOfType([s.default.node,s.default.shape({label:s.default.node,
value:s.default.any,isDisabled:s.default.bool})]))])).isRequired,value:s.default.oneOfType([s.default.number,s.default.string]),isDisabled:s.default.bool,disabled:s.default.bool,readOnly:s.default.bool,onChange:s.default.func,menuX:s.default.oneOf(["left","center","right"]),optionLabelProp:s.default.string}),z(W,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:H.select_placeholder||"Choose one…",emptyMsg:H.select_empty_msg||"Nothing to display…",
optionList:[],isDisabled:!1,onChange:function(){return null},menuX:"left"})
var Y=function(e){P(n,e)
var t=L(n)
function n(){var e
D(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return z(F(e=t.call.apply(t,[this].concat(i))),"state",{isDownward:!0}),z(F(e),"portal",(0,m.preparePortal)(G,"SelectMenuPortal")),z(F(e),"menuBaseRef",(0,o.createRef)()),z(F(e),"position",(function(t){var n=e.props,r=n.$select,i=n.menuX,o=F(e).menuBaseRef.current
if(t){var a=(0,l.default)(t,"target")
if(a&&(0,p.default)(a)&&a.matches(".SelectMenu"))return}var s=(0,g.positionMenu)({$menuBase:o,$opener:r,menuX:i,shouldSetMaxHeight:!0}).isDownward
e.setState({isDownward:s})})),z(F(e),"onChange",(function(t){var n=e.props,r=(n.canSelect,n.onChange),i=e.state.isDownward,o=t.currentTarget,a=o.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu")
if(!o||!a)return e.onlose()
var s=o.getBoundingClientRect(),c=s.top,l=s.bottom,u=a.getBoundingClientRect(),d=u.top,p=u.bottom
if(i&&c>=d||!i&&l<=p){if(o.classList.contains("title"))return
return r(t)}return e.onClose()})),z(F(e),"onClose",(function(){(0,e.props.onClose)()})),z(F(e),"scrollIntoActive",(function(){var t=F(e).menuBaseRef.current,n=(0,m.$)("li[role=option].is-active",t)
n&&n.scrollIntoView({block:"start"})})),z(F(e),"onClickOutside",(function(t){var n=t.target,r=e.props.$select,i=!G.contains(n),o=n.closest("label"),a=o&&o.contains(r)
i&&!a&&e.onClose()})),e}return N(n,[{key:"componentDidMount",value:function(){var e=this.menuBaseRef.current;(0,m.preventScrollingPropagation)((0,m.$)(".SelectMenu",e))}},{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen
!t&&n&&(this.position(),this.scrollIntoActive())}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){return(0,a.createPortal)(this.menu,this.portal)}},{key:"menu",get:function(){var e=this,t=this.props,n=t.isOpen,r=t.isDisabled,i=(t.readOnly,t.menuTheme),a=t.menuClassName,s=t.menuX,l=t.optionList,d=t.emptyMsg,p=t.value,f=t.canSelect,h=this.state.isDownward,g=0===l.length,b=(0,
m.trimList)(["core"===i?"CoreSelectMenu":"check"===i?"CheckSelectMenu":"SelectMenu",a,"x-".concat(s),n&&"is-open",h?"is-downward":"is-upward",r&&"is-disabled",g&&"is-empty",f?"can-select":"cant-select"])
return o.default.createElement(S,{ref:this.menuBaseRef,className:"SelectMenuBase"},o.default.createElement(_,{className:b,onTransitionEnd:this.onTransitionEnd},g?o.default.createElement("li",{className:"SelectOption empty-msg"},d):l.map((function(t,n){return(0,u.default)(t)?o.default.createElement(Z,{key:n,menuTheme:i,optionList:t,value:p,onChange:e.onChange}):o.default.createElement(q,{key:n,menuTheme:i,isActive:(0,m.checkOptionByValue)(t,p),option:t,isDisabled:t.isDisabled,onChange:e.onChange})
})),n&&o.default.createElement(c.default,{target:document,onClick:this.onClickOutside}),n&&o.default.createElement(c.default,{target:document,onScroll:(0,c.withOptions)(this.position,{capture:!0})})))}}]),n}(o.PureComponent)
function Z(e){var t=e.value,n=k(e.optionList),r=n[0],i=n.slice(1),a=e.menuTheme,s=e.onChange
return o.default.createElement("li",{className:"SelectGroup"},o.default.createElement(h.default,{className:"title",onClick:s},r),o.default.createElement("ul",null,i.map((function(e,n){return o.default.createElement(q,{key:n,menuTheme:a,option:e,isActive:(0,m.checkOptionByValue)(e,t),isDisabled:e.isDisabled,onChange:s})}))))}function q(e){var t=e.option,n=e.isActive,r=e.isDisabled,i=e.menuTheme,a=e.onChange,s=(0,m.trimList)(["SelectOption",n&&"is-active",r&&"is-disabled"]),c=(0,m.getOptionLabel)(t),l=(0,
m.getOptionValue)(t)
return o.default.createElement("li",{role:"option","data-value":l,className:s,onClick:r?void 0:a},o.default.createElement(h.default,null,c),"check"===i&&n&&o.default.createElement(f.default,{name:"check"}))}t.SelectMenu=Y,z(Y,"propTypes",O(O({},W.propTypes),{},{isOpen:s.default.bool,canSelect:s.default.bool,onChange:s.default.func,onClose:s.default.func,$select:s.default.instanceOf(Element)})),z(Y,"defaultProps",{isOpen:!1}),Z.propTypes={idx:s.default.oneOfType([s.default.number,s.default.string]),
optionList:s.default.array,onChange:s.default.func,menuTheme:s.default.string},q.propTypes={idx:s.default.oneOfType([s.default.number,s.default.string]),option:s.default.oneOfType([s.default.node,s.default.object]),isDisabled:s.default.bool,menuTheme:s.default.string,onChange:s.default.func}
var X=W
t.default=X},,function(e,t,n){"use strict"
var r=n(244)
e.exports=function(e,t,n){var i=null==e?void 0:r(e,t)
return void 0===i?n:i}},function(e,t,n){"use strict";(function(r){var i=n(17)(n(24))
function o(){var e
try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(470)).log=function(){return"object"===("undefined"==typeof console?"undefined":(0,i.default)(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors
if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return
var r="color: "+this.color
e.splice(1,0,r,"color: inherit")
var i=0,o=0
e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0
if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1
return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),
t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],
t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(379))},,,function(e,t,n){"use strict"
n.d(t,"b",(function(){return Ue})),n.d(t,"a",(function(){return ze})),n.d(t,"d",(function(){return Fe})),n.d(t,"c",(function(){return Ze}))
var r=n(21),i=n(28),o=n(0),a=n(7),s=n.n(a),c=n(6),l=n.n(c),u=n(3),d=n.n(u),p=n(8),f=n.n(p),h=n(9),m=n.n(h),g=n(2),b=n.n(g),v=n(5),y=n(1),x=n.n(y),w=n(10),j=n.n(w),S=n(69),_=n.n(S),C=n(4),O=n.n(C),k=n(99),E=n(210),M={value:"",startValue:"",isEditing:!1},T=function(e,t){var n=t.onStart,r=t.onChange,i=t.onEnd;(e=O()(O()({},M),e)).startValue=e.value
var o=Object(E.createStateStore)(e),a=o.subscribe,s=o.unsubscribe,c=o.getState,l=o.setState
return{subscribe:a,unsubscribe:s,getState:c,startEdit:function(){l({isEditing:!0}),n&&n(c()),l({startValue:c().value})},endEdit:function(){l({isEditing:!1}),i&&i(c())},setValue:function(e){c().isEditing&&(l({value:e}),r&&r(c()))}}},D=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
s()(this,n),r=t.call(this,e)
var i=function(e,t){r.setState(e),!t.isEditing&&e.isEditing&&setTimeout(r.focusTextarea,0)}
r.bindEditStore=function(e){r.setState(e.getState()),e.subscribe(i)},r.unbindEditStore=function(e){e.unsubscribe(i)},r.onChange=function(e){return r.props.textEditStore.setValue(e)},r.onKeyDown=function(e){("Enter"===e.key||13===e.which)&&(!r.props.multiline||!e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),r.props.textEditStore.endEdit())}
var o=null
return r.setRef=function(e){o=e&&e.querySelector("textarea")},r.focusTextarea=function(){if(o){o.focus&&o.focus()
var e=o.value.length
o.setSelectionRange(e,e)}},r.autoHeightTextarea=function(){r.props.autoHeight&&o&&(o.style.height="auto",o.style.height="".concat(Math.max(o.scrollHeight+2,o.offsetHeight,r.props.minHeight),"px"))},r}return l()(n,[{key:"componentDidMount",value:function(){this.bindEditStore(this.props.textEditStore),this.focusTextarea()}},{key:"componentDidUpdate",value:function(e){this.props.textEditStore!==e.textEditStore&&(this.unbindEditStore(e.textEditStore),this.bindEditStore(this.props.textEditStore)),
this.autoHeightTextarea()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=void 0===t?"":t,r=e.textEditStore.getState().value
return Object(o.jsx)(A,{ref:this.setRef,children:Object(o.jsx)(k.Textarea,{value:r,placeholder:n,rows:1,onChange:this.onChange,onKeyDown:this.onKeyDown})})}}]),n}(v.PureComponent)
b()(D,"propTypes",{textEditStore:x.a.object.isRequired,placeholder:x.a.string,multiline:x.a.bool,autoHeight:x.a.bool,minHeight:x.a.number})
var A=j.a.div.withConfig({displayName:"TextEditComponent__HackStyleDiv",componentId:"chhddf-0"})(["&&& label{width:100%;}&&& textarea{font-size:12px;resize:none;background-color:",";border:1px solid ",";color:",";caret-color:",";box-shadow:",";&::placeholder{color:",";}&:enabled:not([readonly]):focus{background-color:",";}}"],(function(e){return e.theme.preview.comment.layer.reply_item_bg}),(function(e){return e.theme.preview.comment.layer.reply_border}),(function(e){return e.theme.common.text_3.cr
}),(function(e){return e.theme.common.icon_10.cr}),(function(e){return e.theme.preview.comment.layer.reply_shadow}),(function(e){return e.theme.common.text_22.cr}),(function(e){return e.theme.common.bg.select_bg})),N=function(e,t,n){return Object(o.jsx)(P,{disabled:n,className:"btn-wrap",children:Object(o.jsx)(_.a,{type:"primary",onClick:t,disabled:n,children:e})})},P=j.a.span.withConfig({displayName:"DarkerButton__StyledButton",componentId:"sc-6n8osh-0"
})(["&{height:100%;button{height:100%;background-color:",";color:",";&.is-disabled{opacity:1;}&:not(.is-disabled):hover{background-color:",";}&:not(.is-disabled):active{background-color:",";color:rgba(255,255,255,0.6);}}}"],(function(e){return e.disabled?e.theme.preview.comment.layer.reply_btn_disabled:e.theme.preview.comment.layer.reply_btn}),(function(e){return e.disabled?e.theme.preview.comment.layer.reply_btn_disabled_tc:"#fff"}),(function(e){return e.theme.preview.comment.layer.reply_btn
}),(function(e){return e.theme.preview.comment.layer.reply_btn_active})),I=n(51),L=n(45),B=n.n(L),F=n(74),R=n.n(F),z=n(132),U=n.n(z),H=n(36),G=n.n(H),V=n(281)
function W(){var e=B()(["\n  #IBOT_TOOLTIP_ROOT .TipBase .Tip {\n    .arrow svg {\n      fill: ",";\n    }\n\n    .content {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])
return W=function(){return e},e}function Y(){var e=B()(["\n  .comment-header-delete,\n  .comment-header-edit {\n    box-shadow: ",";\n\n    .content {\n      background-color: ",";\n    }\n\n    .arrow {\n      color: ",";\n    }\n\n    li {\n      color: ",";\n\n      &:not(.is-disabled):hover {\n        color: ",";\n        background-color: "," !important;\n      }\n    }\n  }\n  .comment-header-delete li:hover { color: #eb5648; }\n"])
return Y=function(){return e},e}var Z=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentFooterDiv",componentId:"sc-1nso69d-0"})(["display:flex;align-items:center;justify-content:space-between;padding:0 10px 10px;line-height:20px;color:",";opacity:0.75;"],(function(e){return e.theme.common.text_20.cr})),q=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ReplyToggleDiv",componentId:"sc-1nso69d-1"
})(["cursor:pointer;color:",";&:hover,&:active{color:",";}> span{margin-right:6px;opacity:0.5;}"],(function(e){return e.theme.common.text_19.cr}),(function(e){return e.theme.common.text_20.hover})),X=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ReplyDropdownDiv",componentId:"sc-1nso69d-2"})(["padding:10px 0;background:",";span.btn-wrap{width:100%;height:24px;font-size:12px;.PrimaryButton{width:100%;height:100%;}}"],(function(e){return e.theme.common.bg.input_bg})),J=function(e){
var t=e.sub,n=e.comment,r=e.textEditStore,i=e.cancelEdit
return Object(o.jsx)(K,{className:t?"sub":"",children:r?Object(o.jsxs)($,{children:[Object(o.jsx)(D,{textEditStore:r,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),Object(o.jsxs)(ee,{children:[Object(o.jsx)(_.a,{onClick:i,children:I18N.pComment.cancelEdit}),Object(o.jsx)(_.a,{type:"primary",onClick:r.endEdit,children:I18N.pComment.updateEdit})]})]}):Object(o.jsx)(Q,{children:n.message})})}
J.propTypes={sub:x.a.bool,comment:x.a.object,textEditStore:x.a.object,cancelEdit:x.a.func}
var K=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentMessageDiv",componentId:"sc-1nso69d-3"})(["display:flex;flex-flow:column;width:100%;height:auto;color:",";white-space:nowrap;text-overflow:ellipsis;span{padding:10px;}&.sub span{padding:0 10px 10px;}"],(function(e){return e.theme.common.text_26.cr})),Q=j.a.span.withConfig({displayName:"CommentLayerThreadContent__EditableSpanSpan",componentId:"sc-1nso69d-4"
})(["user-select:text;word-break:break-all;white-space:pre-line;text-overflow:ellipsis;"]),$=j.a.div.withConfig({displayName:"CommentLayerThreadContent__EditableSpanDiv",componentId:"sc-1nso69d-5"})(["background:",";> textarea{margin-bottom:5px;padding:10px;border:1px solid #d3dce6;}"],(function(e){return e.theme.common.bg.input_bg})),ee=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ButtonPanelDiv",componentId:"sc-1nso69d-6"
})(["display:flex;justify-content:flex-end;width:100%;> button{width:60px;height:24px;font-size:12px;margin-left:10px;}.RegularButton{color:",";background:",";&:hover{color:",";background:",";}&:active{color:",";}}.PrimaryButton{color:",";background:",";&:hover{background:",";}}"],(function(e){return e.theme.preview.comment.layer.cancel_btn.cr}),(function(e){return e.theme.preview.comment.layer.cancel_btn.bg}),(function(e){return e.theme.preview.comment.layer.cancel_btn.hover.cr}),(function(e){
return e.theme.preview.comment.layer.cancel_btn.hover.bg}),(function(e){return e.theme.preview.comment.layer.cancel_btn.active.cr}),(function(e){return e.theme.common.text_32.cr}),(function(e){return e.theme.preview.comment.layer.confirm_btn.bg}),(function(e){return e.theme.preview.comment.layer.confirm_btn.hover.bg})),te=function(e){var t=e.sub,n=e.avatar,r=e.name,i=e.markIndex,a=e.startEdit,s=e.doDelete
return Object(o.jsxs)(ne,{className:t?"sub":"",children:[Object(o.jsxs)(oe,{children:[Object(o.jsx)("img",{src:n,width:24,height:24}),Object(o.jsxs)("div",{children:[i&&Object(o.jsx)("span",{className:"index",children:"#".concat(i)}),Object(o.jsx)("span",{className:"name",children:r})]})]}),Object(o.jsxs)(re,{children:[a&&Object(o.jsx)(ae,{onSelect:a,menuClassName:"comment-header-edit",iconName:"cog",text:I18N.pComment.modify_edit}),s&&Object(o.jsx)(ae,{onSelect:s,menuClassName:"comment-header-delete",
iconName:"trash",text:I18N.pComment.modify_delete})]})]})}
te.propTypes={avatar:x.a.string,name:x.a.string,markIndex:x.a.number,startEdit:x.a.func,doDelete:x.a.func,sub:x.a.bool}
var ne=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderDiv",componentId:"sc-1nso69d-7"})(["display:flex;justify-content:space-between;padding-bottom:10px;width:100%;&.sub{padding:10px;}"]),re=j.a.div.withConfig({displayName:"CommentLayerThreadContent__ContentHeaderEditDiv",componentId:"sc-1nso69d-8"})(["display:flex;align-items:center;.icon{color:",";margin-left:5px;&:hover,&:active{color:",";;}}"],(function(e){return e.theme.preview.comment.layer.icon}),(function(e){
return e.theme.preview.comment.layer.icon_hover})),ie=Object(w.createGlobalStyle)(Y(),(function(e){return e.theme.common.shadow.shadow_1}),(function(e){return e.theme.dropdown.list.bg}),(function(e){return e.theme.dropdown.list.bg}),(function(e){return e.theme.common.text_26.cr}),(function(e){return e.theme.dropdown.list.tc}),(function(e){return e.theme.dropdown.list.hover_bg})),oe=j.a.div.withConfig({displayName:"CommentLayerThreadContent__UserInfoDiv",componentId:"sc-1nso69d-9"
})(["display:flex;height:24px;> img{margin-right:10px;border-radius:100%;}> div{display:flex;flex-flow:column;justify-content:center;max-height:24px;font-weight:bold;line-height:12px;.index{vertical-align:middle;color:#f55d54;}.name{max-width:140px;color:",";overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}"],(function(e){return e.theme.common.text_23.cr})),ae=function(e){var t=e.onSelect,n=e.text,r=e.iconName,i=e.menuClassName
return Object(o.jsx)(R.a,{content:{hover:n},duration:1e3,position:"left",children:Object(o.jsx)(U.a,{opener:Object(o.jsx)(G.a,{type:"dora",name:r}),onSelect:t,menuClassName:i,menuList:[n],menuX:"right",arrowed:!0})})}
ae.propTypes={onSelect:x.a.func.isRequired,text:x.a.string.isRequired,iconName:x.a.string.isRequired,menuClassName:x.a.string.isRequired}
var se=Object(w.createGlobalStyle)(W(),(function(e){return e.theme.common.bg.black_bg}),(function(e){return e.theme.common.bg.black_bg}),(function(e){return e.theme.common.text_14.cr})),ce=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
return s()(this,n),(r=t.call(this,e)).focusThread=function(){return!r.props.isScrollFocus&&r.props.commentOperations.setHoverFocusCommentThreadCid(r.props.commentThreadCid)},r.blurThread=function(){return r.props.isBlur&&r.props.commentOperations.setHoverFocusCommentThreadCid(null)},r.setRef=function(e){r.mainRef=e},r.mainRef=null,r.toggleUnfoldComment=function(){r.setState({isUnfold:!r.state.isUnfold}),MB.event("preview","展开评论")},r.state={isUnfold:!1},r}return l()(n,[{key:"componentDidUpdate",
value:function(e){if(this.props.commentList.length>e.commentList.length&&this.setState({isUnfold:!0}),this.props.isScrollFocus&&this.props.isScrollFocus!==e.isScrollFocus&&this.mainRef){var t=this.mainRef.parentElement,n=t.getBoundingClientRect().top,r=t.scrollTop+this.mainRef.getBoundingClientRect().top-n
Object(I.i)(t,r,20)}}},{key:"render",value:function(){var e=this.props,t=e.commentList,n=e.permission,r=e.commentMarkerIndex,i=e.commentOperations,a=e.isBlur
if(!t.length)return null
var s=this.state.isUnfold,c=t[0],l=t.length>3,u=s||!l?t.slice(1):t.slice(1,3)
return Object(o.jsxs)(le,{ref:this.setRef,className:a?"comment-blur":"",onMouseEnter:this.focusThread,onMouseLeave:this.blurThread,children:[Object(o.jsx)(de,{markIndex:r,comment:c,permission:n,commentOperations:i}),u.map((function(e){return Object(o.jsx)(de,{sub:!0,comment:e,permission:i.getPermission(e.user_id),commentOperations:i},e.cid)})),l&&Object(o.jsx)("div",{className:"unfold",onClick:this.toggleUnfoldComment,children:s?I18N.pComment.fold:I18N.pComment.unfold})]})}}]),n}(v.PureComponent)
b()(ce,"propTypes",{permission:x.a.object,isScrollFocus:x.a.bool,isBlur:x.a.bool,commentList:x.a.array,commentMarkerIndex:x.a.number,commentThreadCid:x.a.string,commentOperations:x.a.object})
var le=j.a.div.withConfig({displayName:"CommentLayerThread__CommentThreadDiv",componentId:"sc-4xo0vr-0"})(["width:220px;padding:20px 0;&.comment-blur{opacity:0.4;}& > .unfold{cursor:pointer;display:flex;justify-content:flex-end;color:",";&:hover{color:",";}}"],(function(e){return e.theme.common.icon_15.cr}),(function(e){return e.theme.common.icon_15.hover})),ue=j.a.div.withConfig({displayName:"CommentLayerThread__EntryMainBgDiv",componentId:"sc-4xo0vr-1"
})(["width:100%;margin-bottom:10px;border-radius:4px;background:",";"],(function(e){return e.theme.preview.comment.layer.entryMain_bg})),de=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
return s()(this,n),(r=t.call(this,e)).operationPack={getCommentValue:function(){return r.props.comment.message},doCreateComment:function(e){return e&&r.props.commentOperations.doCreateComment(e,r.props.comment.thread_cid)},doUpdateComment:function(e){return r.props.commentOperations.doUpdateComment({cid:r.props.comment.cid,message:e})},doDeleteCard:function(){
return r.props.sub?r.props.commentOperations.doDeleteComment(r.props.comment):r.props.commentOperations.doDeleteCommentThread(r.props.comment.thread_cid)}},r.startEdit=function(){r.setState({editStore:T({value:r.operationPack.getCommentValue(),isEditing:!0},{onEnd:function(e){var t=e.value
t=(t||"").trim(),r.operationPack.doUpdateComment(t),r.closeEdit()}})}),MB.event("preview","二次编辑")},r.closeEdit=function(){return r.setState({editStore:null})},r.startReply=function(){return r.setState({replyStore:T({isEditing:!0},{onChange:function(e){var t=e.value
return r.setState({isValidReply:Boolean(t)})},onEnd:function(e){var t=e.value;(t=(t||"").trim())&&r.operationPack.doCreateComment(t),r.closeReply()}})})},r.closeReply=function(){return r.setState({replyStore:null,isValidReply:!1})},r.state={editStore:null,replyStore:null,isValidReply:!1},r}return l()(n,[{key:"render",value:function(){
var e=this.props,t=e.sub,n=e.markIndex,r=e.comment,i=e.permission,a=e.commentOperations,s=this.state,c=s.editStore,l=s.replyStore,u=s.isValidReply,d=a.getUserProfile(r.user_id),p=d.avatar,f=d.name,h=Object(o.jsx)(J,{sub:t,comment:r,textEditStore:c,cancelEdit:this.closeEdit}),m=!c&&function(e,t,n,r,i){return[Object(o.jsxs)(Z,{children:[Object(V.a)().parseTimeAgo(1e3*e.updated_at),r&&Object(o.jsxs)(q,{onClick:t?i:r,children:[Object(o.jsx)(G.a,{type:"dora",name:"reply"
}),t?I18N.pComment.cancel_reply:I18N.pComment.comment_create]})]},"footer"),t&&Object(o.jsxs)(X,{children:[Object(o.jsx)(D,{textEditStore:t,placeholder:I18N.pComment.comment_placeholder,minHeight:60,autoHeight:!0,multiline:!0}),N(I18N.pComment.comment_create,t.endEdit,!n)]},"reply")]}(r,l,u,i.create&&this.startReply,this.closeReply),g=t?c?"sub remove-background":"sub":""
return Object(o.jsxs)(pe,{className:g,children:[Object(o.jsx)(te,{sub:t,avatar:p,name:f,markIndex:n,startEdit:!c&&i.update?this.startEdit:null,doDelete:!c&&i.delete?this.operationPack.doDeleteCard:null}),!t&&Object(o.jsxs)(ue,{children:[h,m]}),t&&h,t&&m]})}}]),n}(v.PureComponent)
b()(de,"propTypes",{sub:x.a.bool,markIndex:x.a.number,comment:x.a.object.isRequired,permission:x.a.object.isRequired,commentOperations:x.a.object.isRequired})
var pe=j.a.div.withConfig({displayName:"CommentLayerThread__CommentCardDiv",componentId:"sc-4xo0vr-2"})(["display:flex;flex-flow:column;border-radius:4px;&.sub{margin:0 0 10px 20px;width:200px;background:",";}&.remove-background{background:",";}"],(function(e){return e.theme.preview.comment.layer.entryMain_bg}),(function(e){return e.theme.common.bg.input_bg})),fe=function(e){e&&e.preventDefault(),e&&e.stopPropagation()},he=function(e){return function(t){return fe(t),e&&e(t)}
},me=[0,1,2,3,4,5,6,7].map((function(e){return{create:!!(1&e),update:!!(2&e),delete:!!(4&e)}})),ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"INVALID_ID_0",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"INVALID_ID_1",i=e,o=i&&r===n,a=o||t,s=(i?1:0)+(o?2:0)+(a?4:0)
return me[s]},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return(e=e&&String(e))?t.some((function(t){return String(t.user_id)===e}))?"MEMBER":"NOT_MEMBER":"NOT_SIGN_IN"},ve=document.createElement("div")
ve.id="PREVIEW_COMMENT_ADD_ARROW"
var ye=document.createElement("span"),xe=function(){ve.appendChild(ye),ye.innerText=I18N.pComment.cursor_text,ye.setAttribute("style","background: rgba(31,41,46,0.74);border: 1px solid rgba(0,0,0,0.20);box-shadow: 0 2px 4px 0 rgba(0,0,0,0.38);border-radius: 2px;width: 88px;height: 24px;line-height: 24px;text-align: center;color: #fff;margin-left: 7px;"),ve.setAttribute("style","position:absolute;width:115px;top:9999px;left:999px;display: flex;pointer-events: none"),document.body.appendChild(ve)
},we=function(e){e.target.classList.contains("comment-index")||(ve.style.left="".concat(e.clientX+18,"px"),ve.style.top="".concat(e.clientY-3,"px"))},je=function(){ve.style.left="99999px",ve.style.top="99999px"},Se=function(){document.body.removeChild(ve)},_e=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
s()(this,n),r=t.call(this,e),b()(d()(r),"renderContentReply",(function(){var e=r.props.permissionPack.userAuthStatus,t=r.state.isValidReply
return Object(o.jsxs)("div",{className:"reply-footer",children:["MEMBER"===e&&Object(o.jsx)(D,{textEditStore:r.replyStore,placeholder:I18N.pComment.comment_placeholder,minHeight:20,autoHeight:!0,multiline:!0}),"MEMBER"===e&&N(I18N.pComment.thread_create,(function(){MB.event("zhuge","Comment_Add_Comment"),r.replyStore.endEdit()}),!t),"NOT_SIGN_IN"===e&&Object(o.jsx)(_.a,{onClick:Oe,theme:"core",children:I18N.pComment.tip_signin}),"NOT_MEMBER"===e&&Object(o.jsx)("span",{
children:I18N.pComment.tip_not_collaborator})]})}))
var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return r.props.focusCommentThreadCid!==e&&r.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:e,focusSource:"panel"}})}
return r.commentOperations={getPermission:function(e){return r.props.permissionPack.getPermission(e)},getUserProfile:function(e){return r.props.getUserProfile(e)},setHoverFocusCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return!r.props.tempCommentThreadMarker&&i(e)},doDeleteCommentThread:function(e){return r.props.dispatch({type:"entry:comment-threads:delete",payload:{cid:e}})},doDeleteComment:function(e){return r.props.dispatch({type:"comments:delete",payload:e})},doUpdateComment:function(e){return r.props.dispatch({type:"entry:comments:update",payload:e})},doCreateComment:function(e,t){return e&&r.props.dispatch({type:"entry:comments:add",payload:{thread_cid:t,message:e}})}},r.doCreateCommentThread=function(e){
var t=r.props.tempCommentThreadMarker||{top:0,left:0},n=t.left,i=t.top
e&&r.props.dispatch({type:"entry:comment-threads:add",payload:{top:i,left:n,message:e}}),setTimeout((function(){r.scrollRef&&(r.scrollRef.scrollTop=r.scrollRef.scrollHeight-r.scrollRef.offsetHeight)}),0)},r.replyStore=T({isEditing:!0},{onChange:function(e){var t=e.value
return r.setState({isValidReply:Boolean(t)})},onEnd:function(e){var t=e.value,n=void 0===t?"":t
r.doCreateCommentThread(n.trim()),r.resetReply()}}),r.resetReply=function(){r.replyStore.startEdit(),r.replyStore.setValue(""),r.setState({isValidReply:!1})},r.focusReply=function(){r.replyStore.endEdit(),r.replyStore.startEdit()},r.setScrollRef=function(e){r.scrollRef=e},r.scrollRef=null,r.state={isValidReply:!1},r}return l()(n,[{key:"componentDidMount",value:function(){!this.props.isLoaded&&this.props.dispatch({type:"entry:comment:init-project-data"})
var e=AutoSaver.getSaver("saver:rails-fetch")
e&&(this.prevAutoSaverDelay=e.getState().autoSaveDelay,e.setAutoSaveDelay(500))}},{key:"componentDidUpdate",value:function(e){this.props.tempCommentThreadMarker&&!e.tempCommentThreadMarker&&this.focusReply()}},{key:"componentWillUnmount",value:function(){var e=AutoSaver.getSaver("saver:rails-fetch")
e&&e.setAutoSaveDelay(this.prevAutoSaverDelay),this.props.dispatch({type:"container:comment:reset:state"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.screenName,r=t.commentThreadList,i=t.commentListMap,a=t.permissionPack,s=t.isLoaded,c=t.focusCommentThreadCid,l=t.focusSource,u=t.tempCommentThreadMarker
if(!s)return Object(o.jsx)(Ce,{})
var d=c||u&&u.cid,p=0!==r.length
return Object(o.jsxs)(Ce,{children:[p&&Object(o.jsx)("div",{className:"comment-title",children:"".concat(n," (").concat(r.length,")")}),p&&Object(o.jsx)("div",{ref:this.setScrollRef,className:"comment-thread",children:r.map((function(t,n){var r=i[t.cid]||[],a=n+1,s="marker"===l&&d===t.cid,c="marker"===l&&null!==d&&!s
return Object(o.jsx)(ce,{commentThreadCid:t.cid,commentMarkerIndex:a,isScrollFocus:s,isBlur:c,commentList:r,permission:e.commentOperations.getPermission(t.user_id),commentOperations:e.commentOperations},t.cid)}))}),!p&&Object(o.jsxs)("div",{className:"comment-thread-empty",children:[Object(o.jsx)("img",{src:MB.preference()&&"dark"===MB.preference().theme?"/mb-workspace/images/preview/no-comment-dark.png":"/mb-workspace/images/preview/no-comment-light.png"}),Object(o.jsx)("h3",{
children:I18N.pComment.add_comment}),Object(o.jsx)("span",{children:a.permissionDenyMessage||("NOT_SIGN_IN"===a.userAuthStatus?I18N.pComment.thread_none_tip_signin:I18N.pComment.thread_none_tip)})]}),a.isProjectAllowComment?this.renderContentReply():p?Object(o.jsx)("div",{className:"reply-footer",children:Object(o.jsx)("span",{children:I18N.pComment.comment_deny_permission})}):null,Object(o.jsx)(ie,{}),Object(o.jsx)(se,{})]})}}]),n}(v.PureComponent)
b()(_e,"propTypes",{isLoaded:x.a.bool,permissionPack:x.a.object,getUserProfile:x.a.func,screenName:x.a.string,commentThreadList:x.a.array,commentListMap:x.a.object,focusCommentThreadCid:x.a.string,focusSource:x.a.string,tempCommentThreadMarker:x.a.object,dispatch:x.a.func})
var Ce=j.a.div.withConfig({displayName:"CommentLayer__CommentPanelDiv",componentId:"a49l66-0"
})(["position:relative;display:flex;flex-flow:column;width:260px;height:100%;font-size:12px;background-color:",";box-shadow:0 -2px 30px rgba(39,54,78,0.11);z-index:1;& > .comment-title{display:flex;align-items:center;height:50px;margin:0 20px;border-bottom:1px solid ",";color:",";}& > .comment-thread{flex:1;overflow-y:auto;padding:0 20px;}& > .comment-thread-empty{flex:1;display:flex;flex-flow:column;align-items:center;justify-content:center;color:",";& > img{width:93px;margin:0 10px;}& > h3{padding:10px;}& > span{padding:0 10px;text-align:center;}}& > .reply-footer{display:flex;align-items:flex-end;background:",";border-top:1px solid ",";padding:10px 14px;box-shadow:",";color:",";& > div{margin:0 8px -4px 0;width:174px;max-height:120px;> label{&::placeholder{color:",";}& > textarea{padding:3px 8px;min-height:28px;}}}& > button{flex:1;height:28px;font-size:12px;}}"],(function(e){
return e.theme.common.bg.input_bg}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_15.cr}),(function(e){return e.theme.common.bg.input_bg}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.preview.comment.layer.box_shadow}),(function(e){return e.theme.common.text_15.cr}),(function(e){return e.theme.preview.comment.layer.placeholder})),Oe=function(){
window.location.href="/signin?next=".concat(window.location.pathname)},ke=n(22),Ee=n.n(ke),Me=n(186),Te=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
s()(this,n),r=t.call(this,e)
var i={isDragging:!1,position:{left:0,top:0}},o=O()(O()({},Ae),{},{mousemove:he((function(e){var t=r.props,n=t.commentThread,i=t.markerOperations.getMarkerPosition(e);(r.state.isDragging||function(e,t){var n=e.left-t.left,r=e.top-t.top
return n*n+r*r>=225}(n,i))&&r.setState({isDragging:!0,position:i})})),mouseup:he((function(e){if(c(),r.state.isDragging){var t=r.props,n=t.commentThread,o=t.markerOperations
o.doUpdateCommentThread(O()({cid:n.cid},o.getMarkerPosition(e)))}else setTimeout((function(){var e=r.props,t=e.isFocus,n=e.commentThread
e.markerOperations.setFocusCommentThreadCid(t?null:n.cid)}),0)
r.setState(i)})),mouseleave:function(){c(),r.props.markerOperations.setHoverFocusCommentThreadCid(null),r.setState(i)}}),a=O()(O()({},Ae),{},{mouseup:o.mouseup}),c=function(){return r.props.markerOperations.removeContainerEventListener(r.props.isEditable?o:a)}
return r.markerListenerMap={onMouseDown:he((function(){return r.props.markerOperations.addContainerEventListener(r.props.isEditable?o:a)})),onMouseEnter:he((function(){return!r.props.isFocus&&r.props.markerOperations.setHoverFocusCommentThreadCid(r.props.commentThread.cid)})),onMouseLeave:he((function(){return r.props.isFocus&&r.props.markerOperations.setHoverFocusCommentThreadCid(null)})),onMouseUp:fe,onDoubleClick:fe,onClick:fe},r.state=i,r}return l()(n,[{key:"render",value:function(){
var e=this.props,t=e.commentThread,n=e.scale,r=e.isFocus,i=e.isFade,a=e.commentMarkerIndex,s=this.state,c=s.isDragging,l=s.position
return Object(o.jsx)(De,{className:r?"focus":!r&&i?"fade":"",style:{left:"".concat((c?l.left:t.left)*n,"px"),top:"".concat((c?l.top:t.top)*n,"px")},children:Object(o.jsx)("span",O()(O()({tabIndex:a},this.markerListenerMap),{},{className:"comment-index",children:a}))})}}]),n}(v.PureComponent)
b()(Te,"propTypes",{commentMarkerIndex:x.a.number.isRequired,commentThread:x.a.object.isRequired,scale:x.a.number.isRequired,isEditable:x.a.bool,isFocus:x.a.bool,isFade:x.a.bool,markerOperations:x.a.object.isRequired})
var De=j.a.div.withConfig({displayName:"CommentMarkerPanelMarker__CommentMarkerDiv",componentId:"sc-17otudw-0"
})(["position:absolute;width:","px;height:","px;overflow:visible;& > span{display:flex;justify-content:center;align-items:center;cursor:pointer;outline:none;margin-left:","px;margin-top:","px;width:","px;height:","px;font-size:14px;line-height:","px;box-shadow:0 2px 10px rgba(108,0,0,0.22);border:2px solid #fff;border-radius:100%;background:#ff7100;color:#fbfbfc;transition:all 0.1s ease-in;transform:scale(1);}&.focus > span{transform:scale(1.21);}&.fade > span{opacity:0.5;}"],0,0,-14,-14,28,28,28),Ae={
mouseup:fe,mousedown:fe,mousemove:fe,mouseleave:fe,mouseout:fe,click:fe,dblclick:fe}
var Ne=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
return s()(this,n),r=t.call(this,e),b()(d()(r),"handleMouseOut",(function(e){e.target.classList.contains("comment-index")||je()})),r.$container=document.querySelector("#simulator-container"),r}return l()(n,[{key:"componentDidMount",value:function(){xe(),this.$container.addEventListener("mousemove",we),this.$container.addEventListener("mouseleave",je),this.$container.addEventListener("mouseout",this.handleMouseOut)}},{key:"componentWillUnmount",value:function(){Se(),
this.$container.removeEventListener("mousemove",we),this.$container.removeEventListener("mouseleave",je),this.$container.removeEventListener("mouseout",this.handleMouseOut)}},{key:"render",value:function(){return null}}]),n}(v.PureComponent),Pe=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
s()(this,n),(r=t.call(this,e)).addTempCommentThreadListener=he((function(e){var t=r.props,n=t.isActive,i=t.permissionPack,o=t.markerDomPack,a=t.dispatch
n&&i.getPermission().create&&Ie(e,o.getSimulatorContainerElement().getBoundingClientRect())&&a({type:"container:comment:focus-temp-marker",payload:O()(O()({},r.markerOperations.getMarkerPosition(e)),{},{cid:"TEMP_MARKER_CID"})})}))
var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return r.props.dispatch({type:"container:comment:focus",payload:{focusCommentThreadCid:e,focusSource:"marker"}})}
return r.markerOperations={addContainerEventListener:function(e){var t=r.props.markerDomPack.getSimulatorContainerElement()
t&&Object.entries(e).forEach((function(e){var n=Ee()(e,2),r=n[0],i=n[1]
return t.addEventListener(r,i)}))},removeContainerEventListener:function(e){var t=r.props.markerDomPack.getSimulatorContainerElement()
t&&Object.entries(e).forEach((function(e){var n=Ee()(e,2),r=n[0],i=n[1]
return t.removeEventListener(r,i)}))},setFocusCommentThreadCid:i,setHoverFocusCommentThreadCid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
return!r.props.tempCommentThreadMarker&&i(e)},doUpdateCommentThread:function(e){var t=e.cid,n=e.top,i=e.left
return r.props.dispatch({type:"TEMP_MARKER_CID"!==t?"entry:comment-threads:update":"container:comment:focus-temp-marker",payload:{cid:t,top:n,left:i}})},getMarkerPosition:function(e){var t=r.props,n=t.scale,i=t.markerDomPack,o=i.getScreenContainerElement().getBoundingClientRect(),a=i.getSimulatorContainerElement().getBoundingClientRect()
return{left:(Object(Me.clamp)(e.clientX,a.left+20,a.right-20)-o.left)/n,top:(Object(Me.clamp)(e.clientY,a.top+20,a.bottom-20)-o.top)/n}}},r}return l()(n,[{key:"componentDidMount",value:function(){this.props.isActive&&this.toggleEventListener(!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props.isActive
t!==e.isActive&&this.toggleEventListener(t)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch
this.toggleEventListener(!1),e({type:"container:comment:focus-temp-marker",payload:null})}},{key:"toggleEventListener",value:function(e){var t=this.props.markerDomPack.getSimulatorContainerElement()
t&&(e?t.addEventListener("dblclick",this.addTempCommentThreadListener):t.removeEventListener("dblclick",this.addTempCommentThreadListener))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,r=t.scale,i=t.permissionPack,a=t.commentThreadList,s=t.isLoaded,c=t.focusCommentThreadCid,l=t.tempCommentThreadMarker
return n&&s?Object(o.jsxs)("div",{children:[Object(o.jsx)(Ne,{}),a.map((function(t,n){var a=Boolean(!l&&c===t.cid),s=Boolean(l||c&&!a)
return Object(o.jsx)(Te,O()({},{commentMarkerIndex:n+1,commentThread:t,scale:r,isEditable:i.getPermission(t.user_id).update,isFocus:a,isFade:s,markerOperations:e.markerOperations}),t.cid)})),l&&Object(o.jsx)(Te,O()({},{commentMarkerIndex:a.length+1,commentThread:l,scale:r,isEditable:!0,isFocus:!0,isFade:!1,markerOperations:this.markerOperations}))]}):null}}]),n}(v.PureComponent)
b()(Pe,"propTypes",{scale:x.a.number,isActive:x.a.bool,isLoaded:x.a.bool,permissionPack:x.a.object,markerDomPack:x.a.object,commentThreadList:x.a.array,focusCommentThreadCid:x.a.string,tempCommentThreadMarker:x.a.object,dispatch:x.a.func})
var Ie=function(e,t){var n=t.left,r=t.top,i=t.width,o=t.height
return n<=e.clientX&&r<=e.clientY&&n+i>=e.clientX&&r+o>=e.clientY},Le=n(124),Be={loadedProjectCid:null,loadedProjectCommentData:null,focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:null}
function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"container:comment:loaded-project":return O()(O()({},e),{},{loadedProjectCid:r.projectCid||null,loadedProjectCommentData:r.projectCommentData||null})
case"container:comment:focus":return O()(O()({},e),{},{focusCommentThreadCid:r.focusCommentThreadCid,focusSource:r.focusSource||null,tempCommentThreadMarker:e.tempCommentThreadMarker&&e.tempCommentThreadMarker.cid===r.focusCommentThreadCid?e.tempCommentThreadMarker:null})
case"container:comment:focus-temp-marker":return O()(O()({},e),{},{focusCommentThreadCid:null,focusSource:null,tempCommentThreadMarker:r})
case"container:comment:reset:state":return Be}return e}var Re=n(16),ze=Object(r.connect)((function(e){var t=e.model,n=t.user.id,r=t.commentThreads,i=t.comments,o=e.container.comment,a=o.loadedProjectCid,s=o.loadedProjectCommentData,c=o.focusCommentThreadCid,l=o.focusSource,u=o.tempCommentThreadMarker,d=Object(Re.c)(e),p=Object(Re.g)(e)
return{isLoaded:a===d.cid,permissionPack:Ve(d,n,s),getUserProfile:We(s),screenName:p.name,commentThreadList:He(r,p.cid),commentListMap:Ge(i),focusCommentThreadCid:c,focusSource:l,tempCommentThreadMarker:u}}))(_e),Ue=Object(r.connect)((function(e){var t=e.model,n=t.user.id,r=t.commentThreads,i=e.container.comment,o=i.loadedProjectCid,a=i.loadedProjectCommentData,s=i.focusCommentThreadCid,c=i.tempCommentThreadMarker,l=Object(Re.c)(e),u=Object(Re.g)(e)
return{isLoaded:o===l.cid,permissionPack:Ve(l,n,a),markerDomPack:Ye(u.cid),commentThreadList:He(r,u.cid),focusCommentThreadCid:s,tempCommentThreadMarker:c}}))(Pe),He=Object(i.i)((function(e,t){return e.filter((function(e){return e.screen_cid===t}))})),Ge=Object(i.i)((function(e){return e.reduce((function(e,t){return void 0===e[t.thread_cid]?e[t.thread_cid]=[t]:e[t.thread_cid].push(t),e}),{})})),Ve=Object(i.i)((function(e,t,n){if(!n)return{isProjectAllowComment:!1,getPermission:function(){return!1},
permissionDenyMessage:"",userAuthStatus:be(t,[])}
var r,i=n.isProjectAllowComment,o=n.projectAccessMap,a=n.teamAccessMap,s=n.orgAccessMap,c=n.memberList,l=[o[t],a[t],s[t]].filter(Boolean).join("|"),u=Boolean(l),d=l.includes("project_owner")||l.includes("project_team_owner"),p=ge()
return{isProjectAllowComment:i,getPermission:i?function(e){return ge(u,d,t,e)}:function(){return p},permissionDenyMessage:i?"":(r=Ze(e),Object(Le.a)("comment_".concat(r),{action:"comment_".concat(r)})),userAuthStatus:be(t,c)}})),We=Object(i.i)((function(e){var t=e&&e.memberList.reduce((function(e,t){var n=t.user_id,r=t.avatar,i=t.name
return e[n]={avatar:r,name:i},e}),{})||{}
return function(e){return t[e]||{name:I18N.pComment.user_name_ghost,avatar:"/mb-workspace/images/avatar.png"}}})),Ye=Object(i.i)((function(e){return{getScreenContainerElement:function(){return document.querySelector("#pscreen".concat(e," .scontainer"))},getSimulatorContainerElement:function(){return document.querySelector("#simulator-container")}}})),Ze=function(e){return e?e.limitation.commentable?"org_member"!==e.comment_permission?"deny_permission":"allow":"deny_limitation":"deny"}},function(e,t,n){
"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}))
var r=n(4),i=n.n(r),o=n(22),a=n.n(o),s=n(166),c=n(143),l=function(e){return function(e){return!!s[e.model]}(e)?"device":"none"},u=function(e,t,n){var r,i,o=p(e,t),s="landscape"===n
if("device"===t&&o.bg){var c=s?[o.height,o.width]:[o.width,o.height],l=a()(c,2)
r=l[0],i=l[1]}else{var u=s?[e.height,e.width]:[e.width,e.height],d=a()(u,2)
r=d[0],i=d[1]}return{width:r,height:i}},d=function(e,t,n,r){var i=p(e,t),o=n?[i.height,i.width]:[i.width,i.height],s=a()(o,2)
return{width:s[0],height:s[1]+(r&&"web"!==e.platform?60:0)}},p=function(e,t){return f(e,t)||h(e,t)},f=function(e,t){var n=e.model
return"device"!==t?null:s[n]?i()({},s[n]):null},h=function(e,t){var n="none"===t?0:12,r=e.width+2*n,i=e.height+2*n,o=Object(c.b)(e)?[Math.min(r,i),Math.max(r,i)]:[r,i],s=a()(o,2)
return{device:"default",top:n,left:n,width:s[0],height:s[1]}}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}))
var r=n(26),i=n.n(r),o=n(22),a=n.n(o),s=n(183),c=n.n(s),l=n(66),u=n(62),d=function e(t,n){if(n.cid===t)return n
if(n.children.length)for(var r=0;r<n.children.length;r++){var i=e(t,n.children[r])
if(i)return i}return null},p=function(e,t){var n=m(e,t)
if(0===n.length)return null
var r=n.reverse(),i=c()(r),o=i[0],a=i.slice(1).filter((function(e){return e.widget.ro})).map((function(e){var t=Object(u.b)(e),n=t.minX,r=t.minY
return{x:(n+t.maxX)/2,y:(r+t.maxY)/2,rotation:e.widget.ro}})),s=o.widget,d=s.top,p=s.left,h=s.width,g=s.height,b=s.ro,v={x:p+h/2,y:d+g/2,ro:void 0===b?0:b},y=a.reduce((function(e,t){var n=t.x,r=t.y,i=t.rotation,o={x:n,y:r},a=e.x,s=e.y,c=e.ro,u={x:a,y:s},d=Object(l.d)(o,i,u)
return{x:d.x,y:d.y,ro:c+i}}),v)
return f(y.x,y.y,h,g,y.ro)},f=function(e,t,n,r,i){var o=h(e,t,n,r,i),a=o.map((function(e){return e[0]})),s=o.map((function(e){return e[1]})),c=Math.min.apply(null,a),l=Math.min.apply(null,s)
return{top:l,left:c,width:Math.max.apply(null,a)-c,height:Math.max.apply(null,s)-l}},h=function(e,t,n,r,i){var o=i*Math.PI/180,s=Math.sin(o),c=Math.cos(o),l=-n/2,u=-r/2,d=+n/2,p=-r/2,f=+n/2,h=+r/2,m=-n/2,g=+r/2
return[[l*c-u*s,l*s+u*c],[d*c-p*s,d*s+p*c],[m*c-g*s,m*s+g*c],[f*c-h*s,f*s+h*c]].map((function(n){var r=a()(n,2),i=r[0],o=r[1]
return[e+i,t+o]}))},m=function e(t,n){var r=[n]
if(n.cid===t)return r
if(n.children.length)for(var o=0;o<n.children.length;o++){var a=e(t,n.children[o])
if(a.length)return r.push.apply(r,i()(a)),r}return[]}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r=function(e){return"rich_text"===e.name}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=f,t.default=void 0
var i=r(n(5)),o=r(n(1)),a=n(35)
function s(){var e=function(e,t){t||(t=e.slice(0))
return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n      padding: .5em;\n      width: 100%;\n      min-height: 5em;\n      max-height: 10em;\n      resize: vertical;\n      &:disabled,\n      &[readonly] {\n        resize: none;\n      }\n    }\n  }\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"])
return s=function(){return e},e}var c=r(n(10)).default.label(s())
function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{}
var n,r,i=function(e,t){if(null==e)return{}
var n,r,i={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n])
return i}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){return function(t){return e(t.target.value,t)}}function p(e){var t=e.size,n=e.theme,r=e.isInvalid,o=e.unstyled,s=e.className,p=e.value,f=e.type,h=e.onChange,m=u(e,["size","theme","isInvalid","unstyled","className","value","type","onChange"]),g=(0,a.trimList)(["core"===n?"CoreInput":"Input",t,o&&"unstyled",r&&"is-invalid",s])
return i.default.createElement(c,{className:g},i.default.createElement("input",l({type:f,value:p,onChange:d(h)},m)))}function f(e){var t=e.size,n=e.theme,r=e.unstyled,o=e.className,s=e.value,p=e.onChange,f=u(e,["size","theme","unstyled","className","value","onChange"]),h=(0,a.trimList)(["core"===n?"CoreTextarea":"Textarea",t,r&&"unstyled",o])
return i.default.createElement(c,{className:h},i.default.createElement("textarea",l({value:s,onChange:d(p)},f)))}p.propTypes={type:o.default.string,size:o.default.oneOf(["regular","small"]),theme:o.default.oneOf(["core","plain"]),unstyled:o.default.bool,isInvalid:o.default.bool,className:o.default.string,value:o.default.string,onChange:o.default.func},p.defaultProps={type:"text",size:"regular",theme:"plain",onChange:function(){return null}},f.propTypes={className:o.default.string,
size:o.default.oneOf(["regular","small"]),theme:o.default.oneOf(["core","plain"]),unstyled:o.default.bool,value:o.default.string,onChange:o.default.func},f.defaultProps={size:"regular",theme:"plain",onChange:function(){return null}}
var h=p
t.default=h},,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))
var r=function(e){return/^\/app\/design\//.test(e)||/^\/mb-workspace\//.test(e)||!1},i=function(e){return/^\/app\/preview\//.test(e)||/^\/app\/[^/]*\/?$/.test(e)}},function(e,t,n){"use strict"
var r=n(118),i=n(10),o=n.n(i)()(r.a).withConfig({displayName:"ThemeLoading",componentId:"sc-516lfj-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],(function(e){return e.theme.loadingIcon.color_1}),(function(e){return e.theme.loadingIcon.color_2}))
t.a=o},function(e,t,n){"use strict"
n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}))
var r=n(4),i=n.n(r),o=n(256),a=function(){if(MB.user&&MB.user.id){var e=MB.user
return{id:e.id,name:e.name,email:e.email,current_plan:e.current_plan,paid:e.paid,next_billing_on:e.next_billing_on,login_times:e.login_times}}},s=function(e){return Object(o.fetchLikeCompat)("/api/v2/reports",{timeout:1e4,method:"POST",body:JSON.stringify(i()({href:window.parent.location.href,userAgent:navigator.userAgent,user:a(),currentProjectCid:MB.getCurrentProject()&&MB.getCurrentProject().cid||"",currentScreenCid:MB.getCurrentScreen()&&MB.getCurrentScreen().cid||""},e))})},c=function(e){
var t=e.timeInterval,n=void 0===t?6e5:t,r=e.type,i=void 0===r?"DEFAULT":r,o=e.getReportObject
if(n&&o){var a=(new Date).toISOString(),c=Date.now()
return setInterval((function(){return s({timeInit:a,timeDelta:Date.now()-c,type:i,state:o()}).then((function(){c=Date.now()}),(function(e){return console.warn("[Error] report ".concat(i," failed:"),e)}))}),n)}},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t[0]instanceof Error&&t.shift()||new Error("DEFAULT_ERROR"),i=t.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join("\n")
console.warn("[REPORT_ERROR]",i,r)
var o=a()
return window.Raven&&window.Raven.isSetup()&&(window.Raven.setUserContext(o),window.Raven.captureException(r,{extra:{message:i},tags:{report_version:"v1",origin:location.origin,user_current_plan:o&&o.current_plan}})),MB.event&&MB.event("ga-0","send","event","report-error",i,r.stack||r.toString()),{error:r,message:i}},u=function(){var e=l.apply(void 0,arguments),t=e.error,n=e.message
console.warn("[NUKE]",n,t),setInterval((function(){window.alert([window.I18N&&I18N.dUtils.error_happened,n,t].join("\n")),location.reload()}),5e3)}},,,,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=n(37),s=r(n(1)),c=r(n(38)),l=r(n(59)),u=r(n(69)),d=r(n(81)),p=r(n(55)),f=n(35),h=i(n(10))
function m(){
var e=v(["\n  .ModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    display: flex;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n    &:not(.is-open) {\n      pointer-events: none;\n      .ModalMask {\n        background-color: rgba(0, 0, 0, 0);\n      }\n      .Modal {\n        transform: translateY(-50vh);\n        opacity: 0;\n      }\n    }\n    &.is-open {\n      .Modal {\n        transition-delay: .175s;\n      }\n    }\n  }\n"])
return m=function(){return e},e}function g(){
var e=v(["\n  position: relative;\n  margin: 20vh auto auto;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  transform: translateY(0);\n  min-height: 9.5rem;\n  font-size: 0.875rem;\n  background-color: #fff;\n  border-radius: 1px;\n  box-shadow: 0 2px 8px 0 rgba(0,0,0,0.1);\n  cursor: initial;\n  transition: transform .3s, opacity .2s;\n  &.is-v-centered {\n    margin: 3rem auto;\n  }\n  header {\n    position: relative;\n    display: flex;\n    align-items: center;\n    padding: 0 20px;\n    height: 55px;\n    border-bottom: 1px solid #f2f2f3;\n    color: #415058;\n  }\n  .close-btn {\n    margin-left: auto;\n    font-size: 1em;\n    color: #8d9ea7;\n    transition: all 0.2s ease-in;\n    &:hover {\n      color: #5b6b73;\n      transition-delay: 0.1s;\n    }\n  }\n  .content {\n    padding: 30px 20px 35px;\n  }\n  footer {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    padding: 0 20px;\n    height: 55px;\n    line-height: 1;\n    border-top: 1px solid #f2f2f3;\n  }\n  .confirm-btn,\n  .cancel-btn {\n    margin-left: 1.5em;\n    min-width: 2em;\n    height: 34px;\n    color: #8d9ea7;\n    transition: color ease-in-out .1s;\n    &:enabled:hover {\n      color: #5b6b73;\n    }\n    &:disabled {\n      opacity: .5;\n      cursor: not-allowed;\n    }\n  }\n  .confirm-btn {\n    font-weight: bold;\n    color: #eb5648;\n    &:enabled:hover {\n      color: #dd2918;\n    }\n  }\n  &.AlertModal,\n  &.FormModal {\n    display: flex;\n    flex-direction: column;\n    width: 23.75rem;\n    line-height: 1.5;\n    .FormEntry {\n      &:last-child {\n        margin-bottom: -0.5em;\n      }\n      > .key {\n        flex-basis: 7em;\n      }\n    }\n  }\n  &.FunctionalModal {\n    width: 31.25rem;\n  }\n  &.DisplayModal {\n    width: 40rem;\n  }\n"])
return g=function(){return e},e}function b(){var e=v(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0,0,0,0.4);\n  transition: background 0.2s;\n  &.can-close {\n    cursor: pointer;\n  }\n"])
return b=function(){return e},e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=h.default.div(b()),x=h.default.div(g()),w=(0,h.createGlobalStyle)(m())
function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=M(e)
if(t){var i=M(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return k(this,n)}}function k(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=window.I18N,A=void 0===D?{}:D,N=function(e){return e.stopPropagation()},P=document.body,I=document.getElementById("IBOT_MODAL_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_MODAL_ROOT"})
P.contains(I)||P.appendChild(I)
var L={alert:"AlertModal",form:"FormModal",functional:"FunctionalModal",display:"DisplayModal"},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e)
var t,n,r,i=O(s)
function s(){var e
S(this,s)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return T(E(e=i.call.apply(i,[this].concat(n))),"state",{prevProps:e.props,isOpen:e.props.isOpen}),T(E(e),"portal",(0,f.preparePortal)(I,(0,f.trimList)(["ModalPortal",e.props.portalClassName]))),T(E(e),"open",(function(){return e.setState({isOpen:!0},e.didOpen)})),T(E(e),"close",(function(){return e.portal.classList.remove("is-open")})),T(E(e),"toggle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.state.isOpen
return t?e.open():e.close()})),T(E(e),"didOpen",(function(){E(e).portal;(0,f.addModalToStack)(E(e)),e.positionY(),e.focusOnInput(),setTimeout((function(){return e.portal.classList.add("is-open")}))})),T(E(e),"didClose",(function(){return setTimeout((function(){(0,f.deleteModalFromStack)(E(e)),(0,f.checkNoOpenModalInStack)()&&(0,f.toggleGlobalScroll)(!1)}))})),T(E(e),"onTransitionEnd",(function(){e.portal.classList.contains("is-open")?(e.props.onOpen(),e.props.onToggle(!0),(0,
f.toggleGlobalScroll)(!0)):(e.setState({isOpen:!1},e.didClose),e.props.onClose(),e.props.onToggle(!1))})),T(E(e),"onModalTransitionEnd",(function(t){var n=e.props.onModalTransitionEnd
N(t),n&&n(t)})),T(E(e),"onConfirm",(function(){var t=e.props,n=t.onConfirm,r=t.shouldCloseOnAction,i=t.isConfirmDisabled
"function"!=typeof n||i||n(),r&&e.close()})),T(E(e),"onCancel",(function(){var t=e.props,n=t.onCancel,r=t.shouldCloseOnAction,i=t.isCancelDisabled
"function"!=typeof n||i||n(),r&&e.close()})),T(E(e),"positionY",(function(){return setTimeout((function(){var t=e.props.type,n=(0,f.$)(".Modal",e.portal)
if(n&&"alert"!==t){var r=window.innerHeight,i=n.offsetHeight,o=r<=i||(r-i)/2<.2*r?"add":"remove"
n.classList[o]("is-v-centered")}}))})),T(E(e),"focusOnInput",(function(){var t=(0,f.$)(".content input",e.portal)
t&&t.focus()})),T(E(e),"onKeyDown",(function(t){var n=t.key,r=t.target,i=e.props,o=i.type,a=i.canClose,s=i.canCloseOnEsc,c=i.canConfirmOnEnter,l=i.onConfirm,u=e.state.isOpen,d=!!(0,f.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open")
"Escape"===n&&!r.matches("input, textarea, select")&&!d&&u&&a&&s&&!d&&0===(0,f.checkModalIndexInStack)(E(e))&&e.close(),"Enter"!==n||r.matches("textarea, button")||d||!u||!c||0!==(0,f.checkModalIndexInStack)(E(e))||!l&&"alert"!==o||e.onConfirm()})),T(E(e),"onClickMask",(function(t){N(t)
var n=e.props,r=n.canClose,i=n.canCloseOnClickMask,o=!!(0,f.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open")
r&&i&&!o&&e.close()})),e}return t=s,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return(0,l.default)(n,e)?null:{prevProps:e,isOpen:e.isOpen}}}],(n=[{key:"componentDidMount",value:function(){this.state.isOpen&&this.didOpen(),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.state.isOpen
!n&&r?this.open():n&&!r&&this.close()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose(),window.removeEventListener("resize",this.positionY)}},{key:"render",value:function(){return this.renderOpener()}},{key:"renderOpener",value:function(){var e=this.props,t=e.opener,n=e.openerType,r=this.state.isOpen,i=this.renderModal()
return"none"===n?i:"custom"===n?t?o.default.createElement("span",{onClick:this.toggle},t,i):i:"switch"===n?o.default.createElement(d.default,{isChecked:r,onChange:this.toggle},i):o.default.createElement(u.default,{type:n,onClick:this.open},t,i)}},{key:"renderModal",value:function(){return this.props.modal||(0,a.createPortal)(this.renderModalDOM(),this.portal)}},{key:"renderModalDOM",value:function(){
var e=this.props,t=e.type,n=e.title,r=e.children,i=e.maskClassName,a=e.className,s=e.canClose,l=e.canCloseOnClickMask,u=e.onCancel,d=e.cancelText,h=e.isCancelDisabled,m=e.onConfirm,g=e.confirmText,b=e.isConfirmDisabled,v="alert"===t&&s||u||m
return this.state.isOpen&&o.default.createElement(o.Fragment,null,o.default.createElement(w,null),o.default.createElement(y,{className:(0,f.trimList)(["ModalMask",i,s&&l?"can-close":"cant-close"]),onClick:this.onClickMask,onTransitionEnd:this.onTransitionEnd}),o.default.createElement(x,{className:(0,f.trimList)(["Modal",L[t],a]),onClick:N,onTransitionEnd:this.onModalTransitionEnd},o.default.createElement("header",null,n,s&&o.default.createElement("button",{className:"close-btn",onClick:this.close
},o.default.createElement(p.default,{name:"times"}))),o.default.createElement("div",{className:"content"},r),v&&o.default.createElement("footer",null,u&&o.default.createElement("button",{className:"cancel-btn",onClick:this.onCancel,disabled:h},d),("alert"===t||m)&&o.default.createElement("button",{className:"confirm-btn",onClick:this.onConfirm,disabled:b},g))),o.default.createElement(c.default,{target:document,onKeyDown:this.onKeyDown}))}}])&&_(t.prototype,n),r&&_(t,r),s}(o.PureComponent)
T(B,"propTypes",{isOpen:s.default.bool,title:s.default.node,children:s.default.node,modal:s.default.node,type:s.default.oneOf(["alert","form","functional","display"]),opener:s.default.node,openerType:s.default.oneOf(["primary","regular","text","switch","custom","none"]),className:s.default.string,maskClassName:s.default.string,portalClassName:s.default.string,onOpen:s.default.func,onClose:s.default.func,onToggle:s.default.func,onModalTransitionEnd:s.default.func,canClose:s.default.bool,
canCloseOnClickMask:s.default.bool,shouldCloseOnAction:s.default.bool,canCloseOnEsc:s.default.bool,canConfirmOnEnter:s.default.bool,onConfirm:s.default.func,confirmText:s.default.string,isConfirmDisabled:s.default.bool,onCancel:s.default.func,isCancelDisabled:s.default.bool,cancelText:s.default.string}),T(B,"defaultProps",{isOpen:!1,type:"functional",openerType:"none",portalClassName:"",maskClassName:"",className:"",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){
return null},onModalTransitionEnd:function(){return null},canClose:!0,canCloseOnClickMask:!0,canCloseOnEsc:!0,shouldCloseOnAction:!0,canConfirmOnEnter:!0,cancelText:A.cancel||"Cancel",confirmText:A.confirm||"Confirm"})
var F=B
t.default=F},function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(36),x=n.n(y),w=n(10),j=n.n(w).a.div.withConfig({displayName:"styles__StyledSearchBar",componentId:"sc-1qxj5sh-0"
})(["position:relative;height:24px;display:flex;justify-content:space-between;align-items:center;.search-icon{position:absolute;left:0;width:24px;height:24px;text-align:center;line-height:24px;font-size:12px;color:",";pointer-events:none;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:100%;padding-right:22px;background:",";border-width:1px;border-style:solid;border-color:",";border-radius:2px;transition:all 0.2s ease-out;text-indent:24px;color:",";&::placeholder{color:",";}&:hover{border-color:",";}&:focus{background:",";border-color:",";box-shadow:",";}}.clear-icon{position:absolute;right:0;width:24px;line-height:24px;text-align:center;color:",";transition:all 0.15s ease-in-out;cursor:pointer;&:hover{color:",";}}"],(function(e){
return e.theme.common.icon_8.cr}),(function(e){return e.theme.searchBar.bg}),(function(e){return e.theme.searchBar.border_color}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.common.text_22.cr}),(function(e){return e.theme.common.border.border_light_blue}),(function(e){return e.theme.common.bg.select_bg}),(function(e){return e.theme.common.border.border_light_blue}),(function(e){return e.theme.interation.active.box_shadow}),(function(e){return e.theme.searchBar.close_icon
}),(function(e){return e.theme.searchBar.hover.close_icon})),S=function(e){d()(n,e)
var t=f()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),m()(l()(e),"setInputRef",(function(t){return e.$input=t})),m()(l()(e),"focus",(function(){return e.$input.focus()})),m()(l()(e),"handleChange",(function(t){return e.props.onChange(t.target.value)})),m()(l()(e),"handleClear",(function(){return e.props.onChange("")})),m()(l()(e),"handleMouseDown",(function(e){return e.preventDefault()})),m()(l()(e),"handleKeyDown",(function(t){"Escape"===t.key&&e.props.onExit&&e.props.onExit(t)})),e}return s()(n,[{key:"render",
value:function(){var e=this.props,t=e.value,n=e.placeholder,i=e.className,o=e.inputStyle
return Object(r.jsxs)(j,{type:"search",className:i,children:[Object(r.jsx)(x.a,{type:"dora",name:"scale",className:"search-icon"}),Object(r.jsx)("input",{type:"password",name:"password",className:"autoCompleteInput"}),Object(r.jsx)("input",{ref:this.setInputRef,style:o,type:"text",value:t,placeholder:n,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),t.length>0&&Object(r.jsx)(x.a,{type:"dora",name:"times_fc",className:"clear-icon",onMouseDown:this.handleMouseDown,onClick:this.handleClear})]})}}]),n
}(v.PureComponent)
m()(S,"propTypes",{value:b.a.string,inputStyle:b.a.object,placeholder:b.a.string,className:b.a.string,onChange:b.a.func,onExit:b.a.func})},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return w}))
var r=n(2),i=n.n(r),o=n(4),a=n.n(o),s=n(22),c=n.n(s),l=n(181),u=n(25),d=n(46),p=n(60),f=n(47),h=n(30),m=[h.b,h.a],g=function(e){var t=e.screenRuntimeState
return Object.keys(t.dataMap)[0]},b=function(e,t){for(var n=ProjectExchange.getProjectStore(e),r=n.getLocalScreenMetaByCid(t),i=n.getLocalScreenRuntimeStateByCid(t),o=Object(l.createScreenRuntimeState)(t),a=i.dataMap,s=i.itemListMap,u=0,d=Object.entries(a);u<d.length;u++){var f=c()(d[u],2),h=f[0],m=f[1]
o.dataMap[h]=m,o.itemListMap[h]=s[h].filter((function(t){return"panel"!==t.name||Object(p.f)(t,e)}))}return{screenMeta:r,screenRuntimeState:o}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MB.currentProjectMeta.cid,r=t
if(m.includes(r)){var i=Object(d.g)(n,e)
r=i[0].cid}var o=b(n,e),a=o.screenMeta,s=o.screenRuntimeState,c={},l=s.itemListMap[r].filter((function(e){return"panel"===e.name})).map((function(t){return Object(f.i)(t,{screenCid:e,stateCid:r},{projectMetaCid:n})}))
return l.forEach((function(e){c[e.cid]=y(e,n)})),{cid:e,stateCid:r,panelInfoMap:c,screenMeta:a,screenRuntimeState:s}},y=function(e,t){var n=e.screen_glue_cid,r=e.screen_meta_cid,i=e.screen_state_cid,o=Object(u.n)(t,n),a=Object(u.q)(t,n),s={}
return a.forEach((function(e){var n=e.cid
s[n]=b(t,n)})),{cid:e.cid,panelScreens:[r],currentScreenMetaCid:r,currentScreenStateCid:i,screenGlue:o,screenDataMap:s}},x=function(e,t){var n=t.panelCid,r=t.panelScreenCid,o=t.transition,s=e.panelInfoMap[n],c=s.panelScreens,l=s.screenDataMap,u=new Set(c)
u.add(r)
var d=a()(a()({},s),{},{transition:o,panelScreens:Array.from(u),currentScreenMetaCid:r,currentScreenStateCid:g(l[r])})
return a()(a()({},e),{},{panelInfoMap:a()(a()({},e.panelInfoMap),{},i()({},n,d))})},w=function(e,t){var n=t.panelCid,r=t.panelStateCid,o=t.transition,s=t.callback,c=e.panelInfoMap[n],l=a()(a()({},c),{},{currentScreenStateCid:r,transition:a()(a()({},o),{},{callback:s})})
return a()(a()({},e),{},{panelInfoMap:a()(a()({},e.panelInfoMap),{},i()({},n,l))})}},,,,,,,,function(e,t,n){"use strict"
n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}))
var r=function(e){var t=e.projectBasic,n=e.screenAlignList
return Project.refresh([t]),ScreenAlign.refresh(n),Project.find(t.cid)},i=function(e){CommentThread.refresh(e.threads),Comment.refresh(e.comments)},o=function(e){Preference.refresh(e)}},function(e,t,n){"use strict"
var r=n(334),i=n.n(r),o=function(){},a=i.a.isEnabled?i.a:{isFullscreen:!1,on:o,off:o,request:o,exit:o}
t.a=a},,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}))
var r=n(4),i=n.n(r),o=n(0),a=(n(5),n(1)),s=n.n(a),c=n(288),l=n(37),u=n.n(l),d=n(51)
function p(e,t){var n=Object(d.d)()
u.a.render(Object(o.jsx)(e,i()(i()({},t),{},{onClose:function(){return setTimeout((function(){u.a.unmountComponentAtNode(n),document.body.removeChild(n)}))}})),n)}var f=function(e){var t=e.reason,n=e.data,r=e.onClose
return Object(o.jsx)(c.a,i()(i()({},{isOpen:!0,portalClassName:"renew-modal",title:I18N.dModals.renew_prompt.title,onConfirm:n&&n.renewRedirectParams?function(){return e=n.renewRedirectParams,window.open("/renew?".concat(new URLSearchParams(e).toString()))
var e}:n.gotoPrice?function(){return window.open("/pricing?next=".concat(location.href))}:n.paymentRenewModalParams?function(){return e=n.orgCid,t=n.paymentRenewModalParams,window.open(e?"/settings/".concat(e,"/payments?option=").concat(window.btoa(JSON.stringify(t))):"/me?option=".concat(window.btoa(JSON.stringify(t))))
var e,t}:null,confirmText:n&&n.renewRedirectParams?I18N.dModals.renew_now:n.submit?n.submit:null,canConfirm:!0,onClose:r}),{},{children:n.format===I18N.dModals.apk_file?Object(o.jsx)("p",{children:I18N.dModals.renew_prompt.apk_exportable_on_web}):Object(o.jsx)("p",{children:h(t,n)})}))}
f.propTypes={reason:s.a.string,data:s.a.object,shouldShowConfirm:s.a.bool,onClose:s.a.func}
var h=function(e,t){var n=t.storage,r=void 0===n?"":n,i=t.format,o=void 0===i?"":i,a=t.action,s=void 0===a?MB.user&&MB.user.expired?"renew":"upgrade":a,c=t.role,l=void 0===c?"user":c
return(I18N.dModals.renew_prompt[e]+(s?I18N.dModals.renew_prompt["".concat(l,"_").concat(s)]:"")).replace("{storage}",r).replace("{format}",o)},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
p(f,{reason:e,data:t})}},function(e,t,n){"use strict"
function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t]
return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},
this
var n,r=this._callbacks["$"+e]
if(!r)return this
if(1==arguments.length)return delete this._callbacks["$"+e],this
for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1)
break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{}
for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r]
if(n){r=0
for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict"
var r,i=n(480),o=n(311),a=n(481),s=n(482),c=n(483)
"undefined"!=typeof ArrayBuffer&&(r=n(484))
var l="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),u="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=l||u
t.protocol=3
var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=i(p),h={type:"error",data:"parser error"},m=n(485)
function g(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(e,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null)
var o=void 0===e.data?void 0:e.data.buffer||e.data
if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r)
var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength)
a[0]=p[e.type]
for(var s=0;s<o.length;s++)a[s+1]=o[s]
return r(a.buffer)}(e,n,i)
if(void 0!==m&&o instanceof m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r)
if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r)
var i=new FileReader
return i.onload=function(){t.encodePacket({type:e.type,data:i.result},n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r)
var i=new Uint8Array(1)
i[0]=p[e.type]
var o=new m([i.buffer,e.data])
return r(o)}(e,n,i)
if(o&&o.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data
return n(r)}(e,i)
var a=p[e.type]
return void 0!==e.data&&(a+=r?c.encode(String(e.data),{strict:!1}):String(e.data)),i(""+a)},t.encodeBase64Packet=function(e,n){var r,i="b"+t.packets[e.type]
if(void 0!==m&&e.data instanceof m){var o=new FileReader
return o.onload=function(){var e=o.result.split(",")[1]
n(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var a=new Uint8Array(e.data),s=new Array(a.length),c=0;c<a.length;c++)s[c]=a[c]
r=String.fromCharCode.apply(null,s)}return i+=btoa(r),n(i)},t.decodePacket=function(e,n,r){if(void 0===e)return h
if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),n)
if(r&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return h
var i=e.charAt(0)
return Number(i)==i&&f[i]?e.length>1?{type:f[i],data:e.substring(1)}:{type:f[i]}:h}i=new Uint8Array(e)[0]
var o=a(e,1)
return m&&"blob"===n&&(o=new m([o])),{type:f[i],data:o}},t.decodeBase64Packet=function(e,t){var n=f[e.charAt(0)]
if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}}
var i=r.decode(e.substr(1))
return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null)
var i=o(e)
if(n&&i)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r)
if(!e.length)return r("0:")
g(e,(function(e,r){t.encodePacket(e,!!i&&n,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))}))},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r)
var i
if("function"==typeof n&&(r=n,n=null),""===e)return r(h,0,1)
for(var o,a,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c)
if(":"===u){if(""===s||s!=(o=Number(s)))return r(h,0,1)
if(s!=(a=e.substr(c+1,o)).length)return r(h,0,1)
if(a.length){if(i=t.decodePacket(a,n,!1),h.type===i.type&&h.data===i.data)return r(h,0,1)
if(!1===r(i,c+o,l))return}c+=o,s=""}else s+=u}return""!==s?r(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0))
g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){return n(null,e)}))}),(function(e,t){var r=t.reduce((function(e,t){var n
return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0
return t.forEach((function(e){var t="string"==typeof e,n=e
if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a)
n=r.buffer}i[o++]=t?0:1
var s=n.byteLength.toString()
for(a=0;a<s.length;a++)i[o++]=parseInt(s[a])
i[o++]=255
for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]})),n(i.buffer)}))},t.encodePayloadAsBlob=function(e,n){g(e,(function(e,n){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1)
if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i)
e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1)
for(i=0;i<o.length;i++)a[i]=parseInt(o[i])
if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e])
n(null,s)}}))}),(function(e,t){return n(new m(t))}))},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null)
for(var i=e,o=[];i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],l="",u=1;255!==s[u];u++){if(l.length>310)return r(h,0,1)
l+=s[u]}i=a(i,2+l.length),l=parseInt(l)
var d=a(i,0,l)
if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var p=new Uint8Array(d)
d=""
for(u=0;u<p.length;u++)d+=String.fromCharCode(p[u])}o.push(d),i=a(i,l)}var f=o.length
o.forEach((function(e,i){r(t.decodePacket(e,n,!0),i,f)}))}},,,,,function(e,t,n){"use strict"
var r=n(297),i=n(246)
e.exports=function(e,t,n,o){var a=!n
n||(n={})
for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0
void 0===u&&(u=e[l]),a?i(n,l,u):r(n,l,u)}return n}},function(e,t,n){"use strict"
var r=n(63),i=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.positionMenu=f,t.default=void 0
var o=i(n(279)),a=i(n(59)),s=r(n(5)),c=n(37),l=i(n(1)),u=r(n(38)),d=n(35),p=i(n(10))
function f(e){var t=e.$opener,n=e.$menuBase,r=(e.menuX,e.menuY),i=void 0===r?"bottom":r,o=e.menuBaseStyle,a=void 0===o?{}:o,s=e.inflexible,c=void 0!==s&&s,l=e.shouldSetMaxHeight,u=void 0!==l&&l
if(t&&n){var d,p=n.querySelector("*"),f={styleFor$menuBase:{},styleFor$menu:{}},h=function(e){return Object.assign(f.styleFor$menu,e)},m=(p.offsetWidth,p.offsetHeight),g=a.width||t.offsetWidth,b=a.height||t.offsetHeight,v=t.getBoundingClientRect(),y=Object.assign({top:v.top,right:v.right,bottom:v.bottom,left:v.left},a),x=y.top,w=(y.right,y.bottom),j=y.left
d={top:"".concat(x,"px"),left:"".concat(j,"px"),width:"".concat(g,"px"),height:"".concat(b,"px")},Object.assign(f.styleFor$menuBase,d)
var S=window.innerHeight,_=S-10
return(c&&"bottom"===i||!c&&S*("top"===i?1/3:2/3)>=x+b/2)&&x+b+m+9<S?(f.isDownward=!0,u&&w+m>_&&h({maxHeight:"".concat(_-w,"px")})):(f.isDownward=!1,u&&x-m<10&&h({maxHeight:"".concat(x-10,"px")})),Object.assign(n.style,f.styleFor$menuBase),Object.assign(p.style,f.styleFor$menu),f}}function h(){var e=b(["\n  position: fixed;\n  z-index: 1100;\n  pointer-events: none;\n"])
return h=function(){return e},e}function m(){
var e=b(["\n  position: absolute;\n  margin: 0.25em 0;\n  width: -moz-fit-content;\n  width: -webkit-fit-content;\n  width: fit-content;\n  min-width: 7em;\n  font-size: 12px;\n  filter: drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.2s ease-in-out;\n  transition-property: transform, opacity;\n  transform-origin: 50% 0;\n  transform: scale(0.9);\n  &.is-open {\n    pointer-events: initial;\n    opacity: 1;\n    transform: scale(1);\n  }\n  &.x-left {\n    left: 0;\n  }\n  &.x-right {\n    left: initial;\n    right: 0;\n  }\n  &.x-center {\n    left: 50%;\n    transform: scale(0.9) translateX(-50%);\n    &.is-open {\n    transform: scale(1) translateX(-50%);\n    }\n  }\n\n  &.is-downward {\n    top: 100%;\n    bottom: initial;\n  }\n  &.is-upward {\n    top: initial;\n    bottom: 100%;\n  }\n  &.arrowed {\n    margin-top: 0.75em;\n    margin-bottom: 0.75em;\n    &.x-left.x-arrow-based {\n      left: 50%;\n      margin-left: -14px;\n    }\n    &.x-right.x-arrow-based {\n      left: initial;\n      right: 50%;\n      margin-right: -14px;\n    }\n  }\n  .arrow {\n    position: absolute;\n    top: 0;\n    left: calc(50% - 0.5em);\n    width: 1em;\n    height: 0.375em;\n    font-size: 14px;\n    line-height: 0;\n    fill: currentColor;\n    fill-rule: evenodd;\n    color: #fff;\n    svg {\n      position: absolute;\n      width: auto;\n      height: 5px;\n      transform: translateY(-100%);\n    }\n  }\n\n  &.dark .arrow {\n    color: rgba(30, 41, 46, .9);\n  }\n\n  &.x-left .arrow {\n    left: 0.5em;\n    right: initial;\n  }\n  &.x-right .arrow {\n    left: initial;\n    right: 0.5em;\n  }\n  &.is-upward .arrow {\n    transform: rotate(180deg);\n    top: initial;\n    bottom: 0;\n  }\n\n  .content {\n    padding: 0.75em 0.5em;\n    min-height: 32px;\n    background-color: #fff;\n    border-radius: 4px;\n  }\n  &.dark .content {\n    background-color: rgba(30, 41, 46, .9);\n    color: #fff;\n  }\n\n  ul.MenuList {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    text-align: center;\n    color: #5b6b73;\n    li {\n      line-height: 32px;\n      border-radius: 2px;\n      cursor: pointer;\n      &:not(.is-disabled):hover {\n        background-color: #f6f7f8;\n      }\n      &.is-active {\n        color: #298df8;\n      }\n      &.is-disabled {\n        cursor: not-allowed;\n        opacity: 0.5;\n      }\n    }\n  }\n"])
return m=function(){return e},e}function g(){var e=b(["\n  &.is-disabled {\n    opacity: 0.5;\n    > button {\n      cursor: not-allowed;\n    }\n  }\n"])
return g=function(){return e},e}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=p.default.label(g()),y=p.default.div(m()),x=p.default.div(h())
function w(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?w(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){
return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=N(e)
if(t){var i=N(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return D(this,n)}}function D(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=document.getElementById("IBOT_DROPDOWN_MENU_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_DROPDOWN_MENU_ROOT"}),L=document.body
L.contains(I)||L.appendChild(I)
var B=function(e){E(n,e)
var t=T(n)
function n(){var e
C(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return P(A(e=t.call.apply(t,[this].concat(i))),"state",{prevProps:e.props,isOpen:e.props.isOpen,$opener:null,currentMenuListItemIdx:e.props.currentMenuListItemIdx}),P(A(e),"leaveTimeoutList",[]),P(A(e),"toggle",(function(t){return e.setState({isOpen:(0,o.default)(t)?t:!e.state.isOpen})})),P(A(e),"open",(function(){return e.toggle(!0)})),P(A(e),"close",(function(){return e.toggle(!1)})),P(A(e),"onMouseEnter",(function(){e.props.shouldOpenOnHover&&(clearTimeout(e.closeTimeout),Object.assign(A(e),{
hoverTimeout:setTimeout(e.open,e.props.hoverDelay)}))})),P(A(e),"onMouseLeave",(function(){e.props.shouldOpenOnHover&&clearTimeout(e.hoverTimeout)})),P(A(e),"onMouseMove",(function(t){var n=t.clientX,r=t.clientY,i=e.props,o=i.shouldOpenOnHover,a=i.hoverDelay,s=i.hoverCloseDelay,c=e.state.$opener
if(o){clearTimeout(e.hoverTimeout)
var l=document.elementFromPoint(n,r),u=!c.contains(l),d=!l.closest(".DropdownMenu")
d?u&&d&&e.leaveTimeoutList.push(setTimeout(e.close,void 0!==s?s:Math.max(a,300))):(e.leaveTimeoutList.map(clearTimeout),Object.assign(A(e),{leaveTimeoutList:[]}))}})),P(A(e),"set$opener",(function(t){return e.setState({$opener:t})})),P(A(e),"onSelect",(function(t){var n=t.currentTarget,r=e.props,i=r.menuList,o=r.onSelect,a=r.shouldCloseOnSelect
if("function"==typeof o){var s=n.dataset.idx,c=i[s]
o(s,"string"==typeof c?c:c&&c.value),e.setState({currentMenuListItemIdx:s}),a&&e.close()}})),e}return k(n,[{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.props,i=r.onOpen,o=r.onClose,a=r.onToggle,s=this.state.isOpen
n!==s&&(s?(i(),a(!0)):(o(),a(!1)))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.opener,r=e.openerType,i=e.shouldCloseOnClickOutside,o=this.state,a=o.isOpen,c=o.$opener,l=o.currentMenuListItemIdx,p=this.props.isDisabled||this.props.disabled,f=(0,d.trimList)(["Dropdown",a&&"is-open",p&&"is-disabled",t]),h={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,disabled:p}
return s.default.createElement(v,{ref:this.set$opener,className:f},"button"!==r&&(0,s.isValidElement)(n)?(0,s.cloneElement)(n,h):s.default.createElement("button",_({type:"button"},h),n),s.default.createElement(F,_({},this.props,{isOpen:a,$opener:c,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:i,currentMenuListItemIdx:l})),a&&s.default.createElement(u.default,{target:document,onMouseMove:this.onMouseMove}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.isOpen
return(0,a.default)(e,n)?null:(0,o.default)(e.isOpen)?{prevProps:e,isOpen:e.isOpen}:{prevProps:e}}}]),n}(s.PureComponent)
P(B,"positionMenu",f),P(B,"propTypes",{isOpen:l.default.bool,mode:l.default.oneOf(["light","dark"]),opener:l.default.node,openerType:l.default.oneOf(["button","custom"]),className:l.default.string,portalClassName:l.default.string,menuBaseClassName:l.default.string,menuClassName:l.default.string,menuBaseStyle:l.default.shape({top:l.default.number,right:l.default.number,bottom:l.default.number,width:l.default.number,height:l.default.number}),menu:l.default.node,
menuList:l.default.arrayOf(l.default.oneOfType([l.default.node,l.default.shape({label:l.default.node,value:l.default.any,isDisabled:l.default.bool})])),currentMenuListItemIdx:l.default.oneOfType([l.default.number,l.default.string]),shouldPreventScrollingPropagation:l.default.bool,shouldOpenOnHover:l.default.bool,shouldCloseOnClickOutside:l.default.bool,hoverDelay:l.default.oneOfType([l.default.number,l.default.string]),hoverCloseDelay:l.default.oneOfType([l.default.number,l.default.string]),
arrowed:l.default.bool,inflexible:l.default.bool,menuX:l.default.oneOf(["left","center","right"]),menuY:l.default.oneOf(["top","bottom"]),menuBasedX:l.default.bool,isDisabled:l.default.bool,disabled:l.default.bool,onSelect:l.default.func,shouldCloseOnSelect:l.default.bool,onOpen:l.default.func.isRequired,onClose:l.default.func.isRequired,onToggle:l.default.func.isRequired}),P(B,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,
shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null}})
var F=function(e){E(n,e)
var t=T(n)
function n(){var e
C(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return P(A(e=t.call.apply(t,[this].concat(i))),"state",{isDownward:"bottom"===e.props.position}),P(A(e),"portal",(0,d.preparePortal)(I,(0,d.trimList)(["DropdownMenuPortal",e.props.portalClassName]))),P(A(e),"menuBaseRef",(0,s.createRef)()),P(A(e),"onResizeWindow",(function(){return e.props.isOpen&&e.position()})),P(A(e),"onClickOutside",(function(t){var n=t.target,r=e.props,i=r.$opener,o=r.onClose
if(r.shouldCloseOnClickOutside){var a=!I.contains(n),s=n.closest("label"),c=s&&s.contains(i),l=!!(0,d.$)(".SelectMenu.is-open")
!a||c||l||o()}})),P(A(e),"position",(function(){var t=e.props,n=t.$opener,r=t.menuX,i=t.menuY,o=t.menuBaseStyle,a=t.inflexible,s=f({$menuBase:A(e).menuBaseRef.current,$opener:n,menuX:r,menuY:i,menuBaseStyle:o,inflexible:a}).isDownward
e.setState({isDownward:s})})),e}return k(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.shouldPreventScrollingPropagation,r=this.menuBaseRef.current
t&&setTimeout(this.position),n&&(0,d.preventScrollingPropagation)((0,d.$)(".content",r)),window.addEventListener("resize",this.onResizeWindow)}},{key:"componentDidUpdate",value:function(e){var t=e.isOpen,n=this.props.isOpen
!t&&n&&this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}},{key:"render",value:function(){var e=this.portal,t=this.menu
return(0,c.createPortal)(t,e)}},{key:"menu",get:function(){var e=this.props,t=e.isOpen,n=e.mode,r=e.menuBaseClassName,i=e.menuClassName,o=e.menu,a=e.menuList,c=e.arrowed,l=e.menuX,p=(e.menuY,e.menuBasedX),f=e.currentMenuListItemIdx,h=e.onSelect,m=this.state.isDownward,g=(0,d.trimList)(["DropdownMenu",n,t&&"is-open",m?"is-downward":"is-upward","x-".concat(l),c&&"arrowed ".concat(p?"x-menu-based":"x-arrow-based"),i])
return s.default.createElement(x,{ref:this.menuBaseRef,className:(0,d.trimList)(["DropdownMenuBase",r])},s.default.createElement(y,{className:g},c&&s.default.createElement("span",{className:"arrow",dangerouslySetInnerHTML:{__html:d.SVG.DROPDOWN_ARROW}}),s.default.createElement("div",{className:"content"},a?s.default.createElement("ul",{className:"MenuList"},a.map((function(e,t){return s.default.createElement("li",{key:t,role:"option","data-idx":t,className:(0,
d.trimList)([e.isDisabled&&"is-disabled",t===Number(f)&&"is-active"]),onClick:e.isDisabled?void 0:h},e.label||e)}))):o),t&&s.default.createElement(u.default,{target:document,onClick:this.onClickOutside}),t&&s.default.createElement(u.default,{target:document,onScroll:(0,u.withOptions)(this.position,{capture:!0})})))}}]),n}(s.PureComponent)
P(F,"propTypes",j(j({},B.propTypes),{},{isOpen:l.default.bool,$opener:l.default.instanceOf(Element),onSelect:l.default.func,onClose:l.default.func}))
var R=B
t.default=R},function(e,t,n){"use strict"
n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p}))
var r=n(4),i=n.n(r),o=n(114),a=n(262),s=n(47),c=function(){for(var e=Object(a.a)(),t=$(e).find(".ah"),n=12,r=12;r>=1;r--)t.css("font-size",r+"px"),t.css("line-height","100%"),t.text("a").height()===r&&(n=r)
return n},l=function(e){return"rich_text"===e.name?{width:Object(s.c)(e),height:Object(s.b)(e)}:{width:e.width,height:e.height}},u=function(e){return"rich_text"===e.name?d(e):e.height},d=function(e){if("rich_text"!==e.name)return null
var t=Object(a.a)(MB.currentProject&&MB.currentProject.device).getElementsByClassName("auto-height")[0]
t.style.width=e.width+"px",t.innerHTML=Object(o.getHTML)(e.text)
var n=t.getBoundingClientRect()
return Math.ceil(n.height)},p=function(e,t){var n=i()(i()({},e[0]),{},{children:void 0}),r=i()(i()({},e[0].children[0]),{},{text:void 0})
return t.map((function(e){return i()(i()({},n),{},{children:[i()(i()({},r),{},{text:e})]})}))}},function(e,t,n){"use strict"
var r,i=n(17)(n(24))
!function(o,a,s,c){var l,u=["","webkit","Moz","MS","ms","o"],d=a.createElement("div"),p=Math.round,f=Math.abs,h=Date.now
function m(e,t,n){return setTimeout(j(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(b(e,n[t],n),!0)}function b(e,t,n){var r
if(e)if(e.forEach)e.forEach(t,n)
else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++
else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n"
return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log)
return i&&i.call(o.console,r,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object")
for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n]
if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign
var y=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++
return e}),"extend","Use `assign`."),x=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.")
function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function j(e,t){return function(){return e.apply(t,arguments)}}function S(e,t){return"function"==(0,i.default)(e)?e.apply(t&&t[0]||void 0,t):e}function _(e,t){return void 0===e?t:e}function C(e,t,n){b(M(t),(function(t){e.addEventListener(t,n,!1)}))}function O(e,t,n){b(M(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0
e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function M(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t)
for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r
r++}return-1}function D(e){return Array.prototype.slice.call(e,0)}function A(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o]
T(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function N(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:t)in e)return r
o++}}var P=1
function I(e){var t=e.ownerDocument||e
return t.defaultView||t.parentWindow||o}var L="ontouchstart"in o,B=void 0!==N(o,"PointerEvent"),F=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),R=["x","y"],z=["clientX","clientY"]
function U(e,t){var n=this
this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){S(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i==0,a=12&t&&r-i==0
n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length
n.firstInput||(n.firstInput=G(t))
i>1&&!n.firstMultiple?n.firstMultiple=G(t):1===i&&(n.firstMultiple=!1)
var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=t.center=V(r)
t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=q(s,c),t.distance=Z(s,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{}
1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y})
t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=Y(t.deltaX,t.deltaY)
var l=W(t.deltaTime,t.deltaX,t.deltaY)
t.overallVelocityX=l.x,t.overallVelocityY=l.y,t.overallVelocity=f(l.x)>f(l.y)?l.x:l.y,t.scale=a?(u=a.pointers,d=r,Z(d[0],d[1],z)/Z(u[0],u[1],z)):1,t.rotation=a?function(e,t){return q(t[1],t[0],z)+q(e[1],e[0],z)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp
if(8!=t.eventType&&(s>25||void 0===a.velocity)){var c=t.deltaX-a.deltaX,l=t.deltaY-a.deltaY,u=W(s,c,l)
r=u.x,i=u.y,n=f(u.x)>f(u.y)?u.x:u.y,o=Y(c,l),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction
t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t)
var u,d
var p=e.element
k(t.srcEvent.target,p)&&(p=t.srcEvent.target)
t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function G(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++
return{timeStamp:h(),pointers:t,center:V(t),deltaX:e.deltaX,deltaY:e.deltaY}}function V(e){var t=e.length
if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)}
for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++
return{x:p(n/t),y:p(r/t)}}function W(e,t,n){return{x:t/e||0,y:n/e||0}}function Y(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function Z(e,t,n){n||(n=R)
var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]]
return Math.sqrt(r*r+i*i)}function q(e,t,n){n||(n=R)
var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]]
return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(I(this.element),this.evWin,this.domHandler)}}
var X={mousedown:1,mousemove:2,mouseup:4}
function J(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,U.apply(this,arguments)}w(J,U,{handler:function(e){var t=X[e.type]
1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}})
var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Q={2:"touch",3:"pen",4:"mouse",5:"kinect"},$="pointerdown",ee="pointermove pointerup pointercancel"
function te(){this.evEl=$,this.evWin=ee,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&($="MSPointerDown",ee="MSPointerMove MSPointerUp MSPointerCancel"),w(te,U,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=K[r],o=Q[e.pointerType]||e.pointerType,a="touch"==o,s=T(t,e.pointerId,"pointerId")
1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}})
var ne={touchstart:1,touchmove:2,touchend:4,touchcancel:8}
function re(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,U.apply(this,arguments)}function ie(e,t){var n=D(e.touches),r=D(e.changedTouches)
return 12&t&&(n=A(n.concat(r),"identifier",!0)),[n,r]}w(re,U,{handler:function(e){var t=ne[e.type]
if(1===t&&(this.started=!0),this.started){var n=ie.call(this,e,t)
12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}})
var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8}
function ae(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},U.apply(this,arguments)}function se(e,t){var n=D(e.touches),r=this.targetIds
if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n]
var i,o,a=D(e.changedTouches),s=[],c=this.target
if(o=n.filter((function(e){return k(e.target,c)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++
for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++
return s.length?[A(o.concat(s),"identifier",!0),s]:void 0}w(ae,U,{handler:function(e){var t=oe[e.type],n=se.call(this,e,t)
n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}})
function ce(){U.apply(this,arguments)
var e=j(this.handler,this)
this.touch=new ae(this.manager,e),this.mouse=new J(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ue.call(this,t)):12&e&&ue.call(this,t)}function ue(e){var t=e.changedPointers[0]
if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY}
this.lastTouches.push(n)
var r=this.lastTouches
setTimeout((function(){var e=r.indexOf(n)
e>-1&&r.splice(e,1)}),2500)}}function de(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y)
if(o<=25&&a<=25)return!0}return!1}w(ce,U,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType
if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)le.call(this,t,n)
else if(i&&de.call(this,n))return
this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}})
var pe=N(d.style,"touchAction"),fe=void 0!==pe,he=function(){if(!fe)return!1
var e={},t=o.CSS&&o.CSS.supports
return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}()
function me(e,t){this.manager=e,this.set(t)}me.prototype={set:function(e){"compute"==e&&(e=this.compute()),fe&&this.manager.element.style&&he[e]&&(this.manager.element.style[pe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[]
return b(this.manager.recognizers,(function(t){S(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(E(e,"none"))return"none"
var t=E(e,"pan-x"),n=E(e,"pan-y")
if(t&&n)return"none"
if(t||n)return t?"pan-x":"pan-y"
if(E(e,"manipulation"))return"manipulation"
return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection
if(this.manager.session.prevented)t.preventDefault()
else{var r=this.actions,i=E(r,"none")&&!he.none,o=E(r,"pan-y")&&!he["pan-y"],a=E(r,"pan-x")&&!he["pan-x"]
if(i){var s=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250
if(s&&c&&l)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}}
function ge(e){this.options=l({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function be(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ve(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager
return n?n.get(e):e}function xe(){ge.apply(this,arguments)}function we(){xe.apply(this,arguments),this.pX=null,this.pY=null}function je(){xe.apply(this,arguments)}function Se(){ge.apply(this,arguments),this._timer=null,this._input=null}function _e(){xe.apply(this,arguments)}function Ce(){xe.apply(this,arguments)}function Oe(){ge.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=_(t.recognizers,ke.defaults.preset),
new Ee(e,t)}ge.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this
var t=this.simultaneous
return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=ye(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this
var t=this.requireFail
return-1===T(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this
e=ye(e,this)
var t=T(this.requireFail,e)
return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state
function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+be(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+be(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e)
this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1
e++}return!0},recognize:function(e){var t=l({},e)
if(!S(this.options.enable,[this,t]))return this.reset(),void(this.state=32)
56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(xe,ge,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers
return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e)
return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:32}}),w(we,xe,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[]
return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY
return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return xe.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY
var t=ve(e.direction)
t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(je,xe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out"
e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Se,ge,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time
if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset()
else if(1&e.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),t.time,this)
else if(4&e.eventType)return 8
return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),w(_e,xe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Ce,xe,{defaults:{event:"swipe",threshold:10,
velocity:.3,direction:30,pointers:1},getTouchAction:function(){return we.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction
return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ve(e.offsetDirection)
t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Oe,ge,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time
if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout()
if(r&&i&&n){if(4!=e.eventType)return this.failTimeout()
var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Z(this.pCenter,e.center)<t.posThreshold
if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),
ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[_e,{enable:!1}],[je,{enable:!1},["rotate"]],[Ce,{direction:6}],[we,{direction:6},["swipe"]],[Oe],[Oe,{event:"doubletap",taps:2},["tap"]],[Se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}}
function Ee(e,t){var n
this.options=l({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(B?te:F?ae:L?ce:J))(n,H),this.touchAction=new me(this,this.options.touchAction),Me(this,!0),b(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]))
e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Me(e,t){var n,r=e.element
r.style&&(b(e.options.cssProps,(function(i,o){n=N(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ee.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session
if(!t.stopped){var n
this.touchAction.preventDefaults(e)
var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null)
for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof ge)return e
for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n]
return null},add:function(e){if(g(e,"add",this))return this
var t=this.get(e.options.event)
return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this
if(e=this.get(e)){var t=this.recognizers,n=T(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers
return b(M(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers
return b(M(e),(function(e){t?n[e]&&n[e].splice(T(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=a.createEvent("Event")
n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t)
var n=this.handlers[e]&&this.handlers[e].slice()
if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()}
for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ee,Input:U,
TouchAction:me,TouchInput:ae,MouseInput:J,PointerEventInput:te,TouchMouseInput:ce,SingleTouchInput:re,Recognizer:ge,AttrRecognizer:xe,Tap:Oe,Pan:we,Swipe:Ce,Pinch:je,Rotate:_e,Press:Se,on:C,off:O,each:b,merge:x,extend:y,assign:l,inherit:w,bindFn:j,prefixed:N}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=ke,void 0===(r=function(){return ke}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.RadioGroup=t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(59)),c=n(35),l=r(n(10))
function u(){var e=f(["\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  &.is-disabled {\n    cursor: not-allowed;\n  }\n  .Radio,\n  .CoreRadio {\n    margin-right: .5em;\n    min-height: 2em;\n  }\n"])
return u=function(){return e},e}function d(){var e=f(["\n  .Check-state {\n    padding: 1px;\n    border-radius: 50%;\n\n    &:after {\n    content: '';\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    display: block;\n    width: 4px;\n    height: 4px;\n    background-color: #fff;\n    border-radius: 50%;\n    }\n  }\n  .is-checked .Check-state {\n    position: relative;\n  }\n"])
return d=function(){return e},e}function p(){
var e=f(["\n  position: relative;\n  display: inline-flex;\n  align-items: baseline;\n  line-height: 1.5;\n  cursor: pointer;\n  color: #5b6b73;\n\n  > input[type=radio] {\n    position: absolute;\n    opacity: 0;\n  }\n  &.regular {\n    font-size: 14px;\n  }\n  &.small {\n    font-size: 12px;\n    .Check-state {\n      transform: translateY(2px);\n    }\n  }\n  &.readonly {\n    cursor: default;\n  }\n  &.is-disabled {\n    cursor: not-allowed;\n    &::after {\n      content: '';\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(255,255,255,0.5);\n    }\n  }\n  .Check-state {\n    position: relative;\n    flex: 0 0 1em;\n    margin-right: 0.33333em;\n    width: 1em;\n    height: 1em;\n    transform: translateY(1px);\n    font-size: 12px;\n    background-color: #f6f7f8;\n    border: 1px solid #8d9ea7;\n    border-radius: 2px;\n    color: #fff;\n    transition: all 0.2s ease-in-out;\n    .svg-icon.check {\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      transition: all 0.2s ease-in-out;\n      opacity: 0;\n    }\n  }\n  &.small .Check-state {\n    transform: translateY(2px);\n  }\n  &.CoreRadio,\n  &.Radio {\n    &.is-checked {\n      .Check-state {\n        background-color: #298df8;\n        border-color: transparent;\n        color: #fff;\n  \n        .svg-icon.check {\n          transform: scale(0.833);\n        }\n      }\n    }\n  }\n  &:not(.is-checked) .Check-state .icon {\n    speak: none;\n    opacity: 0;\n  }\n  &.CoreRadio {\n    .Check-state {\n      background-color: #fff;\n      border-color: #bacdd6;\n    }\n    &.is-checked .Check-state {\n      background-color: #eb5648;\n    }\n  }\n"])
return p=function(){return e},e}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=l.default.label(p()),m=(0,l.default)(h)(d()),g=l.default.span(u())
function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=O(e)
if(t){var i=O(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return _(this,n)}}function _(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){w(n,e)
var t=S(n)
function n(){var e
v(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return k(C(e=t.call.apply(t,[this].concat(i))),"state",{prevProps:e.props,isChecked:e.props.isChecked}),k(C(e),"onToggle",(function(){var t=e.props,n=t.name,r=t.value,i=t.label,o=t.onToggle,a=t.onChange,s=e.state.isChecked,c=!!C(e).canToggle||s
e.setState({isChecked:c}),o(c,n,r||i),a(n,r||i,c)})),e}return x(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.theme,r=e.className,i=e.label,a=e.name,s=this.state.isChecked,l=this.isDisabled,u=this.readOnly
return o.default.createElement(m,{className:(0,c.trimList)(["core"===n?"CoreRadio":"Radio",t,r,s&&"is-checked",l&&"is-disabled",u&&"readonly"])},o.default.createElement("input",{type:"radio",defaultChecked:s,disabled:l,name:a,onClick:this.onToggle}),o.default.createElement("span",{className:"Check-state"}),o.default.createElement("span",{className:"Check-label"},i))}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.isChecked
return(0,s.default)(n,e)?null:{prevProps:e,isChecked:e.isChecked}}}]),n}(o.PureComponent)
k(E,"propTypes",{size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),className:a.default.string,label:a.default.any,name:a.default.string,value:a.default.any,isChecked:a.default.bool,isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,onChange:a.default.func.isRequired,onToggle:a.default.func.isRequired}),k(E,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})
var M=function(e){w(n,e)
var t=S(n)
function n(){var e
v(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return k(C(e=t.call.apply(t,[this].concat(i))),"name",e.props.name||Math.random().toString(36).substring(2,15)),k(C(e),"state",{prevProps:e.props,value:e.props.value}),k(C(e),"createOnChangeHandler",(function(t,n,r){return function(){var i=e.props,o=i.onToggle,a=i.onChange,s=e.state.value,c=C(e).canToggle?n:s
e.setState({value:c}),o(c,t),a({name:t,value:c,idx:r})}})),e}return x(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=t.theme,i=t.className,a=t.optionList,s=this.state.value,l=this.name,u=this.isDisabled,d=this.readOnly,p=(0,c.trimList)(["core"===r?"CoreRadioGroup":"RadioGroup",n,i,u&&"is-disabled",d&&"readonly"])
return o.default.createElement(g,{className:p},a.map((function(t,i){return t&&o.default.createElement(E,{key:i,name:l,size:n,theme:r,label:(0,c.getOptionLabel)(t),type:"radio",isChecked:(0,c.checkOptionByValue)(t,s),isDisabled:u||t.isDisabled,readOnly:d,onChange:u||t.isDisabled?void 0:e.createOnChangeHandler(l,(0,c.getOptionValue)(t),i)})})))}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
return(0,s.default)(n,e)?null:{prevProps:e,value:e.value}}}]),n}(o.PureComponent)
t.RadioGroup=M,k(M,"propTypes",{size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),className:a.default.string,name:a.default.string,optionList:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number,a.default.shape({label:a.default.any,value:a.default.any,isDisabled:a.default.bool})])).isRequired,value:a.default.oneOfType([a.default.number,a.default.string]),isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,
onChange:a.default.func.isRequired,onToggle:a.default.func.isRequired}),k(M,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:function(){return null},onToggle:function(){return null}})
var T=E
t.default=T},function(e,t,n){"use strict"
var r=n(17),i=r(n(22)),o=r(n(26)),a=r(n(8)),s=r(n(9)),c=r(n(7)),l=r(n(6)),u=r(n(24))
function d(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t]
"object"!=(0,u.default)(n)||Object.isFrozen(n)||d(n)})),e}var p=d,f=d
p.default=f
var h=function(){function e(t){(0,c.default)(this,e),void 0===t.data&&(t.data={}),this.data=t.data}return(0,l.default)(e,[{key:"ignoreMatch",value:function(){this.ignore=!0}}]),e}()
function m(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function g(e){var t=Object.create(null)
for(var n in e)t[n]=e[n]
for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o]
return i.forEach((function(e){for(var n in e)t[n]=e[n]})),t}var b=function(e){return!!e.kind},v=function(){function e(t,n){(0,c.default)(this,e),this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}return(0,l.default)(e,[{key:"addText",value:function(e){this.buffer+=m(e)}},{key:"openNode",value:function(e){if(b(e)){var t=e.kind
e.sublanguage||(t="".concat(this.classPrefix).concat(t)),this.span(t)}}},{key:"closeNode",value:function(e){b(e)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),e}(),y=function(e){(0,a.default)(n,e)
var t=(0,s.default)(n)
function n(e){var r
return(0,c.default)(this,n),(r=t.call(this)).options=e,r}return(0,l.default)(n,[{key:"addKeyword",value:function(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}},{key:"addText",value:function(e){""!==e&&this.add(e)}},{key:"addSublanguage",value:function(e,t){var n=e.root
n.kind=t,n.sublanguage=!0,this.add(n)}},{key:"toHTML",value:function(){return new v(this,this.options).value()}},{key:"finalize",value:function(){return!0}}]),n}(function(){function e(){(0,c.default)(this,e),this.rootNode={children:[]},this.stack=[this.rootNode]}return(0,l.default)(e,[{key:"add",value:function(e){this.top.children.push(e)}},{key:"openNode",value:function(e){var t={kind:e,children:[]}
this.add(t),this.stack.push(t)}},{key:"closeNode",value:function(){if(this.stack.length>1)return this.stack.pop()}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(e){return this.constructor._walk(e,this.rootNode)}},{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}}],[{key:"_walk",value:function(e,t){var n=this
return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((function(t){return n._walk(e,t)})),e.closeNode(t)),e}},{key:"_collapse",value:function(t){"string"!=typeof t&&t.children&&(t.children.every((function(e){return"string"==typeof e}))?t.children=[t.children.join("")]:t.children.forEach((function(t){e._collapse(t)})))}}]),e}())
function x(e){return e?"string"==typeof e?e:e.source:null}function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t.map((function(e){return x(e)})).join("")
return r}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r="("+t.map((function(e){return x(e)})).join("|")+")"
return r}var S="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",_={begin:"\\\\[\\s\\S]",relevance:0},C={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[_]},O={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[_]},k={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=g({
className:"comment",begin:e,end:t,contains:[]},n)
return r.contains.push(k),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},M=E("//","$"),T=E("/\\*","\\*/"),D=E("#","$"),A={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},N={className:"number",begin:S,relevance:0},P={className:"number",begin:"\\b(0b[01]+)",relevance:0},I={className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},L={
begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[_,{begin:/\[/,end:/\]/,relevance:0,contains:[_]}]}]},B={className:"title",begin:"[a-zA-Z]\\w*",relevance:0},F={className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},R={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},z=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:S,BINARY_NUMBER_RE:"\\b(0b[01]+)",
RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//
return e.binary&&(e.begin=w(t,/.*\b/,e.binary,/\b.*/)),g({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:_,APOS_STRING_MODE:C,QUOTE_STRING_MODE:O,PHRASAL_WORDS_MODE:k,COMMENT:E,C_LINE_COMMENT_MODE:M,C_BLOCK_COMMENT_MODE:T,HASH_COMMENT_MODE:D,NUMBER_MODE:A,C_NUMBER_MODE:N,BINARY_NUMBER_MODE:P,CSS_NUMBER_MODE:I,REGEXP_MODE:L,TITLE_MODE:B,UNDERSCORE_TITLE_MODE:F,METHOD_GUARD:R,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{
"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}})
function U(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function H(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=U,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords)}function G(e,t){Array.isArray(e.illegal)&&(e.illegal=j.apply(void 0,(0,o.default)(e.illegal)))}function V(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match")
e.begin=e.match,delete e.match}}function W(e,t){void 0===e.relevance&&(e.relevance=1)}var Y=["of","and","for","in","not","or","if","then","parent","list","value"]
function Z(e,t){return t?Number(t):function(e){return Y.includes(e.toLowerCase())}(e)?0:1}function q(e,t){t.plugins
function n(t,n){return new RegExp(x(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}var r=function(){function e(){(0,c.default)(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return(0,l.default)(e,[{key:"addRule",value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}},{key:"compile",value:function(){
0===this.regexes.length&&(this.exec=function(){return null})
var e=this.regexes.map((function(e){return e[1]}))
this.matcherRe=n(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|",n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,i="",o=0;o<e.length;o++){var a=r+=1,s=x(e[o])
for(o>0&&(i+=t),i+="(";s.length>0;){var c=n.exec(s)
if(null==c){i+=s
break}i+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),"\\"===c[0][0]&&c[1]?i+="\\"+String(Number(c[1])+a):(i+=c[0],"("===c[0]&&r++)}i+=")"}return i}(e),!0),this.lastIndex=0}},{key:"exec",value:function(e){this.matcherRe.lastIndex=this.lastIndex
var t=this.matcherRe.exec(e)
if(!t)return null
var n=t.findIndex((function(e,t){return t>0&&void 0!==e})),r=this.matchIndexes[n]
return t.splice(0,n),Object.assign(t,r)}}]),e}(),a=function(){function e(){(0,c.default)(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return(0,l.default)(e,[{key:"getMatcher",value:function(e){if(this.multiRegexes[e])return this.multiRegexes[e]
var t=new r
return this.rules.slice(e).forEach((function(e){var n=(0,i.default)(e,2),r=n[0],o=n[1]
return t.addRule(r,o)})),t.compile(),this.multiRegexes[e]=t,t}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}},{key:"exec",value:function(e){var t=this.getMatcher(this.regexIndex)
t.lastIndex=this.lastIndex
var n=t.exec(e)
if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{var r=this.getMatcher(0)
r.lastIndex=this.lastIndex+1,n=r.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}]),e}()
if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.")
return e.classNameAliases=g(e.classNameAliases||{}),function t(r,i){var s,c=r
if(r.compiled)return c;[V].forEach((function(e){return e(r,i)})),e.compilerExtensions.forEach((function(e){return e(r,i)})),r.__beforeBegin=null,[H,G,W].forEach((function(e){return e(r,i)})),r.compiled=!0
var l=null
if("object"===(0,u.default)(r.keywords)&&(l=r.keywords.$pattern,delete r.keywords.$pattern),r.keywords&&(r.keywords=function(e,t){var n={}
return"string"==typeof e?r("keyword",e):Object.keys(e).forEach((function(t){r(t,e[t])})),n
function r(e,r){t&&(r=r.toLowerCase()),r.split(" ").forEach((function(t){var r=t.split("|")
n[r[0]]=[e,Z(r[0],r[1])]}))}}(r.keywords,e.case_insensitive)),r.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ")
return l=l||r.lexemes||/\w+/,c.keywordPatternRe=n(l,!0),i&&(r.begin||(r.begin=/\B|\b/),c.beginRe=n(r.begin),r.endSameAsBegin&&(r.end=r.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(c.endRe=n(r.end)),c.terminatorEnd=x(r.end)||"",r.endsWithParent&&i.terminatorEnd&&(c.terminatorEnd+=(r.end?"|":"")+i.terminatorEnd)),r.illegal&&(c.illegalRe=n(r.illegal)),r.contains||(r.contains=[]),r.contains=(s=[]).concat.apply(s,(0,o.default)(r.contains.map((function(e){return function(e){
e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return g(e,{variants:null},t)})))
if(e.cachedVariants)return e.cachedVariants
if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return g(e,{starts:e.starts?g(e.starts):null})
if(Object.isFrozen(e))return g(e)
return e}("self"===e?r:e)})))),r.contains.forEach((function(e){t(e,c)})),r.starts&&t(r.starts,i),c.matcher=function(e){var t=new a
return e.contains.forEach((function(e){return t.addRule(e.begin,{rule:e,type:"begin"})})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(c),c}(e)}function X(e){var t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className:function(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted:function(){
if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn('The language "'.concat(this.language,'" you specified could not be found.')),this.unknownLanguage=!0,m(this.code)
var t={}
return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect:function(){return!this.language||function(e){return Boolean(e||""===e)}(this.autodetect)},ignoreIllegals:function(){return!0}},render:function(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}}
return{Component:t,VuePlugin:{install:function(e){e.component("highlightjs",t)}}}}var J={"after:highlightBlock":function(e){var t=e.block,n=e.result,r=e.text,i=Q(t)
if(i.length){var o=document.createElement("div")
o.innerHTML=n.value,n.value=function(e,t,n){var r=0,i="",o=[]
function a(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function s(e){i+="<"+K(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+m(e.value)+'"'})).join("")+">"}function c(e){i+="</"+K(e)+">"}function l(e){("start"===e.event?s:c)(e.node)}for(;e.length||t.length;){var u=a()
if(i+=m(n.substring(r,u[0].offset)),r=u[0].offset,u===e){o.reverse().forEach(c)
do{l(u.splice(0,1)[0]),u=a()}while(u===e&&u.length&&u[0].offset===r)
o.reverse().forEach(s)}else"start"===u[0].event?o.push(u[0].node):o.pop(),l(u.splice(0,1)[0])}return i+m(n.substr(r))}(i,Q(o),r)}}}
function K(e){return e.nodeName.toLowerCase()}function Q(e){var t=[]
return function e(n,r){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:r,node:i}),r=e(i,r),K(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:i}))
return r}(e,0),t}var $=function(e){console.error(e)},ee=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).log.apply(t,["WARN: ".concat(e)].concat(r))},te=function(e,t){console.log("Deprecated as of ".concat(e,". ").concat(t))},ne=m,re=g,ie=Symbol("nomatch"),oe=function(e){var t=Object.create(null),n=Object.create(null),r=[],o=!0,a=/(^(<[^>]+>|\t|)+|\n)/gm,s="Could not find the language '{}', did you forget to load/include a language module?",c={
disableAutodetect:!0,name:"Plain text",contains:[]},l={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:y}
function d(e){return l.noHighlightRe.test(e)}function f(e,t,n,r){var i={code:t,language:e}
O("before:highlight",i)
var o=i.result?i.result:m(i.language,i.code,n,r)
return o.code=i.code,O("after:highlight",o),o}function m(e,n,a,c){var u=n
function d(e,t){var n=j.case_insensitive?t[0].toLowerCase():t[0]
return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function p(){null!=O.subLanguage?function(){if(""!==M){var e=null
if("string"==typeof O.subLanguage){if(!t[O.subLanguage])return void E.addText(M)
e=m(O.subLanguage,M,!0,k[O.subLanguage]),k[O.subLanguage]=e.top}else e=g(M,O.subLanguage.length?O.subLanguage:null)
O.relevance>0&&(T+=e.relevance),E.addSublanguage(e.emitter,e.language)}}():function(){if(O.keywords){var e=0
O.keywordPatternRe.lastIndex=0
for(var t=O.keywordPatternRe.exec(M),n="";t;){n+=M.substring(e,t.index)
var r=d(O,t)
if(r){var o=(0,i.default)(r,2),a=o[0],s=o[1]
E.addText(n),n="",T+=s
var c=j.classNameAliases[a]||a
E.addKeyword(t[0],c)}else n+=t[0]
e=O.keywordPatternRe.lastIndex,t=O.keywordPatternRe.exec(M)}n+=M.substr(e),E.addText(n)}else E.addText(M)}(),M=""}function f(e){return e.className&&E.openNode(j.classNameAliases[e.className]||e.className),O=Object.create(e,{parent:{value:O}})}function b(e){return 0===O.matcher.regexIndex?(M+=e[0],1):(N=!0,0)}function v(e){for(var t=e[0],n=e.rule,r=new h(n),i=0,o=[n.__beforeBegin,n["on:begin"]];i<o.length;i++){var a=o[i]
if(a&&(a(e,r),r.ignore))return b(t)}return n&&n.endSameAsBegin&&(n.endRe=function(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}(t)),n.skip?M+=t:(n.excludeBegin&&(M+=t),p(),n.returnBegin||n.excludeBegin||(M=t)),f(n),n.returnBegin?0:t.length}function y(e){var t=e[0],n=u.substr(e.index),r=function e(t,n,r){var i=function(e,t){var n=e&&e.exec(t)
return n&&0===n.index}(t.endRe,r)
if(i){if(t["on:end"]){var o=new h(t)
t["on:end"](n,o),o.ignore&&(i=!1)}if(i){for(;t.endsParent&&t.parent;)t=t.parent
return t}}if(t.endsWithParent)return e(t.parent,n,r)}(O,e,n)
if(!r)return ie
var i=O
i.skip?M+=t:(i.returnEnd||i.excludeEnd||(M+=t),p(),i.excludeEnd&&(M=t))
do{O.className&&E.closeNode(),O.skip||O.subLanguage||(T+=O.relevance),O=O.parent}while(O!==r.parent)
return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),f(r.starts)),i.returnEnd?0:t.length}var x={}
function w(t,n){var r=n&&n[0]
if(M+=t,null==r)return p(),0
if("begin"===x.type&&"end"===n.type&&x.index===n.index&&""===r){if(M+=u.slice(n.index,n.index+1),!o){var i=new Error("0 width match regex")
throw i.languageName=e,i.badRule=x.rule,i}return 1}if(x=n,"begin"===n.type)return v(n)
if("illegal"===n.type&&!a){var s=new Error('Illegal lexeme "'+r+'" for mode "'+(O.className||"<unnamed>")+'"')
throw s.mode=O,s}if("end"===n.type){var c=y(n)
if(c!==ie)return c}if("illegal"===n.type&&""===r)return 1
if(A>1e5&&A>3*n.index)throw new Error("potential infinite loop, way more iterations than matches")
return M+=r,r.length}var j=S(e)
if(!j)throw $(s.replace("{}",e)),new Error('Unknown language: "'+e+'"')
var _=q(j,{plugins:r}),C="",O=c||_,k={},E=new l.__emitter(l)
!function(){for(var e=[],t=O;t!==j;t=t.parent)t.className&&e.unshift(t.className)
e.forEach((function(e){return E.openNode(e)}))}()
var M="",T=0,D=0,A=0,N=!1
try{for(O.matcher.considerAll();;){A++,N?N=!1:O.matcher.considerAll(),O.matcher.lastIndex=D
var P=O.matcher.exec(u)
if(!P)break
var I=w(u.substring(D,P.index),P)
D=P.index+I}return w(u.substr(D)),E.closeAllNodes(),E.finalize(),C=E.toHTML(),{relevance:T,value:C,language:e,illegal:!1,emitter:E,top:O}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:u.slice(D-100,D+100),mode:t.mode},sofar:C,relevance:0,value:ne(u),emitter:E}
if(o)return{illegal:!1,relevance:0,value:ne(u),emitter:E,language:e,top:O,errorRaised:t}
throw t}}function g(e,n){n=n||l.languages||Object.keys(t)
var r=function(e){var t={relevance:0,emitter:new l.__emitter(l),value:ne(e),illegal:!1,top:c}
return t.emitter.addText(e),t}(e),o=n.filter(S).filter(C).map((function(t){return m(t,e,!1)}))
o.unshift(r)
var a=o.sort((function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance
if(e.language&&t.language){if(S(e.language).supersetOf===t.language)return 1
if(S(t.language).supersetOf===e.language)return-1}return 0})),s=(0,i.default)(a,2),u=s[0],d=s[1],p=u
return p.second_best=d,p}var b={"before:highlightBlock":function(e){var t=e.block
l.useBR&&(t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightBlock":function(e){var t=e.result
l.useBR&&(t.value=t.value.replace(/\n/g,"<br>"))}},v=/^(<[^>]+>|\t)+/gm,x={"after:highlightBlock":function(e){var t=e.result
l.tabReplace&&(t.value=t.value.replace(v,(function(e){return e.replace(/\t/g,l.tabReplace)})))}}
function w(e){var t=function(e){var t=e.className+" "
t+=e.parentNode?e.parentNode.className:""
var n=l.languageDetectRe.exec(t)
if(n){var r=S(n[1])
return r||(ee(s.replace("{}",n[1])),ee("Falling back to no-highlight mode for this block.",e)),r?n[1]:"no-highlight"}return t.split(/\s+/).find((function(e){return d(e)||S(e)}))}(e)
if(!d(t)){O("before:highlightBlock",{block:e,language:t})
var r=e.textContent,i=t?f(t,r,!0):g(r)
O("after:highlightBlock",{block:e,result:i,text:r}),e.innerHTML=i.value,function(e,t,r){var i=t?n[t]:r
e.classList.add("hljs"),i&&e.classList.add(i)}(e,t,i.language),e.result={language:i.language,re:i.relevance,relavance:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance,relavance:i.second_best.relevance})}}var j=function e(){e.called||(e.called=!0,document.querySelectorAll("pre code").forEach(w))}
function S(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function _(e,t){var r=t.languageName
"string"==typeof e&&(e=[e]),e.forEach((function(e){n[e]=r}))}function C(e){var t=S(e)
return t&&!t.disableAutodetect}function O(e,t){var n=e
r.forEach((function(e){e[n]&&e[n](t)}))}for(var k in Object.assign(e,{highlight:f,highlightAuto:g,fixMarkup:function(e){return te("10.2.0","fixMarkup will be removed entirely in v11.0"),te("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),t=e,l.tabReplace||l.useBR?t.replace(a,(function(e){return"\n"===e?l.useBR?"<br>":e:l.tabReplace?e.replace(/\t/g,l.tabReplace):e})):t
var t},highlightBlock:w,configure:function(e){e.useBR&&(te("10.3.0","'useBR' will be removed entirely in v11.0"),te("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),l=re(l,e)},initHighlighting:j,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",j,!1)},registerLanguage:function(n,r){var i=null
try{i=r(e)}catch(e){if($("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw e
$(e),i=c}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&_(i.aliases,{languageName:n})},listLanguages:function(){return Object.keys(t)},getLanguage:S,registerAliases:_,requireLanguage:function(e){te("10.4.0","requireLanguage will be removed entirely in v11."),te("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844")
var t=S(e)
if(t)return t
throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:C,inherit:re,addPlugin:function(e){r.push(e)},vuePlugin:X(e).VuePlugin}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString="10.5.0",z)"object"===(0,u.default)(z[k])&&p(z[k])
return Object.assign(e,z),e.addPlugin(b),e.addPlugin(J),e.addPlugin(x),e}({})
e.exports=oe},,,,,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))
var r=n(45),i=n.n(r),o=n(10)
function a(){var e=i()(["\n  .ModalPortal,\n  .CoreModalPortal,\n  .OverlayPortal {\n    min-width: initial !important;\n  }\n"])
return a=function(){return e},e}function s(){var e=i()(["\n  ::-webkit-scrollbar-track {\n    background-color: transparent;\n  }\n\n  ::-webkit-scrollbar {\n    width: 6px;\n    height: 6px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 4px;\n  }\n\n  ::-webkit-scrollbar-corner {\n    background-color: transparent;\n  }\n"])
return s=function(){return e},e}var c=Object(o.createGlobalStyle)(s(),(function(e){return e.theme.scrollbar.thumb.y_bg})),l=Object(o.createGlobalStyle)(a())},,,,,,,function(e,t,n){"use strict"
n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}))
var r=n(26),i=n.n(r),o=n(73),a=n(42),s=n(76),c=function(e){var t=e.screenCid,n=e.stateCid,r=e.screenMeta,o=e.widgetList,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s={},c=[{screenCid:t,stateCid:n,screenMeta:r,widgetList:o}].concat(i()(a))
return c.forEach((function(e){var t=e.treeId,n=e.screenCid,r=e.stateCid,i=e.screenMeta,o=e.widgetList,a=u(o,n,r),c=a.widgetMap,l=a.groupMap
t=t||"".concat(n,"-").concat(r),s[t]={groupMap:l,widgetMap:c,widgetTreeData:{screenMeta:i,children:l.root.children.map((function(e){return p(e,l,c,{})}))}}})),s},l=function(e,t,n,r){var i=u(n,e,t),o=i.widgetMap,a=i.groupMap,s=r.reduce((function(e,t){return e[t.cid]=t,e}),{})
return{cid:"root",children:a.root.children.map((function(e){return p(e,a,o,s)}))}},u=function(e,t,n){var r={},i={},o=[]
e.forEach((function(e){r[e.cid]=e,e.gid?(i[e.gid]=i[e.gid]||{gid:e.gid,screen_cid:t,children:[]},i[e.gid].children.push(e)):o.push(e)}))
var a={}
Object.values(i).forEach((function(e){var t=e.gid,i=e.screen_cid,s=e.children
s.sort(d)
var c=r[t]
if(!c){if(1===s.length)return s[0].gid="",void o.push(s[0])
c=f(t,i,n,s),r[c.cid]=c,o.push(c)}a[t]={cid:t,gid:c.gid,widget:c,children:s.map((function(e){return e.cid}))}}))
a.root={cid:"root",children:o.sort(d).map((function(e){return e.cid}))}
var s=[]
for(var c in r)"group"===r[c].name&&void 0===a[c]&&(delete r[c],s.push(c))
for(var l in a){var u=a[l].children
a[l].children=u.filter((function(e){return!s.includes(e)}))}return{widgetMap:r,groupMap:a}},d=function(e,t){return e.z-t.z||e.timestamp-t.timestamp},p=function e(t,n,r,i){var o=r[t]
if("group"===o.name){var s=n[t]||{children:[]}
return{cid:o.cid,type:"group",widget:o,links:Object(a.i)(i,o.link_cids),children:s.children.map((function(t){return e(t,n,r,i)}))}}if("panel"===o.name){var c=o.screen_meta_cid,l=o.screen_state_cid
return{cid:o.cid,type:"panel",widget:o,links:Object(a.i)(i,o.link_cids),refKey:"".concat(c,"-").concat(l),children:[]}}if("table"===o.name){var u=o.link_cids
return!u&&o.tableData&&o.tableData.links&&(u=o.tableData.links.flat().filter((function(e){return e})).join(",")),{cid:o.cid,type:"widget",widget:o,links:Object(a.i)(i,u),children:[]}}return{cid:o.cid,type:"widget",widget:o,links:Object(a.i)(i,o.link_cids),children:[]}},f=function(e,t,n,r){var i=r[r.length-1],a=i.primary_fixed
return a!==s.a.FIXED_TYPE.not_fixed&&r.forEach((function(e){return e.primary_fixed=s.a.FIXED_TYPE.not_fixed})),Object(o.c)({cid:e,name:"group",link_cids:e,screen_cid:t,screenstate_cid:n,z:i.z,primary_fixed:a})}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return W}))
var r=n(11),i=n.n(r),o=n(14),a=n.n(o),s=n(323),c=n(137),l=n(104),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return new Promise((function(t,n){MB.global.popupHelper.alertAsyncBlocked(e).then(t),setTimeout(n,6e4)})).catch((function(){return setTimeout((function(){return Object(l.b)({type:"Error:alertAsyncBlocked:timeout",option:e})}),0)}))},d=function(){var e=a()(i.a.mark((function e(t){var n,r=arguments
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:t.status||-255,MB.event("zhuge","Workspace_ErrorMsg",{ErrorCode:"Save_Error"}),403!==n){e.next=8
break}return e.next=5,MB.global.popupHelper.alertAsyncBlocked({title:"无法继续编辑",confirmText:I18N.dModule.exit_editing,desc:"项目可能被删除或权限变更，详情请咨询企业管理员"})
case 5:MB.global.onBackButtonClick(),e.next=17
break
case 8:if(401!==n){e.next=14
break}return e.next=11,MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm})
case 11:MB.global.onBackButtonClick(),e.next=17
break
case 14:return e.next=16,u({desc:window.I18N.dModule.unknown_error.replace(/%s/i,n),isHTML:!0})
case 16:window.location.reload()
case 17:return Object(l.a)(t),e.next=20,Object(c.setTimeoutAsync)(36e5)
case 20:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),p=function(){var e
return(e=MB).event.apply(e,arguments)},f=function(){return window.MB.user},h=function(){var e=a()(i.a.mark((function e(t){var n,r,o
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.autoSaveDelay,o=t.savingState,Object(l.c)(t,"[AutoSaver|".concat(n,"]"),{autoSaveDelay:r},o),e.next=4,d(t)
case 4:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),m=function(){return{id:f().id,name:f().name,avatar:f().avatar}},g=function(){var e=a()(i.a.mark((function e(t,n,r){var o,a
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.type,a=r.timeout,!String(t).toLowerCase().includes("timeout")){e.next=8
break}p("ga-0","send","event",o,"timeout","(".concat(n.length,")(").concat(a,"ms)(").concat(f().email,")")),MB.global.popupHelper.alertAsync({title:I18N.dModule.error_happened,desc:I18N.dModule.network_error,isHTML:!0}),e.next=11
break
case 8:return p("ga-0","send","event",o,"error: ".concat(t.status),"[".concat(t.status,"] ").concat(t.message||t,": (").concat(n.length,"item|").concat(a,"ms)(").concat(f().email,")")),e.next=11,d(t,t.status)
case 11:case"end":return e.stop()}}),e)})))
return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){return Object(s.createAutoSaver)({onSaverError:h})},v=n(268),y=n(86),x=n(23),w=n.n(x),j=n(22),S=n.n(j),_=n(25),C=new Set,O=new Set,k=new Set,E=function(e,t,n,r,i,o){var a=o.screenGlueConfig,s=o.screenMetaConfig,c=o.screenRuntimeDataConfig,l=o.screenRuntimeStateConfig,u=o.screenRuntimeItemListConfig
switch(e){case"projectMeta":return null
case"screenGlue":return M(t,n,r,i,a)
case"screenMeta":return T(t,n,r,i,s)
case"screenRuntimeState":return D(t,n,r,i,l)
case"screenRuntimeState:data":return A(t,n,r,i,c)
case"screenRuntimeState:itemList":return N(t,n,r,i,u)
default:return null}},M=function(e,t,n,r,i){"create"===e&&C.add(n.cid),"update"===e&&(i.updateScreenGlue=n),"delete"===e&&(i.deleteScreenGlue=r),i.operationSet.add(e)},T=function(e,t,n,r,i){"delete"===e&&(i.deleteScreenMeta=r,i.operationSet.add("delete")),"create"===e&&(C.has(n.screen_glue_cid)&&k.add(n.cid),C.delete(n.screen_glue_cid),O.add(n.cid),i.operationSet.add("create")),"update"===e&&n&&Boolean(n.deleted_at)&&MB.getCurrentProjectMeta().cid===n.project_meta_cid&&(i.deleteScreenMeta=n,
i.operationSet.add("delete")),"update"===e&&n&&Boolean(!n.deleted_at)&&(i.updateScreenMeta=n,i.operationSet.add("update"))},D=function(e,t,n,r,i){"create"===e&&(k.delete(n.screenMetaCid),O.delete(n.screenMetaCid),i.operationSet.add("create"))},A=function(e,t,n,r,i){"update"===e&&n!==r&&(i.updateData=n,i.operationSet.add("update")),"create"===e&&i.operationSet.add("create"),"delete"===e&&(i.deleteData=r,i.operationSet.add("delete"))},N=function(e,t,n,r,i){if(0===k.size){
var o=S()(t,1)[0],a=MB.getCurrentScreen().cid
if("update"===e){var s={},c={}
n&&n.forEach((function(e){return s[e.cid]=e})),r&&r.forEach((function(e){return c[e.cid]=e}))
for(var l=Object.keys(s),u=new Set(Object.keys(c)),d=0,p=l;d<p.length;d++){var f=p[d],h=s[f],m=c[f]
u.delete(f)
var g=void 0===m?"create":m!==h?"update":""
g&&i.operationSet.add(g)}var b,v=w()(u)
try{for(v.s();!(b=v.n()).done;){var y=b.value
i.operationSet.add("delete"),o===a&&i.selectionList.push(y)}}catch(e){v.e(e)}finally{v.f()}}}},P=function(e){var t=e.getSocketStore,n=Object(v.createProjectExchange)({getSocketStore:t})
return n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_LOAD_LOCAL,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_RESET_SERVER_WITH_DUMP,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_APPLY_SERVER_PATCH,(function(e){!function(e){var t={operationSet:new Set,updateScreenGlue:null,deleteScreenGlue:null},n={operationSet:new Set,
updateScreenMeta:null,deleteScreenMeta:null},r={operationSet:new Set,updateData:null,deleteData:null},i={operationSet:new Set,updateDta:null,deleteDta:null,selectionList:[]},o={operationSet:new Set}
Object(y.walkProjectStoreChangeMap)(e,(function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s]
return E.apply(void 0,a.concat([{screenGlueConfig:t,screenMetaConfig:n,screenRuntimeDataConfig:r,screenRuntimeStateConfig:o,screenRuntimeItemListConfig:i}]))}))
var a=t.operationSet,s=a.has("create"),c=a.has("update"),l=a.has("delete")
s||!c&&!l||MB.action("entry:refresh:template-list")
var u=n.operationSet,d=n.updateScreenMeta,p=n.deleteScreenMeta,f=u.has("create"),h=u.has("update"),m=u.has("delete")
if(!f){var g=MB.getCurrentScreen()
m&&(g.cid===p.cid?MB.action("entry:activate:root-project:home-screen"):MB.renderScreenList()),h&&(g.cid===d.cid&&MB.action("entry:update:current:screen-mata",{screenMeta:d}),MB.renderScreenList())}var b=r.operationSet,v=r.deleteData,x=b.has("create"),w=b.has("update")
if(b.has("delete"))if(MB.getCurrentScreenStateCid()===v.cid){var j=Object(_.h)(MB.getCurrentProjectMeta().cid,MB.getCurrentScreen().cid)
MB.action("entry:refresh:and:active:screenstate",{nextStateCid:j.cid})}else MB.action("entry:refresh:screenstate-list");(w||x)&&MB.action("entry:refresh:screenstate-list"),o.operationSet.has("create")&&(0===O.size&&MB.renderScreenList(),0===k.size&&(MB.action("entry:refresh:template-list"),MB.updateWidgetList()))
var S=i.operationSet,C=i.selectionList
0===O.size&&(S.has("delete")&&MB.action("selection:unselect:items",{cids:C}),MB.updateWidgetList())}(e)})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST,(function(e){return!1})),n.exchangeEventSource.addEventListener(y.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT,(function(e){return!1})),n},I=n(2),L=n.n(I),B=n(50),F=n(324),R=function(e,t,n){var r=CoWorker.find(e)||new CoWorker({cid:e,name:t,avatar:n})
r.screen_cid=MB.getCurrentScreen().cid,r.last_seen=new Date,r.save(),MB.renderCoWorkers&&MB.renderCoWorkers()},z=function(e){var t,n,r,o,s=e.userId,c=e.getProjectExchange,u=e.onError,d=void 0===u?l.c:u,p=(t={},L()(t,B.V3_BROADCAST_ALL_UPGRADE_NOTICE_NEW,(function(e){e.type
var t=e.payload.object,n=t.data,r=t.target_users,i=["org","mockingbot.com","mockingbot.in","wondershare.com"].some((function(e){return location.hostname.includes(e)}))?"org":"free"
"free"===r&&"org"===i||"org"===r&&"free"===i||MB.action&&MB.action("entry:init:upgrade-notice",{notice:n})})),L()(t,B.V3_BROADCAST_USER_DATA,(function(e){e.type,e.payload})),L()(t,B.V3_BROADCAST_PROJECT_META_DATA,(function(e){e.type
var t=e.payload
t.action===B.V3_ACTION_PROJECT_VERSION_RESET&&t.fromUser.id!==MB.user.id&&MB.action("versions:socket:project-version:reset",t)})),L()(t,B.V3_BROADCAST_COMMENT_DATA,(function(e){e.type
e.payload.forEach((function(e){var t=e.action,n=e.object
MB.webpackInterface.store.dispatch({type:"entry:state:push-data",payload:{pushType:"comments",action:t,data:n}})}))})),L()(t,B.V3_BROADCAST_COMMENT_THREAD_DATA,(function(e){e.type
e.payload.forEach((function(e){var t=e.action,n=e.object
MB.webpackInterface.store.dispatch({type:"entry:state:push-data",payload:{pushType:"comment-threads",action:t,data:n}})}))})),L()(t,B.V3_BROADCAST_ORG_DATA,(function(e){e.type,e.payload})),L()(t,B.V3_BROADCAST_TEAM_DATA,(function(e){e.type,e.payload})),L()(t,B.V3_BROADCAST_ORG_LIBRARY_DATA,(function(e){e.type
!function(e){switch(e.action){case B.V3_ACTION_LIBRARY_ACCESS_UPDATE:var t=e.libraryAccessList
MB.action&&MB.action("entry:update:org-library-accesses-data",{libraryAccessList:t}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-library-accesses-data",{libraryAccessList:t})
break
case B.V3_ACTION_ORG_ASSET_UPDATE:var n=e.orgAssetList,r=e.fromUser
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset",{orgAssetList:n,type:"update",fromUser:r})
break
case B.V3_ACTION_ORG_ASSET_DELETE:var i=e.orgAssetList
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset",{orgAssetList:i,type:"del"})
break
case B.V3_ACTION_ORG_ASSET_GROUP_UPDATE:var o=e.orgAssetGroupList
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset-group",{orgAssetGroupList:o,type:"update"})
break
case B.V3_ACTION_ORG_ASSET_GROUP_DELETE:var a=e.orgAssetGroupList
window.LibraryDispatch&&window.LibraryDispatch("entry:update:org:asset-group",{orgAssetGroupList:a,type:"del"})
break
case B.V3_ACTION_ORG_COMBO_GROUP_UPDATE:var s=e.orgComboGroupList
MB.action&&MB.action("entry:update:org-combo-group",{orgComboGroupList:s,type:"update"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-combo-group",{orgComboGroupList:s,type:"update"})
break
case B.V3_ACTION_ORG_COMBO_GROUP_DELETE:var c=e.orgComboGroupList
MB.action&&MB.action("entry:update:org-combo-group",{orgComboGroupList:c,type:"del"}),window.LibraryDispatch&&window.LibraryDispatch("entry:update:org-combo-group",{orgComboGroupList:c,type:"del"})
break
case B.V3_ACTION_ORG_COMBO_DELETE:}}(e.payload)})),t),f=(n={},L()(n,B.V3_BROADCAST_PROJECT_META_DATA,(function(e){e.type,e.payload})),L()(n,B.V3_BROADCAST_PROJECT_META_JSON_SAVE_QUEUE,(o=a()(i.a.mark((function e(t){var n,r,o
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type,n=t.payload,r=n.jsonSaveQueue,o=void 0===r?[]:r,n.projectMetaCid,n.fromUser.id,c()){e.next=5
break}return e.abrupt("return",!1)
case 5:return e.next=7,c().applySaveQueueAsync({jsonSaveQueue:o})
case 7:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})),L()(n,B.V3_BROADCAST_PROJECT_META_BUFFER_SAVE_QUEUE,(r=a()(i.a.mark((function e(t){var n,r,o,a,s,l,u
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type,n=t.payload,r=n.bufferSaveQueue,o=void 0===r?[]:r,n.projectMetaCid,a=n.fromUser,s=a.id,l=a.name,u=a.avatar,c()){e.next=5
break}return e.abrupt("return",!1)
case 5:return e.next=7,c().applySaveQueueAsync({bufferSaveQueue:o})
case 7:s&&MB.getCurrentScreen&&R(s,l,u)
case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})),n)
return Object(F.createSocketStoreV3)({userId:s,socketPayloadListenerMap:p,socketPayloadQueueAsyncListenerMap:f,onError:d})},U=n(325),H="".concat(location.origin,"/api/web/v3/snapshot_public.html"),G=function(){return Object(U.createSnapshotStore)({urlSnapshotPng:"/snapshot.png",urlSnapshotTask:"/snapshot/task",urlSnapshotPublic:H,urlPngFallback:"/mb-workspace/images/preview/image-load.png",
requestDesktopSnapshot:/Electron/i.test(navigator.userAgent)&&/Mockingbot/i.test(navigator.userAgent)?window.MB_DESKTOP_SNAPSHOT||window.parent.MB_DESKTOP_SNAPSHOT?null:window.MB_DESKTOP_SNAPSHOT_V3||window.parent.MB_DESKTOP_SNAPSHOT_V3:null,getDesktopSnapshotPngData:function(e,t){return{projectUpperName:MB.getCurrentProject().name,projectUpperDevice:MB.getCurrentProject().device,screenMetaList:Object(_.k)(e),cacheTag:MB.getScreenTimestampMap()[t]}},getDesktopSnapshotPngZipData:function(e){return{
projectUpperName:MB.getCurrentProject().name,projectUpperDevice:MB.getCurrentProject().device,screenMetaList:Object(_.k)(e),cacheTag:MB.getProjectTimestamp()}}})},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.projectExchange,r=t.snapshotStore,i=b(),o=z({userId:e,getProjectExchange:function(){return n}})
return n=n||P({getSocketStore:function(){return o}}),r=r||G(),i.addRailsFetchSaver({urlRailsFetchBatchSave:"/web/v3/something/something/batch_saving",onSaveChunkErrorAsync:g}),i.addProjectExchangeSaver({projectExchange:n,socketStore:o,getFromUser:m,onSaveChunkErrorAsync:g}),{autoSaver:i,projectExchange:n,socketStore:o,snapshotStore:r}},W=function(){var e=b(),t=z({getProjectExchange:function(){return n}}),n=P({getSocketStore:function(){return t}}),r=G()
return e.addDummySaver({name:"saver:rails-fetch"}),e.addDummySaver({name:"saver:project-exchange"}),{autoSaver:e,projectExchange:n,socketStore:t,snapshotStore:r}}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return X})),n.d(t,"c",(function(){return J}))
var r=n(140),i=n(99),o=n.n(i),a=n(10),s=n.n(a),c=n(4),l=n.n(c),u=n(0),d=n(5),p=n.n(d),f=n(1),h=n.n(f)
function m(e){var t=e.className,n=e.name,r=e.children,i=e.type,o=e.isLabel,a=e.isRequired
return p.a.createElement(o?"label":"div",{className:"form-entry ".concat(t),type:i},n&&Object(u.jsxs)("span",{className:"key",children:[n,a&&Object(u.jsx)("span",{className:"required-sign",children:"*"})]}),Object(u.jsx)("span",{className:"val",children:r}))}m.propTypes={className:h.a.string,children:h.a.any,name:h.a.any,type:h.a.string,isLabel:h.a.bool,isRequired:h.a.bool},m.defaultProps={className:"",isLabel:!1}
var g=n(3),b=n.n(g),v=n(7),y=n.n(v),x=n(6),w=n.n(x),j=n(8),S=n.n(j),_=n(9),C=n.n(_),O=n(2),k=n.n(O),E=function(e){S()(n,e)
var t=C()(n)
function n(){return y()(this,n),t.apply(this,arguments)}return w()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.className,r=e.isChecked,i=e.isDisabled,o=e.onClick,a=e.children
return Object(u.jsxs)("label",{className:"\n        ".concat(t,"-label\n        ").concat(r?"is-checked":"","\n        ").concat(i?"is-disabled":"","\n        ").concat(n,"\n        "),children:[Object(u.jsx)("button",{className:"checker",onClick:o,disabled:i}),a]})}}]),n}(d.PureComponent)
k()(E,"propTypes",{type:h.a.oneOf(["radio","check"]).isRequired,className:h.a.string,isDisabled:h.a.bool,isChecked:h.a.bool,onClick:h.a.func,children:h.a.any}),k()(E,"defaultProps",{className:""})
var M=function(e){S()(n,e)
var t=C()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),k()(b()(e),"createOnChangeHandler",(function(t,n){return function(){return e.props.onChange(t,n)}})),e}return w()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.optionList,i=t.currentOptionIdx,o=t.isDisabled
return Object(u.jsx)("span",{className:"radio-group ".concat(n," ").concat(o?"is-disabled":""),children:r.map((function(t,n){return t&&Object(u.jsx)(E,{type:"radio",isChecked:n===i,isDisabled:o||t.isDisabled,onClick:!(o||t.isDisabled)&&e.createOnChangeHandler(t.val,n),children:t.name},n)}))})}}]),n}(d.PureComponent)
k()(M,"propTypes",{className:h.a.string,onChange:h.a.func,optionList:h.a.array,currentOptionIdx:h.a.number,isDisabled:h.a.bool}),k()(M,"defaultProps",{className:""})
var T=function(e){S()(n,e)
var t=C()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),k()(b()(e),"createOnChangeHandler",(function(t){return function(){var n=e.props,r=n.onChange,i=n.currentOptionIdxList,o=new Set(i),a=o.has(t)?"delete":"add"
o[a](t),r(o)}})),e}return w()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.optionList,i=t.currentOptionIdxList,o=t.isDisabled,a=new Set(i)
return Object(u.jsx)("span",{className:"checkbox-group ".concat(n," ").concat(o?"is-disabled":""),children:r.map((function(t,n){return t&&Object(u.jsx)(E,{type:"check",onClick:e.createOnChangeHandler(n),isDisabled:o||t.isDisabled,isChecked:a.has(n),children:t.name},n)}))})}}]),n}(d.PureComponent)
k()(T,"propTypes",{className:h.a.string,onChange:h.a.func,optionList:h.a.array,currentOptionIdxList:h.a.oneOfType([h.a.instanceOf(Set),h.a.array]),isDisabled:h.a.bool}),k()(T,"defaultProps",{className:"",currentOptionIdxList:new Set})
var D=n(43),A=n.n(D),N=n(320),P=n.n(N),I=function(e){S()(n,e)
var t=C()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),k()(b()(e),"handleChange",(function(t,n,r){return e.props.onChange(r,e.props.attr)})),e}return w()(n,[{key:"render",value:function(){var e=this.props,t=(e.attr,e.size),n=(e.onChange,A()(e,["attr","size","onChange"]))
return Object(u.jsx)(P.a,l()(l()({},n),{},{size:t,onChange:this.handleChange}))}}]),n}(p.a.PureComponent)
I.propTypes={attr:h.a.string,size:h.a.oneOf(["regular","small"]),onChange:h.a.func},I.defaultProps={size:"small"}
var L=n(89),B=n.n(L),F=function(e){S()(n,e)
var t=C()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),k()(b()(e),"handleChange",(function(t){return e.props.onChange(t,e.props.attr)})),e}return w()(n,[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,n=(e.attr,e.size),r=(e.onChange,A()(e,["forwardedRef","attr","size","onChange"]))
return Object(u.jsx)(B.a,l()(l()({},r),{},{ref:t,size:n,onChange:this.handleChange}))}}]),n}(p.a.PureComponent)
k()(F,"propTypes",{forwardedRef:h.a.object,attr:h.a.string,size:h.a.oneOf(["regular","small"]),onChange:h.a.func}),k()(F,"defaultProps",{size:"small"})
var R=p.a.forwardRef((function(e,t){return Object(u.jsx)(F,l()({forwardedRef:t},e))})),z=n(35),U=n(321),H=n.n(U)
function G(e){var t=e.className,n=A()(e,["className"])
return Object(u.jsx)(H.a,l()({size:"small",className:Object(z.trimList)(["PanelInputNumber",t])},n))}G.propTypes={className:h.a.string}
var V=function(e){S()(n,e)
var t=C()(n)
function n(){var e
y()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),k()(b()(e),"handleChange",(function(t){return e.props.onConfirm(t,e.props.attr)})),e}return w()(n,[{key:"render",value:function(){var e=this.props,t=(e.attr,e.onConfirm,e.precision),n=e.dontSelectOnFocus,r=A()(e,["attr","onConfirm","precision","dontSelectOnFocus"])
return Object(u.jsx)(G,l()({precision:t,dontSelectOnFocus:n,onConfirm:this.handleChange},r))}}]),n}(p.a.PureComponent)
V.propTypes={precision:h.a.number,dontSelectOnFocus:h.a.bool,value:h.a.oneOfType([h.a.string,h.a.number]),attr:h.a.oneOfType([h.a.string,h.a.array]),onConfirm:h.a.func},V.defaultProps={precision:0,dontSelectOnFocus:!0}
var W=Object(r.c)(o.a),Y=Object(r.c)(I),Z=Object(r.c)(R),q=Object(r.c)(V),X=(s()(q).withConfig({displayName:"form__InputNumber",componentId:"sc-145fbkf-0"})(["&.is-valid:not(.unstyled){.title{color:#8d9ea7;}input{color:#415058;background-color:",";border:1px solid ",";}}&.is-valid.is-disabled{.title{opacity:1;color:#e8e8e8;}input{color:#c8cdd0;opacity:1;background-color:",";border:1px solid ",";}}"],(function(e){return e.theme.draggablePanel.NumberInput.bg}),(function(e){
return e.theme.draggablePanel.NumberInput.border_color}),(function(e){return e.theme.draggablePanel.NumberInput.disabled_bg}),(function(e){return e.theme.draggablePanel.NumberInput.disabled_border_color})),s()(Y).withConfig({displayName:"form__Check",componentId:"sc-145fbkf-1"})(["&.small.is-checked{.Check-state{background-color:",";border-color:",";color:",";}}"],(function(e){return e.theme.draggablePanel.CheckBorder.bg}),(function(e){return e.theme.draggablePanel.CheckBorder.border_color}),(function(e){
return e.theme.draggablePanel.CheckBorder.cr}))),J=s()(Z).withConfig({displayName:"form__Select",componentId:"sc-145fbkf-2"})(["&.small:not(.unstyled){background-color:",";border:1px solid ",";}&.small.CoreSelect:not(.unstyled){background-color:",";border:1px solid ",";}"],(function(e){return e.theme.draggablePanel.Select.bg}),(function(e){return e.theme.draggablePanel.Select.border_color}),(function(e){return e.theme.draggablePanel.Select.bg}),(function(e){return e.theme.draggablePanel.Select.border_color
}))},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return E}))
var r=n(23),i=n.n(r),o=n(4),a=n.n(o),s=n(22),c=n.n(s),l=n(114),u=n(56),d=n(147),p=n(222),f=n(98),h=n(143),m=n(61),g=n(97),b=n(121),v=n(187),y=n(115),x=n(79),w=y.tableUtilsFunction.mapTableToLayer,j=/\\\w+/gi,S=function(e){return e?"number"==typeof e?Object(u.rgbaCSSFromHex8Number)(e):e.replace(j,"").trim():v.a},_=function(e){return Object(m.a)(e)},C=function(e){var t=Object(m.b)(e)
return t?t.borderColor:"transparent"},O=function(e,t,n){var r=[],i=n.width,o=n.height
return e.forEach((function(e){var n=e.id,s=e.rotation,l=e.name,u=e.left,d=e.top,p=e.width,f=e.height
if("group"!==l){if(s&&0!==s){var h={x:u+p/2,y:d+f/2},m=[s].map((function(e){return e%180})).map((function(e){return e<90?e:180-e})),b=c()(m,1)[0],v=Object(g.b)(h.x,h.y,p,f,b)
u=v.left,d=v.top,p=v.width,f=v.height}var y=function(e){return Number.isInteger(e)||"artboard-base"===e}(n)?i/t.width:1,x=d*y,w=u*y,j=p*y,S=f*y,_=Math.min(Math.max(w,0),i),C=Math.min(Math.max(w+j,0),i),O=Math.min(Math.max(x,0),o),k=Math.min(Math.max(x+S,0),o)
C-_!=0&&k-O!=0&&r.push(a()(a()({},e),{},{id:n,left:_,top:O,width:C-_,height:k-O,src_top:Number(parseFloat(Math.max(d,0)).toFixed(2)),src_left:Number(parseFloat(Math.max(u,0)).toFixed(2)),src_width:Number(parseFloat(Math.min(u+p,t.width)-Math.max(u,0)).toFixed(2)),src_height:Number(parseFloat(Math.min(d+f,t.height)-Math.max(d,0)).toFixed(2)),rect_height:e.height,rect_width:e.width}))}else r.push(e)})),r},k=function(e,t,n){var r=!!n.artboard_id,i=e.filter((function(e){
return!(["link","pg","lr","sticky"].includes(e.name)||r&&"image_view"===e.name&&e.width===n.width&&e.height===n.height)})).sort((function(e,t){return e.z-t.z||e.timestamp-t.timestamp}))
return E(i,t.device)},E=function(e,t){var n,r=[],o=i()(e)
try{for(o.s();!(n=o.n()).done;){var s=n.value,c=M(s,t),l=a()(a()({},c),{},{id:s.cid,src_top:s.top,src_left:s.left,src_width:s.width,src_height:s.height})
"table"!==l.name?r.push(l):w(l).map((function(e){r.push(M(e,t))}))}}catch(e){o.e(e)}finally{o.f()}return r},M=function(e,t){var n,r={},i=e.name,o=e.ro,a=e.border_radius,s=Object(m.d)(e),c=e.ha,l=e.va,p=e.lh,h=e.box_shadow,g=e.text_shadow,v=e.sc,y=e.ds,w="string"==typeof e.text?e.text:JSON.stringify(e.text)
if(w&&(n=D(w.replace(/<p>/g,"").replace(/<\/p>/g,"\n")),r.text_styles=Object(f.a)(e)?[N(e.text)]:[{font_size:e.fs,color:S(e.tc||A(i,"tc")),length:n.length,font_face:P(w,t)}],r.text=n),e.table_cell_text&&(r.text=e.table_cell_text,r.text_styles=[{fontStyle:e.fontStyle,letterSpacing:0,lineHeight:e.lineHeight,paraSpacing:5,font_size:e.fs,color:e.color,length:e.table_cell_text.length,font_face:P(e.table_cell_text,t)}]),c&&(r.alignment=c),l&&(r.vertical_alignment=l),p&&(r.line_height=p),
a&&"0"!==a&&(r.bd_radius=a),o&&(r.rotation=o),r.border=C(e),b.a.includes(i)&&s&&(r.borders=[{thickness:s,color:C(e)}]),e.background&&(r.bg_colors=[{value:_(e)}]),e.table_cell_background&&(r.bg_colors=[{value:e.table_cell_background}]),"triangleb"!==i&&"triangletl"!==i||(r.bg_colors=[{value:_(e)}]),Object(x.g)(i)&&(r.bg_colors=[{value:S(e.tc||A(i,"tc"))}]),h){var O=function(e){var t=Object(d.boxShadowJSONFromBase)(e)
return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,spread:t.spreadRadius,color:Object(u.rgbaCSSFromHex8Number)(Object(u.hex8NumberFromJSON)(t.color))}:null}(h[0])
O&&(r.shadows=[O])}else v&&y&&(r.shadows=[{color:S(v.replace(j,"")),blur_radius:y}])
if(g){var k=function(e){var t=Object(d.textShadowJSONFromBase)(e)
return t.isEnable?{offset_x:t.offsetX,offset_y:t.offsetY,blur_radius:t.blurRadius,color:Object(u.rgbaCSSFromHex8Number)(Object(u.hex8NumberFromJSON)(t.color))}:null}(g[0])
k&&(r.textShadows=[k])}else e.ts&&(r.textShadows=[{color:S(e.tsc.replace(j,"")),blur_radius:e.ts}])
return"label"!==i&&"text_view"!==i||(r.hiddSpacing=!0),Object.assign({},e,r)},T=/<[^>]+>/gi,D=function(e){return!!e&&e.replace(T,"")},A=function(e,t){var n=v.a[e]
return n&&n[t]?n[t]:v.a[t]},N=function(e){var t=Object(l.getRichTextAttr)(e),n=t.fontFamily,r=t.fontWeight,i=t.fontSize,o=t.color,a=t.fontStyle,s=t.letterSpacing,c=t.lineHeight,u=t.paraSpacing
return{font_face:"".concat(Object(p.d)(n,r)),font_size:i,color:o,fontStyle:a,letterSpacing:s,lineHeight:c,paraSpacing:u}},P=function(e,t){var n=I(e)?"chinese":"english",r=L()?"mac":"windows",i=Object(h.c)(t)
return B[r][i][n]},I=function(e){var t=e.charCodeAt(0)
return t>=19968&&t<=40869},L=function(){return/Mac|iPod|iPhone|iPad/.test(navigator.platform)},B={mac:{ios:{chinese:"PingFang SC",english:"-apple-system"},android:{chinese:"PingFang SC",english:"Roboto"},others:{chinese:"PingFang SC",english:"Roboto"}},windows:{ios:{chinese:"Microsoft Yahei",english:"Arial"},android:{chinese:"Microsoft Yahei",english:"Roboto"},others:{chinese:"Microsoft Yahei",english:"Roboto"}}}},,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(74)),c=n(35)
function l(){var e=function(e,t){t||(t=e.slice(0))
return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}([void 0],["\n  &.Punctuation {\n    display: inline-flex;\n    display: inline-flex;\n    &.isnt-truncated {\n      display: inline;\n    }\n    &.with-period {\n      &:after {\n        content: '. ';\n      }\n      &:lang(zh):after {\n        content: '\\3002';\n      }\n    }\n    &.with-comma {\n      &:after {\n        content: ', ';\n      }\n      &:lang(zh):after {\n        content: '\\FF0C';\n      }\n    }\n    &.with-question-mark:after {\n      &:after {\n        content: '? ';\n      }\n      &:lang(zh):after {\n        content: '\\FF1F';\n      }\n\n    }\n    &.with-quote {\n      &:before {\n        content: '\\201C';\n      }\n      &:after {\n        content: '\\201D';\n      }\n      &.with-period:after {\n        content: '\\201D. ';\n      }\n      &.with-comma:after {\n        content: '\\201D, ';\n      }\n      &.with-question-mark:after {\n        content: '\\201D? ';\n      }\n      &:lang(zh):before {\n        content: '\\300C';\n      }\n      &:lang(zh):after {\n        content: '\\300D';\n      }\n      &.with-period:lang(zh):after {\n        content: '\\300D\\3002';\n      }\n      &.with-comma:lang(zh):after {\n        content: '\\300D\\FF0C';\n      }\n      &.with-question-mark:lang(zh):after {\n        content: '\\300D\\FF1F';\n      }\n    }\n  }\n"])
return l=function(){return e},e}var u=r(n(10)).default.span(l())
function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t){if(null==e)return{}
var n,r,i=function(e,t){if(null==e)return{}
var n,r,i={},o=Object.keys(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n])
return i}(e,t)
if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e)
for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=w(e)
if(t){var i=w(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e)
var t,n,r,i=v(a)
function a(){var e
m(this,a)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return j(x(e=i.call.apply(i,[this].concat(n))),"state",{isTruncated:!1,isDetected:!1}),j(x(e),"set$ellipsis",(function(t){return Object.assign(x(e),{$ellipsis:t})})),j(x(e),"detectTruncation",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.$ellipsis
return t.offsetWidth<t.scrollWidth})),e}return t=a,(n=[{key:"componentDidMount",value:function(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}},{key:"componentDidUpdate",value:function(e){var t=e.children,n=e.html,r=this.props,i=r.children,o=r.html,a=this.state.isDetected
return t!==i||n!==o?this.setState({isDetected:!1}):a?void 0:this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}},{key:"render",value:function(){
var e=this.props,t=e.className,n=e.to,r=e.type,i=e.max,a=e.display,l=e.lang,d=e.theme,m=e.noTooltip,g=e.withTooltip,b=e.withQuote,v=e.withPeriod,y=e.withComma,x=e.withQuestionMark,w=e.children,S=e.html,_=h(e,["className","to","type","max","display","lang","theme","noTooltip","withTooltip","withQuote","withPeriod","withComma","withQuestionMark","children","html"]),C=this.state,O=C.isTruncated,k=S?{dangerouslySetInnerHTML:{__html:S}}:{children:w
},E=C.isDetected&&(O?"is-truncated":"isnt-truncated"),M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{}
t%2?f(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:n?"link":"inline",theme:d,className:(0,c.trimList)(["Ellipsis",E,t,(b||v||y||x)&&"Punctuation",b&&"with-quote",v&&"with-period",y&&"with-comma",x&&"with-question-mark"]),href:n,"data-type":r,"data-max":i,style:{display:a,
maxWidth:isFinite(i)?"".concat(i,"em"):i},content:(g||O&&!m)&&o.default.createElement("div",p({lang:l,className:"EllipsisTip"},k)),html:S,children:w,setRef:this.set$ellipsis},_),T=o.default.createElement(s.default,M)
return b||v||y||x?o.default.createElement(u,{className:(0,c.trimList)(["Punctuation",b&&"with-quote",v&&"with-period",y&&"with-comma",x&&"with-question-mark",E])},T):T}}])&&g(t.prototype,n),r&&g(t,r),a}(o.PureComponent)
j(S,"propTypes",{className:a.default.string,theme:a.default.oneOf(["core","plain"]),type:a.default.oneOf(["user","id","email","org","team","app","widget"]),max:a.default.oneOfType([a.default.string,a.default.number]),display:a.default.oneOf(["inline-block","block"]),lang:a.default.string,to:a.default.string,children:a.default.node,html:a.default.string,noTooltip:a.default.bool,withTooltip:a.default.bool,withQuote:a.default.bool,withComma:a.default.bool,withPeriod:a.default.bool,
withQuestionMark:a.default.bool}),j(S,"defaultProps",{lang:"en",theme:"core"})
var _=S
t.default=_},function(e,t,n){"use strict"
var r=n(21),i=n(16),o=n(0),a=n(7),s=n.n(a),c=n(6),l=n.n(c),u=n(3),d=n.n(u),p=n(8),f=n.n(p),h=n(9),m=n.n(h),g=n(2),b=n.n(g),v=n(1),y=n.n(v),x=n(5),w=n.n(x),j=n(4),S=n.n(j),_=n(197),C=n(185),O=n(62),k=function(e,t,n){var r=e.children.filter((function(e){if(0!==e.widget.primary_fixed)return!1
var r=t-(e.widget.top+e.widget.height)
return"group"!==e.type?r<n:t-Object(O.b)(e).maxY<n}))
return S()(S()({},e),{},{children:r})},E=n(199),M=n(193),T=n(206),D=n(46),A=n(13),N=n.n(A),P=function(e){f()(n,e)
var t=m()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.screenInfo,r=e.isActive,i=e.style,a=e.isHTMLZip,s=e.isScrollable,c=n.screenMeta,l=n.stateCid,u=n.screenRuntimeState,d=n.transition,p=Object(D.b)(c.cid,l,u.itemListMap[l]),f=S()({display:t?"":"none",backgroundColor:c.bgcolor,backgroundImage:c.bgimage?"url(".concat(c.bgimage,")"):"",height:c.height},i),h=Object(T.b)(c),m=N()("pcanvas",h,{active:r,mouseAble:p.length
}),g=u.dataMap[l],b=g.hh,v=g.fh,y=r&&s&&"none"!==f.display
return Object(o.jsxs)("div",{id:"pscreen".concat(c.cid),"data-cid":c.cid,"data-orientation":h,className:m,style:f,children:[Object(o.jsx)(L,{screenMeta:c,stateCid:l,transition:d,screenRuntimeState:u,isHTMLZip:a}),y&&Object(o.jsx)(I,{screenCid:c.cid,hh:b,fh:v})]})}}]),n}(x.PureComponent)
b()(P,"propTypes",{isShow:y.a.bool,isActive:y.a.bool,screenInfo:y.a.object,style:y.a.object,isHTMLZip:y.a.bool,isScrollable:y.a.bool})
var I=function(e){f()(n,e)
var t=m()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"componentDidMount",value:function(){var e=this.props.screenCid
setTimeout((function(){return MB.runner.runnerUtil.renderScrollbar(e)}))}},{key:"componentDidUpdate",value:function(){var e=this.props.screenCid
MB.runner.runnerUtil.renderScrollbar(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.screenCid
MB.runner.runnerUtil.destroyScrollBarByCid(e)}},{key:"render",value:function(){return null}}]),n}(x.PureComponent)
b()(I,"propTypes",{screenCid:y.a.string})
var L=function(e){f()(n,e)
var t=m()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.stateCid,r=e.transition,i=e.screenRuntimeState,a=e.isHTMLZip,s=i.dataMap[n],c=s.hh,l=void 0===c?0:c,u=s.fh,d=void 0===u?0:u,p={height:t.height-(l+d)},f={height:t.height,marginTop:-l},h={isHTMLZip:a,isPreview:!0,isSnapshot:!1}
return Object(o.jsx)(E.a,{screen:t,stateCid:n,transition:r,screenRuntimeState:i,children:function(e){return Object(o.jsxs)(w.a.Fragment,{children:[Object(o.jsx)("div",{className:"screen-header",style:{height:l},children:l>0&&Object(o.jsxs)(w.a.Fragment,{children:[Object(o.jsx)(M.a,{imageUrl:t.artboard_image_url}),Object(o.jsx)(C.a,S()({screen:t,widgetTreeData:(n=e,r=l,i=n.children.filter((function(e){return 0===e.widget.primary_fixed&&("group"!==e.type?e.widget.top<r:Object(O.b)(e).minY<r)})),
S()(S()({},n),{},{children:i}))},h))]})}),Object(o.jsx)("div",{className:"screen-content",children:Object(o.jsx)("div",{className:"widgets",style:p,children:Object(o.jsxs)("div",{className:"scontainer",style:f,children:[Object(o.jsx)(M.a,{imageUrl:t.artboard_image_url}),Object(o.jsx)(C.a,S()({screen:t,widgetTreeData:e},h))]})})}),Object(o.jsx)("div",{className:"screen-footer",style:{height:d},children:d>0&&Object(o.jsxs)("div",{className:"footer-widgets",style:{marginTop:d-t.height},
children:[Object(o.jsx)(M.a,{imageUrl:t.artboard_image_url}),Object(o.jsx)(C.a,S()({screen:t,widgetTreeData:k(e,t.height,d)},h))]})})]})
var n,r,i}})}}]),n}(x.PureComponent)
b()(L,"propTypes",{screenMeta:y.a.object,stateCid:y.a.string,transition:y.a.object,screenRuntimeState:y.a.object,isHTMLZip:y.a.bool})
var B=function(e){f()(n,e)
var t=m()(n)
function n(e){var r
return s()(this,n),r=t.call(this,e),b()(d()(r),"handleHomeScreenLoad",(function(e){var t=r.props.screenInfoMap[e],n=t.screenMeta,i=t.stateCid
MB.runner.doneTransition(n,i)})),b()(d()(r),"handleTransitionEnd",(function(e){var t=r.props,n=t.screenInfoMap,i=t.transition,o=i.name,a=i.callback;/(menu|drawer)-reverse/.test(o)&&(console.log("menu - closed"),MB.runner.currentMenu=MB.runner.currentScreen=null)
var s=n[e],c=s.screenMeta,l=s.stateCid
MB.runner.doneTransition(c,l),a&&a()})),r.state={prevScreenCid:"",currentScreenCid:e.activeCid},r}return l()(n,[{key:"componentDidMount",value:function(){MB.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!0}})}},{key:"componentWillUnmount",value:function(){console.log("mb runner will unmount")}},{key:"render",value:function(){var e=this.props,t=e.screenInfoMap,n=e.transition,r=e.isHTMLZip,i=e.isScrollable,a=this.state,s=a.prevScreenCid,c=a.currentScreenCid
return c?Object(o.jsx)(_.a,{activeCid:c,transition:n,onHomeScreenLoad:this.handleHomeScreenLoad,onTransitionEnd:this.handleTransitionEnd,children:function(e,n){return Object.values(t).sort((function(e,t){return e.cid>t.cid?1:-1})).map((function(t,a){var l=t.cid,u=l===s,d=l===c,p=u?e:d?n:null
return Object(o.jsx)(P,{isShow:u||d,screenInfo:t,style:p,isActive:c===l,isHTMLZip:r,isScrollable:i},l)}))}}):null}}]),n}(x.PureComponent)
b()(B,"propTypes",{isHTMLZip:y.a.bool,isScrollable:y.a.bool,screenInfoMap:y.a.object,activeCid:y.a.string,transition:y.a.object}),b()(B,"getDerivedStateFromProps",(function(e,t){return e.activeCid!==t.currentScreenCid?{prevScreenCid:t.currentScreenCid,currentScreenCid:e.activeCid}:null}))
var F=Object(r.connect)((function(e){var t=Object(i.D)(e).isHTMLZip,n="device"===Object(i.M)(e)
return S()({isHTMLZip:t,isScrollable:n},Object(i.J)(e))}))(B),R=n(22),z=n.n(R),U=n(118),H=n(80),G=n(10),V=n.n(G),W=V.a.div.withConfig({displayName:"style__StyledAppSplash",componentId:"x9spaw-0"
})(["position:absolute;width:100%;height:100%;background:#f5f5f5;overflow:hidden;margin-bottom:500px;top:0;z-index:2;img{position:absolute;width:100%;height:100%;}.loading{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;width:100%;height:30px;.splash-loading{width:30px;height:30px;}}&.landscape{img{transform:rotate(90deg);transform-origin:bottom left;}}"]),Y=function(e){f()(n,e)
var t=m()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"componentWillUnmount",value:function(){Object(H.a)(8)}},{key:"render",value:function(){var e,t=this.props,n=t.homeScreen,r=t.url,i=t.isPanelPreviewMode,a=Object(T.a)(n),s=z()(a,2),c=s[0],l=s[1],u=Object(T.b)(n)
return e=n.width!==c?{top:0-c,width:l,height:c}:{top:0,width:c,height:"101%"},Object(o.jsxs)(W,{className:N()("splash",u),style:{backgroundColor:n.bgcolor},children:[r&&!i&&Object(o.jsx)("img",{src:r,style:e}),Object(o.jsx)("div",{className:"loading",children:Object(o.jsx)(U.a,{className:"splash-loading"})})]})}}]),n}(x.PureComponent)
b()(Y,"propTypes",{homeScreen:y.a.object,url:y.a.string,isPanelPreviewMode:y.a.bool})
var Z=n(25),q=n(129),X=function(e,t,n,r,i,o){var a,s,c,l,u=i.isMobile,d=i.isEmbedV1,p=i.isEmbedV2,f=i.isSquare,h=o.isShellShow,m=o.isImmersive,g=o.scale,b=m||"device"!==r,v=(p||f)&&"device"!==r
if(u||d||(p||f)&&"device"===r){var y=d||p,x=y&&"landscape"===(s=n.cid,c=Object(Z.j)(s).cid,l=Object(Z.k)(c),Object(q.b)(l)).orientation?[t.height,t.width]:[t.width,t.height],w=window.innerWidth,j=window.innerHeight
if(y&&(w=x[0],j=x[1]),(p||f)&&!u){var S="landscape"===e.orientation?[t.height,t.width]:[t.width,t.height],_=z()(S,2)
w=_[0],j=_[1]}var C=y||f?{width:w,height:j}:{width:window.innerWidth,height:window.innerHeight},O=C.height,k=C.width/e.width,E=e.width,M=O,T=0
e.height*k<O&&(M=e.height*k,T=Math.floor(Math.max((O-M)/2,0))),e.width===n.width&&C.width<C.height&&(M=Math.min(n.height*k,O),T=Math.floor(Math.max((O-M)/2,0))),a={width:E,height:M/k,transform:"scale(".concat(k,")"),marginTop:T}}else if(v){var D=g/100,A="landscape"===e.orientation?t.width:t.height
"device"!==r&&(A=Math.min(A,e.height)),a={width:e.width,height:e.height,marginBottom:(window.innerHeight-A*D)/2/D}}else if(b)a={width:e.width,height:e.height}
else{var N=e.width,P=0
h?(n.height===e.width&&(P=n.width),n.width===e.width&&(P=n.height)):P=e.height,a={width:N,height:P}}return a},J=n(152),K=n(142),Q=n(348),ee=V.a.div.withConfig({displayName:"style__StyledSimulator",componentId:"m9lqnr-0"
})(["transform-origin:top left;background-size:100% 100%;position:relative;z-index:4;&.iphone,&.android{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABblBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBQX////////////////////////////////////////////////////////////////////////////+/v7///8CAgL///////////8AAAAAAAD///////////////////////////8AAAADAwP///////////8AAAD///////////8BAQH///8AAAD////t7e3///8DAwNDQ0MkJCQXFxcgICDl5eX8/Pz8/Pz19fW4uLj///+0tLSurq7////AwMChoaFZWVlAQECqqqqfn591dXVqampOTk4vLy/q6urx8fHr6+vg4ODa2trz8/POzs7CwsLKysr19fXg4OC7u7v////k5OT09PT///////+ysrL////39/fn5+eWlpbT09PLy8u5ubmamprS0tKzs7Obm5stLS1WVlbJycnX19dISEiZmZnPz8/R0dGZmZlISEjBwcG/v7/YpJ28AAAAenRSTlMAAwYLEg4XCS8tNzJEST81KiglIyBCR049OhgbTB0WVBMUGhBYVg4eC1EmIwlcBykcY14sOyBSBVovNzEtNZ6MhXx4dHRualxMPz0SYkdGMjCqo6Ccl5KMiYaFhXx7eXhvbWdgX19eU0pGOjIvLBwaFxMTBXBvZDwdHMsX0GIAAAKhSURBVEjHpZYHk5pAFICTCHheNP1OjSEGYnIRgmjQE3vv9XrvvbfUf59d6nkI7sx9w4yF/ea9XZb39skwnuoY7pkMf6aBYEnj7TYbLmGz2eySZimA8TiGUYQERWFAkyQrAcMImmQZXhB4hiVJGlgg1HBHFiia5LvlpYXszEx2Yanc5WM0ASTZMRogJTr2Z31+NpffKG1vlzbyudn59SZLEpgcyGhgBJkqzuVK1YhGtZSbK2ZiNIZLjtFg29l8NfJjgEg1n/3N0BR0jAZTXNzZ4zhR5EROQ+T2dhaLAvnQkYz+8mpEDAxBjKyupKADUtMNO04wKwXuiwlcYVkgMbhuelo4xZa3RL8p4laZp6FzLy3ysBCYhgSngyrgq/Y7UDhkCZiaEgSklVoLuC0JrGWk1LQgscq++4Ml7v0Ko4WBQZKbQdcI3JtNKYw6k4rfNTkCl78CZqMqFPPT5RyJ65dAYyAzqOBE48A5MRLnQUPKDE4Fo9uTLxCYbMdgZvJ67To9UU8UXB4z4P2JXUZVKLbm8UKi3ii4vGZ4ajyN22WFqUXHEYjWwPwVhT8af4nA+FFCV46fI3GsK8zJGBInemJsfcyBwFhdmz4WqzteIeCog0VWH2XH8RoBRwc+SmXDJM/eIHCmbGV5/qdvETjVtiXc/J13CHTh5tdesdR5eCoMrikD4E8I+DjX3mR5zRo+C8K+cNjna9x7kWGY9MX7EVzoQZTZJP9+tORfUy1KeulLXn+y4Dqplz69wPZuPpty01MK7GAZ53utrya0koJcxg3Not/6NpRW39AsVIdNXYW+GwhdZbSWZHRIIX0bDw0Qv00l1MZn0l4T6Uv7XVzhzn6ZTmjt1aKJJ9JgFI5TJJtOGJs4+lHhsQcS9GPP4w9X6Ee4/9WZxSosYtQDAAAAAElFTkSuQmCC') 25 25,default;&:active{cursor:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAA51BMVEUAAADu7u7t7e3s7Ozl5eXr6+vq6uro6OgAAAAAAADt7e3s7Ozq6uro6Ojs7Ozp6enm5ubk5OTv7+/n5+fv7+/v7+/q6uri4uLh4eHs7Ozp6enw8PDf39/v7+/h4eHx8fHw8PDi4uLd3d3v7+/o6Ojw8PDm5ubr6+soKCi/v7/l5eXx8fHw8PDa2trx8fHAwMCZmZlmZmbHx8e5ubnh4eHOzs66urro6Ojc3NzAwMDc3NzZ2dnm5ubk5OTW1tbS0tLLy8vQ0NC0tLSvr6+MjIyCgoLf39/i4uLs7Ozh4eHW1tbPz8/q6uojhl1DAAAATXRSTlMAgHlyVG1qWwcCfHRoYG9hV1GGXYOMZktJd2STRIhGlpBNQY5YmVJ/DGJNmoiGjmYoFHBbjHNgk4J4m5GMf316eXhKSB8cdp6Xko6GhVNXB78AAAI1SURBVEjH3ZZrd6IwEIa3oJKoKHZbVIpaVmRBF1FAvF/qrdf//3t2kGVDBJXPfTKZzHvkPTkcJMOP7w7GCOk6QhinvB4NnNHKfH83VyNngPBtw8EwF6zEaYqicRK7MI0Dvm4YGi6r1mT51wlZrqmsawyvmNDWZbUmXE+Qm1rJ3aKLDmOpVuUYNXVpXPDo04LWTKJWKWz0xD022UotgSrMSnaKEhxWtlINUKoxKkcr5sHbpaB0u0pXAbpBRLWw3OIzy3DCaRUaWnPm8GwTS8qEaBBhpWmQAiSL3mY/4TJCBiJEEE7an/80N9nTm4iqKqgCAAsARaiDCUmktkFrnrsJv0YRy+DI/6TgSfZToI4D4sBGkefLfEBYxLVoYGKxi+WyVP6PBCMIyS9DRJtY0KgoiREkUZIgwxLUgP97cYSI5SVXjCDCSCL3Qiz6KpeKlU4s62wq1sSCRmypBHEiVhEdvRebTYVNLNiuF1JQtzGxOHWmDsEw/upXydrBkT/MhGGYPHOd/GRAHPBg8imAx0LA3t3d7zAgwfDTmfYw9YqZdzcx9/SL7Hw9+Nw/EM70F9w8xdC8j9MIkw8cFzR45zYaf4LwEyy0dnc4dvR5i8crLJyk43L62O63n2Ge6Pfb4QDGNko+xsfPNE/+9PN4ql9qFuOnRMbe5Qazm7+1YrzNd+hq45u1er1Op9fqQG71Oq3ODBrfjfZqfbyCpQcWiNcP64DTNHFv8zmfzeafG4808fSfCt+cvwzTdVIzvwMmAAAAAElFTkSuQmCC') 25 25,default;}}.group,.ppanel{pointer-events:none;&.clickable{pointer-events:auto;}.widget{pointer-events:auto;}}.group.invisible,.ppanel.invisible{pointer-events:none;*{pointer-events:none !important;}}.ppanel{transform:translateX(0);overflow:hidden;.panel-scroll-box{position:relative;width:100%;height:100%;overflow:hidden;}&.panelShow{overflow:visible;.panel-scroll-box{overflow:visible !important;.pstate{overflow:visible !important;}}}&.panelHidden{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollX{overflow:hidden;.panel-scroll-box{overflow:hidden;height:100% !important;.pstate{overflow:hidden;}}}&.panelScrollY{overflow:hidden;.panel-scroll-box{overflow:hidden;width:100% !important;.pstate{overflow:hidden;}}}}.pg{display:none;}.lr{background:transparent;opacity:1;border:none;}.clickable > .region{position:absolute;top:0;right:0;width:100%;height:100%;background-color:rgba(255,195,16,0.2);z-index:100;display:none;background-repeat:no-repeat;background-position:50%;border:1px solid #ff7100;}.pg{left:50%;margin-left:-20px;z-index:110;justify-content:center;align-items:center;&.stap{top:10px;}&.sleft{top:60px;}&.sright{top:120px;}&.sup{top:180px;}&.sdown{top:240px;}&.sshake{top:300px;}&.sdtap{top:300px;}}#app{background:#f0f0f2;width:100%;height:100%;position:absolute;background-size:100% auto;z-index:1;transform:translate(0,0);overflow:hidden;.pstate{position:absolute;overflow:hidden;width:100%;height:100%;z-index:1;}.pcanvas{display:flex;flex-direction:column;.screen-header,.screen-footer{position:relative;overflow:hidden;}.screen-footer{.footer-widgets{position:absolute;top:0;left:0;width:100%;height:100%;}}.screen-content{position:relative;flex:1;overflow:hidden;.iScrollVerticalScrollbar{z-index:2147483647 !important;}}}.pcanvas,.pstate{transition:unset !important;z-index:1;width:100%;height:100%;max-height:100%;position:absolute;left:0;top:0;background-color:transparent;background-repeat:repeat;background-position:top left;background-size:100% auto;overflow:hidden;.widgets{width:100%;height:100%;position:relative;overflow:hidden;.scontainer{position:absolute;overflow:hidden;width:100%;}}&.mouseAble{pointer-events:auto;}}}&.is-outside-visible{#app{overflow:visible;.pcanvas{overflow:visible;.screen-header,.screen-footer{overflow:visible;}.screen-content{overflow:visible;.widgets{overflow:visible;.scontainer{overflow:visible;}}}}}}&.is-mobile{#app{background:#000;overflow:visible;.pcanvas{overflow:visible;}}.ppanel{overflow:auto;&.panelShow{overflow:visible;}}.map_view .image{overflow:auto;}}"]),te=function(e){
f()(n,e)
var t=m()(n)
function n(e){var r
return s()(this,n),r=t.call(this,e),b()(d()(r),"handleMouseDown",(function(e){var t=r.props,n=t.previewOptions,i=t.isImmersive
if(!n.isMobile&&!i){var o=$(e.target).closest(".map_view .image"),a=$(e.target).closest(".ppanel"),s=o[0]||a[0]
if(s&&(s.clientWidth!==s.scrollWidth||s.clientHeight!==s.scrollHeight)){var c=e.clientX,l=e.clientY,u=s.scrollTop,d=s.scrollLeft,p=0,f=function(e){e.preventDefault(),p++,s.scrollTop=u-(e.clientY-l),s.scrollLeft=d-(e.clientX-c)}
document.addEventListener("mousemove",f),document.addEventListener("mouseup",(function e(){p>5&&MB.runner.eventBucket.isCoolDown(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",e)}))}}})),r.state={homeScreen:e.screen},r}return l()(n,[{key:"componentDidMount",value:function(){var e=this
if(this.props.previewOptions.isMobile){var t="onorientationchange"in window?"orientationchange":"resize"
window.addEventListener(t,(function(){setTimeout((function(){e.forceUpdate()}),100)}),!1)}MB.runner.eventHandler.init(document.querySelector("#app"))}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.screen,r=e.screenGlue,i=e.scale,a=e.isImmersive,s=e.isShowSplash,c=e.isPanelPreviewMode,l=e.isShellShow,u=e.simulatorType,d=e.previewOptions,p=this.state.homeScreen,f=d.isMobile,h=t.splash,m=void 0===h?"":h,g=X(n,r,t,u,d,{isShellShow:l,isImmersive:a,scale:i}),b=Object(J.b)(n,t.device)
return f&&(b+=" is-mobile"),"outside_artboard"===u&&(a||"device"!==u)&&(b+=" is-outside-visible"),Object(o.jsxs)(ee,{id:"simulator",className:b,style:g,onMouseDown:this.handleMouseDown,children:[Object(o.jsx)("div",{id:"app",children:Object(o.jsx)(F,{})}),s&&Object(o.jsx)(Y,{homeScreen:p,url:m,isPanelPreviewMode:c}),Object(o.jsx)(Q.a,{}),f&&Object(o.jsx)(K.a,{})]})}}]),n}(x.PureComponent)
b()(te,"propTypes",{screen:y.a.object.isRequired,project:y.a.object.isRequired,screenGlue:y.a.object.isRequired,isShowSplash:y.a.bool,isShellShow:y.a.bool,isMobile:y.a.bool,isImmersive:y.a.bool,isPanelPreviewMode:y.a.bool,previewOptions:y.a.object,simulatorType:y.a.string,scale:y.a.number})
t.a=Object(r.connect)((function(e){var t=Object(i.g)(e),n=Object(i.c)(e),r=Object(i.h)(e),o=Object(i.o)(e),a=function(e){return e.container.artboards.isShowSplash}(e)
return{screen:t,project:n,screenGlue:r,previewOptions:Object(i.D)(e),isImmersive:o,isShowSplash:a,isPanelPreviewMode:Object(i.q)(e),simulatorType:Object(i.M)(e),scale:Object(i.f)(e)}}))(te)},function(e,t,n){"use strict"
var r=n(0),i=n(1),o=n.n(i),a=n(5),s=n(13),c=n.n(s),l=n(10),u=n.n(l).a.span.withConfig({displayName:"styles__StyledSUnreadSignal",componentId:"sc-5t8oyb-0"})(["position:absolute;top:-2px;right:-2px;width:8px;height:8px;transition:all 0.25s ease-out;background-color:",";border:1px solid #fff;border-radius:50%;opacity:0;&.is-on{opacity:1;}"],(function(e){return e.theme.unread_signal_bg.bg})),d=Object(a.memo)((function(e){var t=e.on,n=e.className
return Object(r.jsx)(u,{className:c()(n,{"is-on":t})})}))
d.propTypes={className:o.a.string,on:o.a.bool}
t.a=d},,,function(e,t,n){"use strict"
var r=n(531),i=n(429),o=n(226)
e.exports=function(e){return o(e)?r(e,!0):i(e)}},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r=n(0),i=n(11),o=n.n(i),a=n(14),s=n.n(a),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),f=n.n(p),h=n(8),m=n.n(h),g=n(9),b=n.n(g),v=n(2),y=n.n(v),x=n(1),w=n.n(x),j=n(5),S=n(169),_=n(123),C=Object(S.createAsyncFuncQueue)().push,O=function(e){m()(n,e)
var t=b()(n)
function n(e){var r
return l()(this,n),r=t.call(this,e),y()(f()(r),"setElementRef",(function(e){return r.$elem=e})),r.isUnmounted=!1,r.retryTimer=null,r}return d()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.isVisible,i=n.cacheTag
r&&this.generateSnapshotTask(),r&&e.cacheTag!==i&&(clearTimeout(this.retryTimer),this.generateSnapshotTask())}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0,clearTimeout(this.retryTimer)}},{key:"generateSnapshotTask",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=C(s()(o.a.mark((function t(){var n,r,i,a,s,c
return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.projectMetaCid,i=n.screenMetaCid,a=n.screenStateCid,s=n.isVisible,c=n.cacheTag,s){t.next=3
break}return t.abrupt("return")
case 3:if(!e.isUnmounted){t.next=5
break}return t.abrupt("return")
case 5:return t.next=7,SnapshotStore.loadSnapshotPngAsync({imageElement:e.$elem,zoomMode:_.SNAPSHOT_ZOOM_MODE.THUMBNAIL,projectMetaCid:r,screenMetaCid:i,screenStateCid:a,cacheTag:c})
case 7:case"end":return t.stop()}}),t)}))))
n.catch((function(n){e.retryTimer=setTimeout((function(){e.generateSnapshotTask(2*t)}),1e3*t)}))}},{key:"render",value:function(){return Object(r.jsx)("img",{ref:this.setElementRef,src:"/mb-workspace/images/preview/image-load.png"})}}]),n}(j.PureComponent)
y()(O,"propTypes",{cacheTag:w.a.string,screenStateCid:w.a.string.isRequired,screenMetaCid:w.a.string.isRequired,projectMetaCid:w.a.string.isRequired,isVisible:w.a.bool.isRequired})},function(e,t,n){"use strict"
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(5)
function b(e){this.mode=y.MODE_8BIT_BYTE,this.data=e}function v(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}b.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},v.prototype={addData:function(e){var t=new b(e)
this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t)
return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var e
for(e=1;e<40;e++){for(var t=F.getRSBlocks(e,this.errorCorrectLevel),n=new R,r=0,i=0;i<t.length;i++)r+=t[i].dataCount
for(var o=0;o<this.dataList.length;o++){var a=this.dataList[o]
n.put(a.mode,4),n.put(a.getLength(),A.getLengthInBits(a.mode,e)),a.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount)
for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount)
for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null===this.dataCache&&(this.dataCache=v.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){
for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0===r||6===r)||0<=r&&r<=6&&(0===n||6===n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n)
var r=A.getLostPoint(this);(0===n||e>r)&&(e=r,t=n)}return t},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0)
for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=A.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],i=e[n]
if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[r+o][i+a]=-2===o||2===o||-2===a||2===a||0===o&&0===a}},setupTypeNumber:function(e){for(var t=A.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1)
this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var i=0;i<18;i++){var o=!e&&1==(t>>i&1)
this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=o}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=A.getBCHTypeInfo(n),i=0;i<15;i++){var o=!e&&1==(r>>i&1)
i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(var a=0;a<15;a++){var s=!e&&1==(r>>a&1)
a<8?this.modules[8][this.moduleCount-a-1]=s:a<9?this.modules[8][15-a-1+1]=s:this.modules[8][15-a-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6===a&&a--;;){for(var s=0;s<2;s++)if(null===this.modules[r][a-s]){var c=!1
o<e.length&&(c=1==(e[o]>>>i&1)),A.getMask(t,r,a-s)&&(c=!c),this.modules[r][a-s]=c,-1===--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n
break}}}},v.PAD0=236,v.PAD1=17,v.createData=function(e,t,n){for(var r=F.getRSBlocks(e,t),i=new R,o=0;o<n.length;o++){var a=n[o]
i.put(a.mode,4),i.put(a.getLength(),A.getLengthInBits(a.mode,e)),a.write(i)}for(var s=0,c=0;c<r.length;c++)s+=r[c].dataCount
if(i.getLengthInBits()>8*s)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*s+")")
for(i.getLengthInBits()+4<=8*s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1)
for(;!(i.getLengthInBits()>=8*s||(i.put(v.PAD0,8),i.getLengthInBits()>=8*s));)i.put(v.PAD1,8)
return v.createBytes(i,r)},v.createBytes=function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s++){var c=t[s].dataCount,l=t[s].totalCount-c
r=Math.max(r,c),i=Math.max(i,l),o[s]=new Array(c)
for(var u=0;u<o[s].length;u++)o[s][u]=255&e.buffer[u+n]
n+=c
var d=A.getErrorCorrectPolynomial(l),p=new B(o[s],d.getLength()-1).mod(d)
a[s]=new Array(d.getLength()-1)
for(var f=0;f<a[s].length;f++){var h=f+p.getLength()-a[s].length
a[s][f]=h>=0?p.get(h):0}}for(var m=0,g=0;g<t.length;g++)m+=t[g].totalCount
for(var b=new Array(m),v=0,y=0;y<r;y++)for(var x=0;x<t.length;x++)y<o[x].length&&(b[v++]=o[x][y])
for(var w=0;w<i;w++)for(var j=0;j<t.length;j++)w<a[j].length&&(b[v++]=a[j][w])
return b}
for(var y={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},x=1,w=0,j=3,S=2,_=0,C=1,O=2,k=3,E=4,M=5,T=6,D=7,A={
PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],
G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;A.getBCHDigit(t)-A.getBCHDigit(A.G15)>=0;)t^=A.G15<<A.getBCHDigit(t)-A.getBCHDigit(A.G15)
return(e<<10|t)^A.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;A.getBCHDigit(t)-A.getBCHDigit(A.G18)>=0;)t^=A.G18<<A.getBCHDigit(t)-A.getBCHDigit(A.G18)
return e<<12|t},getBCHDigit:function(e){for(var t=0;0!==e;)t++,e>>>=1
return t},getPatternPosition:function(e){return A.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case _:return(t+n)%2==0
case C:return t%2==0
case O:return n%3==0
case k:return(t+n)%3==0
case E:return(Math.floor(t/2)+Math.floor(n/3))%2==0
case M:return t*n%2+t*n%3==0
case T:return(t*n%2+t*n%3)%2==0
case D:return(t*n%3+(t+n)%2)%2==0
default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new B([1],0),n=0;n<e;n++)t=t.multiply(new B([1,N.gexp(n)],0))
return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case y.MODE_NUMBER:return 10
case y.MODE_ALPHA_NUM:return 9
case y.MODE_8BIT_BYTE:case y.MODE_KANJI:return 8
default:throw new Error("mode:"+e)}else if(t<27)switch(e){case y.MODE_NUMBER:return 12
case y.MODE_ALPHA_NUM:return 11
case y.MODE_8BIT_BYTE:return 16
case y.MODE_KANJI:return 10
default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t)
switch(e){case y.MODE_NUMBER:return 14
case y.MODE_ALPHA_NUM:return 13
case y.MODE_8BIT_BYTE:return 16
case y.MODE_KANJI:return 12
default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)i+c<0||t<=i+c||0===s&&0===c||a===e.isDark(r+s,i+c)&&o++
o>5&&(n+=3+o-5)}for(var l=0;l<t-1;l++)for(var u=0;u<t-1;u++){var d=0
e.isDark(l,u)&&d++,e.isDark(l+1,u)&&d++,e.isDark(l,u+1)&&d++,e.isDark(l+1,u+1)&&d++,0!==d&&4!==d||(n+=3)}for(var p=0;p<t;p++)for(var f=0;f<t-6;f++)e.isDark(p,f)&&!e.isDark(p,f+1)&&e.isDark(p,f+2)&&e.isDark(p,f+3)&&e.isDark(p,f+4)&&!e.isDark(p,f+5)&&e.isDark(p,f+6)&&(n+=40)
for(var h=0;h<t;h++)for(var m=0;m<t-6;m++)e.isDark(m,h)&&!e.isDark(m+1,h)&&e.isDark(m+2,h)&&e.isDark(m+3,h)&&e.isDark(m+4,h)&&!e.isDark(m+5,h)&&e.isDark(m+6,h)&&(n+=40)
for(var g=0,b=0;b<t;b++)for(var v=0;v<t;v++)e.isDark(v,b)&&g++
return n+=10*(Math.abs(100*g/t/t-50)/5)}},N={glog:function(e){if(e<1)throw new Error("glog("+e+")")
return N.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255
for(;e>=256;)e-=255
return N.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},P=0;P<8;P++)N.EXP_TABLE[P]=1<<P
for(var I=8;I<256;I++)N.EXP_TABLE[I]=N.EXP_TABLE[I-4]^N.EXP_TABLE[I-5]^N.EXP_TABLE[I-6]^N.EXP_TABLE[I-8]
for(var L=0;L<255;L++)N.LOG_TABLE[N.EXP_TABLE[L]]=L
function B(e,t){if(void 0===e.length)throw new Error(e.length+"/"+t)
for(var n=0;n<e.length&&0===e[n];)n++
this.num=new Array(e.length-n+t)
for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function F(e,t){this.totalCount=e,this.dataCount=t}function R(){this.buffer=[],this.length=0}B.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=N.gexp(N.glog(this.get(n))+N.glog(e.get(r)))
return new B(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this
for(var t=N.glog(this.get(0))-N.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r)
for(var i=0;i<e.getLength();i++)n[i]^=N.gexp(N.glog(e.get(i))+t)
return new B(n,0).mod(e)}
},F.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],
F.getRSBlocks=function(e,t){var n=F.getRsBlockTable(e,t)
if(void 0===n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t)
for(var r=n.length/3,i=[],o=0;o<r;o++)for(var a=n[3*o+0],s=n[3*o+1],c=n[3*o+2],l=0;l<a;l++)i.push(new F(s,c))
return i},F.getRsBlockTable=function(e,t){switch(t){case x:return F.RS_BLOCK_TABLE[4*(e-1)+0]
case w:return F.RS_BLOCK_TABLE[4*(e-1)+1]
case j:return F.RS_BLOCK_TABLE[4*(e-1)+2]
case S:return F.RS_BLOCK_TABLE[4*(e-1)+3]
default:return}},R.prototype={get:function(e){var t=Math.floor(e/8)
return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8)
this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}
var z=n(1),U=n.n(z),H=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),m()(l()(r),"freshCanvas",(function(){var e=r.canvasWrapperRef.current,t=r.props,n=function(e){var t=e.text,n=e.width,r=e.height,i=void 0===r?n:r,o=e.foreground,a=void 0===o?"#000000":o,s=e.background,c=void 0===s?"#ffffff":s,l=e.typeNumber,u=void 0===l?0:l,d=e.correctLevel,p=new v(u,void 0===d?S:d)
p.addData(t),p.make()
var f=document.createElement("canvas")
f.width=n,f.height=i
for(var h=f.getContext("2d"),m=n/p.getModuleCount(),g=i/p.getModuleCount(),b=0;b<p.getModuleCount();b++)for(var y=0;y<p.getModuleCount();y++){h.fillStyle=p.isDark(b,y)?a:c
var x=Math.ceil((y+1)*m)-Math.floor(y*m),w=Math.ceil((b+1)*m)-Math.floor(b*m)
h.fillRect(Math.round(y*m),Math.round(b*g),x,w)}return f}({height:t.height,width:t.width,text:t.text})
e.hasChildNodes()?e.replaceChild(n,e.firstChild):e.appendChild(n)})),r.canvasWrapperRef=Object(g.createRef)(),r}return s()(n,[{key:"componentDidMount",value:function(){this.freshCanvas()}},{key:"componentDidUpdate",value:function(){this.freshCanvas()}},{key:"render",value:function(){var e=this.props.className
return Object(r.jsx)("div",{className:e,ref:this.canvasWrapperRef})}}]),n}(g.PureComponent)
H.propTypes={width:U.a.number,height:U.a.number,text:U.a.string.isRequired,className:U.a.string},H.defaultProps={width:150,height:150}
t.a=H},function(e,t,n){"use strict"
var r=n(24),i=n.n(r),o=n(22),a=n.n(o),s=JSON.parse('{"unread_signal_bg":{"bg":["#eb5648","#eb5648","#eb5648","#FF3333"]},"screen_panel":{"svg_color":["#5b6b73","#5b6b73","#d7dde0","#5b6b73"],"item_hover_bg":["#f7f7f7","#EDEDED","#151515","#f7f7f7"],"select_bg":["#f2f8ff","#e5ebf2","#196ad4","rgba(66, 87, 255, 0.06)"],"dummy_select_bg":["#fafafa","#F7F7F7","#363738","#fafafa"],"folder_icon":{"main":["#298DF8","#298DF8","#298DF8","#4257FF"],"secondary":["#76b8ff","#76b8ff","#76b8ff","#5E82FF"]},"square_border_color":["#298df8","#298df8","#298df8","#4257ff"],"square_border_color_hover":["rgba(41, 141, 248, 0.5)","rgba(41, 141, 248, 0.5)","rgba(41, 141, 248, 0.5)","rgba(66, 87, 255,0.5)"]},"palette":{"border_color":["#DBDBDB","#DBDBDB","#151515","#DBDBDB"],"active_color":["#FF6161","#FF6161","#FF6161","#4257FF"],"high_light_color":["#298DF8","#298DF8","#196AD4","#4257FF"],"hr_color":["#DEDEE4","#D9D9D9","#151515","#DEDEE4"],"panel_bg":["#FFF","#F2F2F2","#252626","#FFF"],"panel_bg_blue":["#298DF8","#298DF8","#298DF8","#4257FF"],"panel_bg_blue_wonder":["#1e98ea","#1e98ea","#1e98ea","#4257FF"],"panel_title_color":["#415058","#415058","#D7DDE0","#415058"],"line_hover":["#1e98ea","#1e98ea","#1e98ea","#7584FF"],"blue_color":["#1684fc","#1684fc","#1684fc","#4257ff"]},"common":{"bg":{"input_bg":["#fff","#fff","#252626","#fff"],"item_active_bg":["#F2F2F2","#FFF","#196AD4","#F2F2F2"],"bg_4":["#fff","#fff","#454647","#fff"],"bg_5":["#f2f2f2","#f2f2f2","#252626","#1F1F1F"],"menu_bg":["#fff","#fff","#363738","#fff"],"preview_menu_bg":["#fff","#fff","#363738","#292929"],"select_bg":["#fff","#fff","#151515","#fff"],"tips_bg":["#1f292e","#1f292e","#F2F4F5","#1f292e"],"white_bg":["#fff","#fff","#F2F4F5","#fff"],"iframe_bg":["#fff","#fff","#363738","#fff"],"black_bg":["#415058","#415058","#F2F4F5","#415058"]},"table":{"table_icon":["#DBDBDB","#DBDBDB","#595A5C","#DBDBDB"],"table_type_bg":["#ededed","#ededed","#196AD4","#ededed"],"table_type_icon":["#298DF8","#298DF8","#298DF8","#4257FF"],"table_type_icon_bg":["#fff","#fff","#252626","#fff"],"table_type_icon_stroke":["#5B6B73","#5B6B73","#B8BCBF","#5B6B73"],"table_type_icon_fill":["#7D8694","#7D8694","#8C8C8C","#7D8694"],"table_type_icon_active_bg":["#fff","#fff","#196AD4","#fff"],"table_type_icon_active_stroke":["#298DF8","#298DF8","#F2F4F5","#298DF8"],"table_type_icon_active_fill":["#298DF8","#298DF8","#C6D8EE","#298DF8"],"table_type_icon_not_hover":["#DBDBDB","#DBDBDB","#595A5C","#DBDBDB"],"table_type_icon_active_not_hover":["#DBDBDB","#DBDBDB","#8FB4E3","#DBDBDB"]},"button":{"red":{"normal":["#FF6161","#FF6161","#FF6161","#4257FF"],"hover":["#e04c4c","#e04c4c","#e04c4c","#3c4ee5"],"active":["#bc4439","#bc4439","#bc4439","#3c4ee5"]},"white":{"normal":["#fff","#fff","#fff","#fff"],"hover":["#eb5648","#eb5648","#eb5648","#4257FF"]},"blue":{"normal":["#298DF8","#298DF8","#196AD4","#4257FF"],"hover":["#1a70d8","#1a70d8","#1a70d8","#3c4ee5"]},"black":{"normal":["#415058","#415058","#415058","#4257ff"],"hover":["#1f292e","#1f292e","#1f292e","#3C4ee5"]}},"radio":{"bg":["#f6f7f8","#f6f7f8","#454647","#f6f7f8"],"border_cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"]},"switch":{"bg":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],"tc":["#fff","#fff","#999999","#fff"]},"check":{"tc":["#5b6b73","#5b6b73","#151515","#5b6b73"],"border_color":["#C8CDD0","#C8CDD0","#454647","#C8CDD0"],"active_bg":["#7d8694","#7d8694","#196AD4","#7d8694"],"active_tc":["#5b6b73","#5b6b73","transparent","#5b6b73"]},"divider":{"divider_1":["#DBDBDB","#DBDBDB","#151515","#DBDBDB"],"divider_2":["#ededed","#ededed","#252626","#ededed"],"divider_3":["#dbdbdb","#dbdbdb","#252626","#dbdbdb"],"divider_4":["#e8e8e8","#e8e8e8","#151515","#e8e8e8"],"divider_5":["#dbdbdb","#dbdbdb","#151515","#dbdbdb"]},"menu":{"panel":{"bg":["#fff","#fff","#363738","#fff"],"card":{"tc_hover":["#298df8","#298df8","#F2F4F5","#4257FF"],"hover_bg":["#f7f7f7","#f7f7f7","#196AD4","#f7f7f7"]}},"event_select":{"bg":["#1f292e","#1f292e","#454647","#1f292e"],"card":{"hover_bg":["#298df8","#298df8","#363738","#4257FF"],"hover_tc":["#fff","#fff","#D7DDE0","#fff"],"active_bg":["#415058","#415058","#196AD4","#415058"],"active_tc":["#fff","#ff","#F2F4F5","#fff"]},"divider":["#7d8694","#7d8694","#363738","#7d8694"]},"tc":["#415058","#415058","#D7DDE0","#415058"],"disabled_tc":["#c8cdd0","#c8cdd0","#999999","#c8cdd0"]},"text_1":{"cr":["#415058","#415058","#D7DDE0","#415058"],"hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_2":{"cr":["#415058","#415058","#D7DDE0","#415058"],"hover":["#298DF8","#298DF8","#D7DDE0","#4257FF"],"active":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_3":{"cr":["#415058","#415058","#D7DDE0","#415058"]},"text_4":{"cr":["#1f292e","#1f292e","#D7DDE0","#1f292e"]},"text_5":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},"text_6":{"cr":["#415058","#415058","#B8BCBF","rgba(255,255,255,0.72)"],"hover":["#415058","#415058","#F2F4F5","#FFFFFF"]},"text_8":{"cr":["#415058","#415058","#999999","#415058"]},"text_9":{"cr":["#7d8694","#7d8694","#999999","#7d8694"]},"text_10":{"cr":["#7d8694","#7d8694","#999999","#7d8694"],"hover":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"active":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_11":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],"hover":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"]},"text_12":{"cr":["#415058","#415058","#F2F4F5","#415058"]},"text_disabled":{"cr":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"text_13":{"cr":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_14":{"cr":["#fff","#fff","#1F292E","#fff"]},"text_15":{"cr":["#415058","#415058","#B8BCBF","#415058"]},"text_17":{"cr":["#5B6B73","#5B6B73","#F2F4F5","#5B6B73"],"hover_active":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_18":{"cr":["#415058","#415058","#B8BCBF","#415058"],"hover":["#298DF8","#298DF8","#196AD4","#4257FF"]},"text_19":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"]},"text_20":{"cr":["#8d9ea7","#8d9ea7","#999999","#3c4ee5"],"hover":["#5B6B73","#5B6B73","#F2F4F5","#3c4ee5"]},"text_22":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"]},"text_23":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"]},"text_24":{"cr":["#5b6b73","#5b6b73","#999999","#5b6b73"]},"text_25":{"cr":["#8d9ea7","#8d9ea7","#D7DDE0","#8d9ea7"]},"text_26":{"cr":["#5B6B73","#5B6B73","#F2F4F5","#5B6B73"]},"text_27":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],"hover":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_28":{"cr":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"hover":["#298df8","#298df8","#F2F4F5","#4257FF"]},"text_31":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],"hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"text_32":{"cr":["#fff","#fff","#F2F4F5","#fff"]},"icon_disabled":{"cr":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"icon_1":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"]},"icon_2":{"cr":["#d8d8d8","#d8d8d8","#808080","#d8d8d8"]},"icon_3":{"cr":["#298DF8","#298DF8","#196AD4","#4257FF"]},"icon_4":{"cr":["#5b6b73","#5b6b73","#999999","#5b6b73"]},"icon_5":{"cr":["#8d9ea7","#8d9ea7","#D7DDE0","#5B6B73"],"hover":["#298df8","#298df8","#B8BCBF","#4257FF"],"active":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"icon_6":{"cr":["#415058","#415058","#D7DDE0","#415058"]},"icon_7":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"hover":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"]},"icon_8":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"]},"icon_9":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},"icon_10":{"cr":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"icon_11":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_12":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_13":{"cr":["#7d8694","#7d8694","#B8BCBF","#7d8694"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_14":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],"hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"icon_15":{"cr":["#415058","#415058","#B8BCBF","#415058"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_16":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#292929"],"hover":["#415058","#415058","#F2F4F5","#415058"]},"icon_17":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"]},"icon_18":{"cr":["#7d8694","#7d8694","#808080","#7d8694"]},"shadow":{"shadow_1":["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626","0 2px 8px 0 rgba(0, 0, 0, 0.1)"],"shadow_2":["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)"],"shadow_3":["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)"]},"border":{"border_blue":["#79baff","#79baff","#196AD4","#4257FF"],"border_light_blue":["#1E98EA","#1E98EA","#298DF8","#4257FF"],"border_dark_blue":["#1E98EA","#1E98EA","#196AD4","#4257FF"]}},"inputNumber":{"border_color":["#ebebeb","#C8CDD0","#454647","#ebebeb"],"hover_border":["#d8d8d8","#d8d8d8","#454647","#d8d8d8"],"caret_bg_hover":["#ededed","#ededed","#363738","#ededed"],"active_bg":["#298DF8","#298DF8","#196AD4","#4257FF"]},"borderResizer":{"bg":["#f55d54","#f55d54","#f55d54","transparent"]},"select":{"border_color":["#ededed","#C8CDD0","#454647","#ededed"],"tc":["#fff","#fff","#D7DDE0","#fff"],"active_bg":["#415058","#415058","#151515","#415058"],"divider":["#7d8694","#7d8694","#363738","#7d8694"],"shadow":["0 2px 10px 0 rgba(39, 54, 78, 0.08), 4px 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 10px 0 rgba(39, 54, 78, 0.08), 4px 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626","0 2px 10px 0 rgba(39, 54, 78, 0.08), 4px 12px 40px 0 rgba(39, 54, 78, 0.1)"]},"radioLine":{"border":["1px solid #ededed","1px solid #DBDBDB","1px solid #454647","1px solid #ededed"],"bg":["#FFF","#F2F2F2","#252626","#FFF"],"border_color":["#ededed","#DBDBDB","transparent","#ededed"],"active_bg":["#EDEDED","#DBDBDB","#196AD4","rgba(66, 87, 255, 0.06)"],"hover_icon":["#298DF8","#298DF8","#196AD4","#4257FF"],"tc":["#5b6b73","#5b6b73","#999999","#5b6b73"],"hover_tc":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"slideNav":{"border":["#1f292e","#1f292e","#D7DDE0","#1f292e"]},"toast":{"success":{"bg":["#7d8694","#7d8694","#F2F4F5","#7d8694"]}},"dropdown":{"dark":{"tc":["#fff","#fff","#415058","#fff"],"hover_tc":["#fff","#fff","#1F292E","#fff"],"bg":["rgba(30, 41, 46, 0.9)","rgba(30, 41, 46, 0.9)","rgba(242, 244, 245)","rgba(30, 41, 46, 0.9)"]},"list":{"bg":["#fff","#fff","#595A5C","#fff"],"hover_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"tc":["#1e98ea","#1e98ea","#f2f4f5","#4257FF"]}},"icon_button":{"fore_color":["#7d8694","#7d8694","#808080","#7d8694"],"hover":{"fore_color":["#298DF8","#298DF8","#196AD4","#4257FF"]}},"workspaceTutorialPane":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"icon":["#979797","#979797","#D7DDE0","#979797"],"hover":["#f2f2f2","#e8e8e8","#151515","#f2f2f2"],"shortcut":{"kbd_bg":["#ededed","#fff","#595A5C","#ededed"]},"video":{"item_hover_bg":["#f7f7f7","#f7f7f7","#196AD4","#f7f7f7"],"icon_main":["#dbdbdb","#dbdbdb","#363738","#dbdbdb"]}},"versionManagementPane":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"top":[52,52,52,64],"button_bg":["#298df8","#298df8","#196ad4","#4257FF"],"button_bg_hover":["#3c4ee5","#3c4ee5","#0b55b6","#3c4ee5"],"color_1":["#415058","#415058","#d7dde0","#415058"],"color_2":["#7d8b94","#7d8b94","#b8bcbf","#7d8b94"],"header":{"border_color":["#dbdbdb","#dbdbdb","#151515","#dbdbdb"]},"versionItem":{"shadow_hover":["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)","0 2px 4px rgba(0, 0, 0, 0.14)"],"bg_1":["#f2f2f2","#f2f2f2","#454647","#f2f2f2"],"bg_2":["#fff","#fff","#363738","#fff"],"border_color":["#ededed","#ededed","#252626","#ededed"],"icon":{"color":["#7d8b94","#7d8b94","#B8BCBF","#7d8b94"],"hover":["#415058","#415058","#f2f4f5","#415058"]},"color_1":["#415058","#415058","#d7dde0","#415058"],"color_2":["#415058","#415058","#d7dde0","#415058"],"color_3":["#7d8b94","#7d8b94","#999999","#7d8b94"],"color_4":["#7d8b94","#7d8b94","#d7dde0","#7d8b94"]}},"versionViewWindow":{"bg":["#6f7478","#6f7478","#595a5c","#6f7478"]},"slider":{"bg":["#efefef","#c8cdd0","#454647","#efefef"]},"artBoard":{"linkback":{"border":["1px solid transparent","1px solid #d9d9d9","1px solid transparent","1px solid transparent"],"bg_hover":["#f5f5f5","#f5f5f5","#252626","#f5f5f5"],"hover_color":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"dot":{"bg":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],"border":["#7d8694","#7d8694","#808080","#7d8694"]},"linking_bg":["#f5f5f5","#f5f5f5","#298DF8","#f5f5f5"]},"panelEditBreadNav":{"tc":["#fff","#fff","#415058","#fff"],"tc_hover":["#fff","#fff","#F2F4F5","#fff"],"bg_hover":["#298DF8","#298DF8","#196AD4","#4257FF"],"line":["#dbdbdb","#dbdbdb","#8D9EA7","#dbdbdb"]},"loginBtn":{"bg":["#415058","#415058","#fff","#415058"],"tc":["#E8E8E8","#E8E8E8","#415058","#E8E8E8"],"btc":["#fff","#fff","#1f292e","#fff"],"save_bg":["#ec4954","#415058","#fff","#ec4954"]}},"toolbar":{"shadow":["0 2px 3px 0 rgba(100, 100, 100, 0.20)","0 2px 3px 0 rgba(100, 100, 100, 0.18)","","0 2px 3px 0 rgba(100, 100, 100, 0.20)"],"bg":["#FFF","#F2F2F2","#353738","#292929"],"height":["52px","52px","52px","64px"],"active_bg":["#F2F2F2","#E8E8E8","#252626","#1F1F1F"],"border_bottom":["0px solid transparent","0px solid transparent","1px solid #151515","0px solid transparent"],"app_name":["#525e71","#525e71","#D8E0E6","rgba(255, 255, 255, 0.72)"],"disabled_text":["#C8CDD0","#C8CDD0","#808080","rgba(255, 255, 255, 0.24)"],"item_disabled_text":["#C8CDD0","#C8CDD0","#808080","rgb(200, 205, 208)"],"divider_color":["#e8e8e8","#e8e8e8","#353738","#e8e8e8"],"divider_4":["#e8e8e8","#e8e8e8","#151515","transparent"],"button":{"icon_color":["#5B6B73","#5B6B73","#D9D9D9","rgba(255, 255, 255, 0.72)"],"icon_hover":["#5B6B73","#5B6B73","#F2F4F5","#FFFFFF"],"icon_active":["#415058","#415058","#F2F4F5","#FFFFFF"]},"dropdownArrow":{"position":{"top":["14px","14px","14px","19px"]}},"play":{"color":["#ff6161","#ff6161","#ff6161","#C3C3C3"],"color_hover":["#ff6161","#ff6161","#ff6161","#FFFFFF"],"marginLeft":["19px","19px","19px","auto"]},"more":{"marginRight":["auto","auto","auto","19px"]},"save":{"icon":["#ff6161","#ff6161","#ff6161","#FFFFFFB8"]},"text_6":{"cr":["#415058","#415058","#B8BCBF","rgba(255, 255, 255, 0.72)"],"hover":["#415058","#415058","#F2F4F5","#FFF"]},"zoom_scale":{"cr":["#5B6B73","#5B6B73","#D9D9D9","rgba(255, 255, 255, 0.72)"],"hover":["#298df8","#298df8","#298df8","#FFF"],"dropdown":{"input":["#1684fc","#1684fc","#1684fc","#4257FF"]}},"preference":{"icon_main":["#c8cdd0","#c8cdd0","#737373","#c8cdd0"]},"version":{"icon":["#298DF8","#298DF8","#298DF8",""]},"menu":{"icon":{"close":["#7d8694","#7d8694","#B8BCBF","#7d8694"]},"border":{"input":["1px solid #e8e8e8","1px solid #e8e8e8","1px solid #595A5C","1px solid #e8e8e8"]},"divider":["#e7e9ea","#e7e9ea","#252626","#e7e9ea"],"active":{"border_top":["2px solid #bbc5ca","2px solid #bbc5ca","2px solid #808080","2px solid rgba(255, 255, 255, 0.56)"],"select_bg":["#f6f7f8","#f6f7f8","#298DF8","#f6f7f8"]}},"icon_color":{"cr":["#8d9ea7","#8d9ea7","#B8BCBF","#FFFFFFB8"],"hover":["#415058","#415058","#F2F4F5","#FFFFFF"]}},"popups":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"bc":["#DBDBDB","#DEDEE4","#454647","#DBDBDB"],"header":{"bg":["#F2F2F2","#DBDBDB","#363738","#F2F2F2"],"hover_bg":["#F7F7F7","#E8E8E8","#196AD4","#F7F7F7"],"tc":["#415058","#415058","#D7DDE0","#415058"],"tc_hover":["#298DF8","#298DF8","#F2F4F5","#4257FF"],"icon_color":["#7D8694","#8D9EA7","#B8BCBF","#7D8694"],"icon_hover":["#415058","#415058","#F2F4F5","#415058"],"line_color":["#EDEDED","#E8E8E8","#151515","#EDEDED"]},"widget":{"border":["#ebebeb","#ebebeb","#454647","#ebebeb"],"border_combo":["#ebebeb","#ebebeb","#595A5C","#ebebeb"]},"iconPanel":{"border":["#f1f1f5","#f1f1f5","#454647","#f1f1f5"],"icon_active":["#1E98EA","#1E98EA","#298DF8","#1E98EA"]},"customPanel":{"icon_main_hover":["#298df8","#298df8","#D7DDE0","#4257FF"],"icon_secondary_hover":["#76b8ff","#76b8ff","#F2F4F5","#76b8ff"],"actions_bg":["#F7F7F7","#E8E8E8","transparent","#F7F7F7"]},"statePanel":{"index_color":["#1f292e","#1f292e","#E6E9EB","#1f292e"],"divider":["#d8d8d8","#d8d8d8","#595A5C","#d8d8d8"]},"CollapsePanel":{"expanded_icon":{"secondary":["#c8cdd0","#c8cdd0","#999999","#c8cdd0"]}},"builtinPanel":{"toggle_icon":["#E8E8E8","#DBDBDB","#595A5C","#E8E8E8"],"bg":["#F2F2F2","#fff","#363738","#F2F2F2"]},"nav":{"border_color":["#DEDEE4","#D9D9D9","#151515","#DEDEE4"]},"footer":{"background":["#fff","#fff","","#fff"],"icon_active_color":["#FF6161","#FF6161","#FF6161","#4257FF"]},"no":{"tips_cr":["#7d8694","#7d8694","#B8BCBF","#7d8694"]}},"linkList":{"linkLine":{"cut_cr":["#525e71","#525e71","#B8BCBF","#525e71"],"border_color":["#298df8","#298df8","#298df8","#4257FF"]}},"settingPanel":{"arrange":{"icon_hover_color":["#EDEDED","#DBDBDB","","#EDEDED"],"bg":["none","none","#363738","none"],"icon_hover_bg":["#ededed","#ededed","#252626","#0000000A"]},"general":{"layerInfo":{"border_left_color":["#d9d9d9","#d9d9d9","#454647","#d9d9d9"],"hover_border":["#FF6161","#FF6161","#196AD4","#4257FF"],"active_border":["#f55d54","#f55d54","#196AD4","#4257FF"]},"morelayer":{"border_left":["#d9d9d9","#d9d9d9","#454647","#d9d9d9"],"item":{"icon_stroke_hover":["#f2f2f2","#f2f2f2","transparent","#f2f2f2"],"icon_fill_hover":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"],"icon_fill_active":["#ff6161","#ff6161","#999999","#4257FF"],"icon_fore_hover":["#fff","#fff","#454647","#fff"],"bg":["#DBDBDB","#F2F2F2","#454647","#DBDBDB"],"hover_bg":["#fff","#fff","#196AD4","#fff"],"tc_hover":["#298df8","#298df8","#F2F4F5","#4257FF"],"border_hover":["#298df8","#298df8","transparent","#4257FF"]}},"aspectRatio":{"color":["#7D8B94","#7D8B94","#D7DDE0","#7D8B94"],"hv_color":["#7D8B94","#7D8B94","#D7DDE0","#7D8B94"],"hv_bg":["#F2F2F2","#EDEDED","#151515","#F2F2F2"],"lock_bg":["#EDEDED","#E8E8E8","#196AD4","#EDEDED"],"lock_color":["#5B6B73","#5B6B73","#FFFFFF","#5B6B73"],"disabled_color":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]}},"widgetSetting":{"borderRadiusLine":{"bg":["#fff","#F2F2F2","","#fff"],"border_color":["#ededed","#DBDBDB","#4D4D4D","#ededed"],"active_bg":["#EDEDED","#DBDBDB","#0E6CE6","rgba(66, 87, 255, 0.06)"]},"animation_box":{"bg":["#f7f7fa","#f7f7fa","#363738","#f7f7fa"],"tc":["#eb5648","#eb5648","#F2F4F5","#4257FF"]},"textSetting":{"options":{"hover_bg":["#ededed","#ededed","#151515","#ededed"]},"font":{"position":["73px","73px",0,"73px"]}},"fontWeightSelector":{"width":[60,60,60,200]},"carouselSettings":{"assetBoxBg":["#f7f7f7","#ebebeb","#363738","#f7f7f7"],"addAssetIconFill":["#c8cdd0","#8d9ea7","#D7DDE0","#c8cdd0"],"assetBoxBorder":["#e8e8e8","#e8e8e8","#454647","#e8e8e8"],"assetLinkBtnBg":["rgba(252, 252, 252, 0.74)","rgba(252, 252, 252, 0.74)","#595A5C","rgba(252, 252, 252, 0.74)"],"link_boxshadow":["none","none","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","none"]},"imageFilter":{"input_bg":["rgb(242, 242, 242)","rgb(242, 242, 242)","#363738","rgb(242, 242, 242)"],"input_border":["rgb(232, 232, 232)","rgb(232, 232, 232)","transparent","rgb(232, 232, 232)"]},"imgSetting":{"border":["#7d8694","#7d8694","#999999","#7d8694"],"stroke":["#298DF8","#fff","#fff","#4257FF"],"restBorder":["#C8CDD0","#C8CDD0","#454647","#C8CDD0"],"restHoverBorder":["#298DF8","#298DF8","#298DF8","#4257FF"],"resetColor":["#298DF8","#298DF8","#196AD4","#4257FF"],"span":["#415058","#415058","#999999","#415058"]},"imgClip":{"shape_bg":["#c8cdd0","#c8cdd0","#B8BCBF","#c8cdd0"]}},"linkSettings":{"linkEditor":{"bg":["#F5F5F5","#fafafa","#363738","#F5F5F5"],"color":["#5B6B73","#7d8694","#999999","#5B6B73"],"dropdown_border":["#D9D9D9","#ededed","#595A5C","#D9D9D9"],"icon_color":["#7D8694","#c8cdd0","#D7DDE0","#7D8694"],"hover_bg":["#ededed","#ededed","#363738","#ededed"],"hover_box_shadow":["none","none","inset 0 0 24px 0 rgba(87, 88, 89, 0.40)","none"],"select_link_border":["#d9d9d9","#d9d9d9","#595A5C","#d9d9d9"],"list_item_hover_bg":["#F7F7F7","#E8E8E8","#363738","#F7F7F7"],"transitionPanel":{"border":["#c8cdd0","#c8cdd0","transparent","#c8cdd0"],"bg":["#ebebeb","#ebebeb","#D7DDE0","#ebebeb"]}},"createBtn":{"disabled_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"disabled_opacity":[1,1,0.5,1],"disabled_border":["#dedee4","#dedee4","transparent","#dedee4"]},"timer":{"icon_bg":["#fff","#fff","transparent","#fff"],"disabled":["#dedee4","#dedee4","#808080","#dedee4"],"bg":["#f6f7f8","#f6f7f8","transparent","#f6f7f8"],"hover_bg":["#fff","#fff","#196AD4","#fff"]}},"simulatorDisplaySettings":{"border_color":["#1a70d8","#1a70d8","#0b55b6","#1a70d8"],"color":["#415058","#415058","#fff","#415058"],"font_color":["#415058","#415058","#d7dde0","#415058"],"hover_bg":["#f2f2f2","#f2f2f2","#252626","#f2f2f2"],"active_bg":["#f7f7f7","#f7f7f7","#196ad4","#f7f7f7"],"active_color":["#298df8","#298df8","#fff","#4257FF"]}},"export_bar":{"bg":["#fff","#F2F2F2","","#fff"],"laber_color_bg":["#fff","#f2f2f2","","#fff"],"disabled_bg":["#fff","#f7f7f7","transparent","#fff"],"disabled_input_tc":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],"disabled_border_color":["#f7f7f7","#f2f2f2","","#f7f7f7"],"export_button":{"bg":["#fff","#F2F2F2","#595A5C","#fff"],"cr_hover":["#298df8","#298df8","#D7DDE0","#4257FF"],"bg_hover":["transparent","transparent","#196AD4","transparent"],"cr_active":["#298df8","#298df8","rgba(215, 221, 224, 0.6)","#4257FF"],"bg_active":["transparent","transparent","#0B55B6","transparent"],"boxShadow_active":["0 1px 4px 0 #c8cdd0","0 1px 4px 0 #c8cdd0","none","0 1px 4px 0 #c8cdd0"],"border":["#c8cdd0","#c8cdd0","transparent","#c8cdd0"],"border_hover":["#298df8","#298df8","transparent","#4257FF"]}},"panel":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"header":{"bg":["#F2F3F4","#DBDBDB","#363738","#F2F3F4"]},"nav":{"active_bg":["#FFF","#F2F2F2","#252626","#FFF"],"icon_color":["#5B6B73","#5B6B73","#D7DDE0","#5B6B73"],"icon_active_color":["#FF6161","#FF6161","#FF6161","#4257FF"],"icon_fill_color":["#fccccc","#fccccc","#fccccc","#4257FF"],"leftnav":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"item_hover":["#FCFCFC","#EBEBEB","#454647","#FCFCFC"],"fore_hover":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"]}}},"draggablePanel":{"bg":["#FFF","#F2F2F2","#252626","#FFF"],"border_color":["#DEDEE4","#DEDEE4","#454647","#DEDEE4"],"header":{"bg":["#F2F2F2","#DBDBDB","#363738","#F2F2F2"],"close_button_color":["#7d8694","#7d8694","#D9D9D9","#7d8694"],"close_button_hover_color":["#415058","#415058","#f2f4f5","#415058"]},"layerItem":{"bg":["#DBDBDB","#F2F2F2","#454647","#DBDBDB"]},"input":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#363738","#E8E8E8"],"border":["1px solid transparent","1px solid #DBDBDB","1px solid #595A5C","1px solid transparent"]},"CheckBorder":{"bg":["#fff","#fff","#196ad4","#fff"],"cr":["#ff6161","#ff6161","#f2f4f5","#4257FF"],"border_color":["#8d9ea6","#bacdd6","transparent","#8d9ea6"]},"NumberInput":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#363738","#E8E8E8"],"disabled_bg":["#F7F7F7","#fff","","#F7F7F7"],"disabled_border_color":["#F2F2F2","#e8e8e8","","#F2F2F2"]},"Select":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#454647","#E8E8E8"]}},"leftpane":{"shadow":["0 -2px 10px 0 rgba(39, 54, 78 ,0.11)","0 -2px 10px 0 rgba(39, 54, 78 ,0.12)","","0 -2px 10px 0 rgba(39, 54, 78 ,0.11)"],"border_right":["#DBDBDB","#DBDBDB","#454647","#DBDBDB"]},"rightpane":{"shadow":["0 -2px 10px 0 rgba(39, 54, 78 ,0.11)","0 -2px 10px 0 rgba(39, 54, 78 ,0.12)","","0 -2px 10px 0 rgba(39, 54, 78 ,0.11)"],"border":["transparent","transparent","#454647","transparent"]},"textarea":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#363738","#E8E8E8"],"editable":{"bg":["transparent","transparent","#252626","transparent"],"border_bottom":["#f55d54","#f55d54","transparent","#4257FF"],"tc":["#525e71","#525e71","#F2F4F5","#525e71"]}},"sidebar":{"bg":["#FFF","#F2F2F2","#363738","#FFF"],"box_shadow":["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","","0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)"],"button":{"icon_main_color":["#dbdbdb","#dbdbdb","#363738","#dbdbdb"],"icon_color":["#415058","#415058","#B8BCBF","#415058"],"hover":{"bg":["#E8E8E8","#DBDBDB","#252626","#E8E8E8"]},"active":{"icon_color":["#fff","#fff","#F2F4F5","#fff"],"bg":["#298DF8","#298DF8","#196AD4","#4257FF"]}}},"basicWidgets":{"bg":["#fff","#F2F2F2","#363738","#fff"],"icon":{"color":["#6C6D6E","#6C6D6E","#D7DDE0","#6C6D6E"],"hover":{"bg":["#f2f2f2","#E8E8E8","#252626","#f2f2f2"],"border_color":["#E8E8E8","#DBDBDB","#252626","#E8E8E8"]},"active":{"bg":["#F2F2F2","#E8E8E8","#252626","#F2F2F2"],"color":["#FF6161","#FF6161","#B8BCBF","#4257FF"],"border_color":["#E8E8E8","#DBDBDB","#252626","#E8E8E8"]}},"nav":{"divider":["#d8d8d8","#d8d8d8","#808080","#d8d8d8"]}},"screenContainer":{"bg":["#F5F5F5","#E8E8E9","#151515","#F5F5F5"],"lightBg":["#E8E8E8","#E8E8E8","#454647","#E8E8E8"],"top":[52,52,52,64],"boxShadow":["0 1 2px 0 rgba(0, 0, 0, 0.2)","0 1 2px 0 rgba(0, 0, 0, 0.2)","","0 1 2px 0 rgba(0, 0, 0, 0.2)"]},"scrollbar":{"track":{"bg":["transparent","transparent","transparent","transparent"]},"thumb":{"x_bg":["#D2D2D8","#BCBCBC","#454647","#D2D2D8"],"y_bg":["#DEDEE4","#BCBCBC","#454647","#DEDEE4"],"x_hover_bg":["#BEC3C5","","#595A5C","#BEC3C5"],"y_hover_bg":["#C8CDD0","","#595A5C","#C8CDD0"]}},"listItem":{"expander_color":["#C8CDD0","#8D9EA7","#B8BCBF","#C8CDD0"],"action_color":["#8D9EA7","#8D9EA7","#B8BCBF","#8D9EA7"],"action_hover_color":["#5B6B73","#1F292E","#F2F4F5","#5B6B73"],"icon_expander":["#8d9ea7","#8d9ea7","#E6E9EB","#8d9ea7"],"hover":{"tc":["#298DF8","#298DF8","#D7DDE0","#4257FF"],"bg":["#F7F7F7","#E8E8E8","#151515","#F7F7F7"],"transfer_bg":["#F7F7F7","#E8E8E8","#252626","#F7F7F7"],"action":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"],"action_icon":["#298DF8","#298DF8","#F2F4F5","#4257FF"]},"group_icon":{"main":{"hover_active":["#298df8","#298df8","#D7DDE0","#4257FF"]},"secondary":{"hover_active":["#76b8ff","#76b8ff","#F2F4F5","#5E82FF"]}},"link_icon":{"tc":["#298df8","#298df8","#B8BCBF","#4257FF"],"tc_hover":["#298df8","#298df8","#F2F4F5","#4257FF"]},"active":{"slice_item_bg":["#EBEBEB","#EBEBEB","#196AD4","#EBEBEB"],"bg":["#F2F2F2","#FFF","#151515","#F2F2F2"]},"linking_bg":["#bbd8fe","#bbd8fe","#298DF8","#bbd8fe"]},"listMenu":{"hover":{"bg":["#F5F5F5","#F5F5F5","#196AD4","rgba(0, 0, 0, 0.04)"]}},"thumbnail":{"bg":["#F2F2F2","#EBEBEB","#363738","#F2F2F2"],"imgWrap":{"card":{"bg":["rgba(41, 141, 248, 0.2)","rgba(41, 141, 248, 0.2)","rgba(25, 106, 212, 0.3)","rgba(41, 141, 248, 0.2)"]},"border":{"cr":["1px solid #EDEDED","1px solid #DBDBDB","1px solid transparent","1px solid #EDEDED"],"hover":["1px solid transparent","1px solid #298DF8","1px solid #196AD4","1px solid transparent"],"active":["1px solid #1e98ea","1px solid #1e98ea","2px solid #196AD4","1px solid #4257FF"]},"imge_type":{"bg":["rgba(200, 205, 208, 0.7)","rgba(200, 205, 208, 0.7)","rgb(242, 244, 245, 0.8)","rgba(200, 205, 208, 0.7)"],"tc":["#5b6b73","#5b6b73","#1F292E","#5b6b73"]}},"editable":{"border":["#FF6161","#FF6161","#196AD4","#4257FF"]},"icon":{"cr":["#5b6b73","#5b6b73","#298DF8","#5b6b73"],"bg":["#ededed","#dbdbdb","#454647","#ededed"],"rect_bg":["#000000","#000000","#595A5C","#000000"],"bg_base64":["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII="]}},"colorButton":{"border_color":["rgba(0, 0, 0, 0.2)","rgba(0, 0, 0, 0.25)","#454647","rgba(0, 0, 0, 0.2)"],"border_color_hover":["#8d9ea7","#8d9ea7","#808080","#8d9ea7"]},"searchBar":{"bg":["#F2F2F2","#fff","#363738","#F2F2F2"],"border_color":["#E8E8E8","#DBDBDB","#454647","#E8E8E8"],"close_icon":["#bec2c9","#bec2c9","#595A5C","#bec2c9"],"hover":{"close_icon":["#7d8694","#7d8694","#808080","#7d8694"]}},"interation":{"active":{"box_shadow":["0 0 4px 0 rgba(34, 162, 237, 0.66)","0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)","0 0 4px 0 rgba(34, 162, 237, 0.66)"]}},"libraryContainer":{"replace_btn_bo":["#2ecc71","#2ecc71","#2ecc71","#4257FF"],"replace_btn_bg":["#2ecc71","#2ecc71","#2ecc71","#4257FF"],"create_action":["#1a70d8","#1a70d8","#1a70d8","#3C4EE5"],"footer_storage":["#ff6161","#ff6161","#ff6161","#FF641D"],"toorbar_tips":["#ff6161","#ff6161","#ff6161","#FF641D"],"left_panel":{"bg":["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],"item":{"hover_bg":["#ededed","#ededed","#252626","#ededed"],"active_bg":["#fff","#fff","#196AD4","#fff"],"icon_main":{"active":["#298df8","#298df8","#F2F4F5","#4257FF"]},"icon_secondary":{"cr":["#8d9ea7","#8d9ea7","#808080","#5d82ff"],"active":["#76b8ff","#76b8ff","#D7DDE0","#5d82ff"]}}},"toolbar":{"dropList":{"bg_hover":["#f2f2f2","#f2f2f2","#196AD4","#f2f2f2"]},"radioLine":{"bg":["#fff","#F2F2F2","#454647","#fff"],"border":["1px solid #ededed","1px solid #DBDBDB","1px solid #595A5C","1px solid #ededed"]}},"header":{"cr":["#7d8694","#7d8694","#999999","#7d8694"],"cr_active":["#525e71","#525e71","#F2F4F5","#525e71"],"cube_border":["#FF6161","#FF6161","#F2F4F5","#4257FF"],"arrow_right":["#7d8695","#7d8695","#D7DDE0","#7d8695"],"search_cr":["#415058","#415058","#5B6B73","#415058"],"search_tc":["#7d8694","#7d8694","#5B6B73","#7d8694"],"search_trash":["#415058","#415058","#7d8694","#415058"],"search_header_bg":["rgba(98, 203, 136, 0.2)","rgba(98, 203, 136, 0.2)","#DDF1E4","rgba(98, 203, 136, 0.2)"],"search_tips":["#e8e8e8","#e8e8e8","#B8BCBF","#e8e8e8"]},"content":{"header":{"check":{"border":["#bacdd6","#bacdd6","#454647","#bacdd6"],"active_bg":["#fff","#fff","#298DF8","#fff"],"active_cr":["#ff6161","#ff6161","#fff","#4257FF"]}},"user":{"userAssetList":{"tag_bg":["#ededed","#ededed","#595A5C","#ededed"],"tag_bg_hover":["#dbdbdb","#dbdbdb","#808080","#dbdbdb"],"tag_default_hover":["#c8cdd0","#c8cdd0","#808080","#c8cdd0"],"tab_bg_manag":["#fff","#fff","transparent","#fff"],"divider":["#d8d8d8","#d8d8d8","#454647","#d8d8d8"]}},"list":{"hover_bg":["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],"select_bg":["#f2f2f2","#f2f2f2","#363738","#f2f2f2"],"tags_bg_hover":["#dbdbdb","#dbdbdb","#808080","#dbdbdb"],"tags_item_bg":["#fcfcfc","#fcfcfc","#595A5C","#fcfcfc"],"tag_item_border":["#c8cdd0","#c8cdd0","#808080","#c8cdd0"]}},"footer":{"asset_btn":{"border":["#c8cdd0","#c8cdd0","#595A5C","#4257FF"]},"disabled":{"bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"border":["#dedee4","#dedee4","transparent","#dedee4"],"tc":["#C8CDD0","#C8CDD0","#F2F4F5","#C8CDD0"],"opacity":[1,1,0.6,1]},"hover":{"bg":["#8d9ea7","#8d9ea7","#151515","#fff"]},"active":{"bg":["#5b6b73","#5b6b73","#252626","#fff"],"border":["#415058","#415058","transparent","#415058"]}},"tagDropDown":{"input_bg":["#f7f7f7","#f7f7f7","#252626","#f7f7f7"],"hover_bg":["#f2f2f2","#f2f2f2","#196AD4","#f2f2f2"]},"no":{"assetUpload":{"border":["#c8cdd0","#c8cdd0","transparent","#c8cdd0"],"bg":["#e8e8e8","#e8e8e8","#454647","#e8e8e8"]},"tips":{"create_icon_bg":["#fff","#fff","#8D9EA7","#fff"],"create_icon_cr":["#5b6b73","#5b6b73","#E8E8E8","#5b6b73"]}}},"menu":{"export":{"scale_item_bg":["#ededed","#ededed","#454647","#ededed"],"upgrade_tip_bg":["#ff6161","#ff6161","#ff6161","#ff641d"],"select_bg_active":["#f6f7f8","#f6f7f8","#298DF8","#f6f7f8"],"icon_fore_1":["#f7f7f7","#f7f7f7","#D7DDE0","#f7f7f7"],"icon_fore_2":["#7d8694","#7d8694","#F2F4F5","#7d8694"]},"dropdown":{"gestures":{"bg":["#1f292e","#1f292e","#454647","#1f292e"],"border":["#7d8694","#7d8694","#595A5C","#7d8694"],"move_cube_border":["#1f292e","#1f292e","#363738","#1f292e"],"hover_bg":["#298df8","#298df8","#252626","#4257FF"],"active_bg":["#298DF8","#298DF8","#196AD4","#4257FF"],"tc":["#fff","#fff","#D7DDE0","#fff"]},"newSize":{"hover_bg":["#415058","#415058","#363738","#415058"],"active_bg":["#298DF8","#298DF8","#196AD4","#4257FF"]}},"context":{"item_hover_bg":["rgba(0, 0, 0, 0.04)","rgba(0, 0, 0, 0.04)","#196AD4","rgba(0, 0, 0, 0.04)"],"icon":{"cr":["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],"hover":["#298df8","#298df8","#F2F4F5","#4257FF"]}},"font":{"family":{"divider":["#7d8694","#7d8694","#363738","#7d8694"],"tips_bg":["#1f292e","#1f292e","#595A5C","#1f292e"],"link_tc":["#fff","#fff","#298DF8","#fff"],"tip_show_color":["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 1);","rgba(255, 255, 255, 1);","rgba(255, 255, 255, 0.4);"]}}},"modal":{"close_btn":["#8d9ea7","#8d9ea7","#b8bcbf","#8d9ea7"],"text_color1":["#1f292e","#1f292e","#f2f4f5","#1f292e"],"text_color2":["#415058","#415058","#f2f4f5","#415058"],"text_color3":["#5b6b73","#5b6b73","#b8bbbf","#5b6b73"],"check_icon_fill":["#7d8694","#7d8694","#196AD4","#7d8694"],"check_icon_stroke":["#5b6b73","#5b6b73","#196AD4","#5b6b73"],"bg":["#fff","#fff","#363738","#fff"],"bg1":["linear-gradient(to bottom,#fafafa,#f5f5f5)","linear-gradient(to bottom,#fafafa,#f5f5f5)","#595a5c","linear-gradient(to bottom,#fafafa,#f5f5f5)"],"bg2":["#298df8","#298df8","#196AD4","#4257FF"],"bg3":["#1a70d8","#1a70d8","#0B55B6","#1a70d8"],"footer_bg":["#f7f7f7","#f7f7f7","#454647","#f7f7f7"],"border_color":["#f2f2f3","#f2f2f3","#454647","#f2f2f3"],"border_color1":["#e8e8e8","#e8e8e8","#252626","#e8e8e8"],"border_color2":["ededed","ededed","#595a5c","ededed"],"select_active_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"],"select_hover_bg":["#f6f7f8","#f6f7f8","#363738","#f6f7f8"],"shadow":["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","","0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)"],"input":{"border":["#f2f2f3","#f2f2f3","#595A5C","#f2f2f3"]},"cancel_btn":{"bg":["#fff","#fff","#595A5C","#fff"],"hover":["#8d9ea7","#8d9ea7","#252626","#8d9ea7"],"active":["#5b6b73","#5b6b73","#252626","#5b6b73"],"border":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"confirm_btn":{"disabled_border":["#dedee4","#dedee4","transparent","#dedee4"],"disabled":["#fff","#fff","rgba(235, 86, 72, 0.6)","#fff"],"border":["#eb5648","#eb5648","#eb5648","#4257FF"],"hover":["#ec4954","#ec4954","#ec4954","#3C4EE5"],"active_tx":["#eab7b7","#eab7b7","#eab7b7","#fff"]},"border":{"cancel_hover":["#7d8694","#7d8694","#595A5C","#7d8694"],"cancel_active":["#415058","#415058","#595A5C","#415058"],"input_border":["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"]},"tc":{"hover":["#fff","#fff","#F2F4F5","#fff"],"active":["#fff","#fff","rgba(242, 244, 245, 0.6)","#fff"]},"transfer":{"tc":["#7d8b94","#7d8b94","#B8BCBF","#7d8b94"],"icon":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"],"bread_tc_hover":["#1f292e","#1f292e","#F2F4F5","#1f292e"],"item_hover_bg":["#f2f2f2","#f2f2f2","#252626","#f2f2f2"]},"preview":{"bg":["#f5f5f5","#f5f5f5","#252626","#f5f5f5"],"header_border":["#e8e8e8","#e8e8e8","transparent","#e8e8e8"]},"newSize":{"title":["#1F292E","#1F292E","#F2F4F5"],"inputTitle":["#8d9ea7","#8d9ea7","#999999"],"inputTitleActive":["#196AD4","#196AD4","#999999"],"input":["#fff","#fff","#363738"],"inputActive":["#fff","#fff","#151515"],"inputBorder":["#c8cdd1","#c8cdd1","#454647"],"inputBorderActive":["#c8cdd1","#c8cdd1","#196AD4"],"tc":["#415058","#415058","#D7DDE0"],"actionActive":["#8d9ea7","#8d9ea7","#E6E6E6"]}},"preview":{"bg":["#f5f5f5","#f5f5f5","#151515","#f5f5f5"],"panel":{"no_slice_btn_border":["rgba(39, 54, 78, 0.1)","rgba(39, 54, 78, 0.1)","transparent","rgba(39, 54, 78, 0.1)"],"no_slice_btn_bg":["transparent","transparent","#454647","transparent"],"no_slice_btn_bg_hover":["transparent","transparent","#196AD4","transparent"],"no_slice_btn_bg_active":["#f7f7fa","#f7f7fa","#0B55B6","#f7f7fa"],"no_slice_text":{"cr":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"hover":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"],"active":["#5b6b73","#5b6b73","rgb(184, 188, 191, 0.6)","#5b6b73"]},"slice_icon_export":["transparent","transparent","#F2F4F5","transparent"],"box_shadow":["0 -2px 30px rgba(39, 54, 78, 0.11)","0 -2px 30px rgba(39, 54, 78, 0.11)","1px 0 0 0 #454647","0 -2px 30px rgba(39, 54, 78, 0.11)"],"footer_client_cr":["#ee534e","#ee534e","#ee534e","#FF3333"]},"toolbar":{"height":["52px","52px","52px","64px"],"tc":["#1f292e","#1f292e","#B8BCBF","#1f292e"],"item_border":["#bbc5ca","#bbc5ca","#595A5C","#bbc5ca"],"fullScreen":{"bg":["#f1f1f5","#f1f1f5","#454647","#1F1F1F"],"icon":{"cr":["#5b6b73","#5b6b73","#B8BCBF","rgba(255, 255, 255, 0.72)"],"hover":["#415058","#415058","#F2F4F5","#FFFFFF"]}},"line_bg":["#DEDEE4","#DEDEE4","#999999","#383838"],"icon":{"cr":["#5b6b73","#5b6b73","#B8BCBF","rgba(255, 255, 255, 0.72)"],"hover":["#415058","#415058","#F2F4F5","#fff"],"active":["#415058","#415058","#F2F4F5","#fff"]}},"leftPanel":{"toggleBtn":{"wrap_icon":["#fff","#fff","#363738","#fff"]}},"mainContent":{"settingList":{"bg_hover":["#e8e8e8","#e8e8e8","#252626","#e8e8e8"],"bg_active":["#298DF8","#298DF8","#196AD4","#4257FF"]},"resetBtn":{"tc":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"tc_hover":["#5b6b73","#5b6b73","#B8BCBF","#5b6b73"],"bg_hover":["#f2f2f2","#f2f2f2","#363738","#f2f2f2"]}},"inspect":{"layerPanel":{"header_bg":["#f7f7f7","#f7f7f7","#151515","#f7f7f7"],"input_bg":["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],"border_input":["#F2F2F2","#F2F2F2","transparent","#F2F2F2"],"box_shadow":["0 2px 50px 0 rgba(39, 54, 78, 0.11)","0 2px 50px 0 rgba(39, 54, 78, 0.11)","-1px 0 0 0 #454647","0 2px 50px 0 rgba(39, 54, 78, 0.11)"]},"subToolbar":{"picker":["#F2C45A","#F2C45A","#F1C40F","#F2C45A"],"menu":{"hover_bg":["#f6f7f8","#f6f7f8","#151515","#f6f7f8"],"active_bg":["#f6f7f8","#f6f7f8","#196AD4","#f6f7f8"]}}},"comment":{"layer":{"copy_button":["#2889FC","#2889FC","#2889FC","#4257FF"],"load_color":["#FF6161","#FF6161","#FF6161","#4257FF"],"icon":["#c8cdd0","#c8cdd0","#999999","#c8cdd0"],"icon_hover":["#8d9ea7","#8d9ea7","#D7DDE0","#8d9ea7"],"icon_active":["#298DF8","#298DF8","#298DF8","#4257FF"],"reply_item_bg":["#f6f7f8","#f6f7f8","#363738","#f6f7f8"],"reply_border":["#f2f2f3","#f2f2f3","#454647","#4257FF"],"reply_shadow":["#4257ff80","#4257ff80","#4257ff80","#4257ff80"],"reply_btn_disabled_tc":["#fff","#fff","#999999","#fff"],"reply_btn":["#5b6b73","#5b6b73","#196AD4","#5b6b73"],"reply_btn_active":["#5b6b73","#5b6b73","#0B55B6","#5b6b73"],"reply_btn_disabled":["rgb(91, 107, 115, .6)","rgb(91, 107, 115, .6)","#595A5C","rgb(91, 107, 115, .6)"],"cancel_btn":{"cr":["#8d9ea7","#8d9ea7","#F2F4F5","#8d9ea7"],"bg":["transparent","transparent","#454647","transparent"],"border":["#5b6b73","#5b6b73","#595A5C","#5b6b73"],"hover":{"cr":["#5b6b73","#5b6b73","#F2F4F5","#5b6b73"],"bg":["transparent","transparent","#151515","transparent"],"border":["#5b6b73","#5b6b73","#151515","#5b6b73"]},"active":{"cr":["#5b6b73","#5b6b73","rgb(242, 244, 245, 0.6)","#5b6b73"]}},"select_border":["#ff7100","#ff7100","#ff7100","#FF3333"],"confirm_btn":{"bg":["#8d9ea7","#8d9ea7","#196AD4","#8d9ea7"],"hover":{"bg":["#5b6b73","#5b6b73","#0D58BA","#5b6b73"]}},"entryMain_bg":["#f7f7fa","#f7f7fa","#363738","#f7f7fa"],"placeholder":["#a9afb8","#a9afb8","#999999","#a9afb8"],"box_shadow":["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)","0 -2px 10px rgba(26, 58, 109, 0.12)"]},"dropdown":{"edit_hover_bg":["transparent","transparent","#196AD4","transparent"]}},"fullAction":{"navigation":{"btn_bg":["#acb2b5","#acb2b5","#252626","#acb2b5"],"btn_bg_hover":["#647077","#647077","#454647","#647077"],"svg":["#fff","#fff","#B8BCBF","#fff"],"svg_active":["#415058","#415058","#F2F4F5","#415058"]},"exitAndMode":{"svg":["#7d8694","#7d8694","#999999","#7d8694"],"svg_hover":["#415058","#415058","#F2F4F5","#415058"],"svg_active":["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"],"ligh_bg":["#f6f7f8","#f6f7f8","#151515","#f6f7f8"],"dark_bg":["#151515","#151515","#f6f7f8","#151515"],"active_border":["#0095FF","#0095FF","#1E98EA","#0095FF"],"full_screen_border":["#0095FF","#0095FF","#1E98EA","#4257FF"]}}},"loadingIcon":{"color_1":["rgb(237, 237, 237)","rgb(237, 237, 237)","#6B6B6B","rgb(237, 237, 237)"],"color_2":["rgb(200, 205, 208)","rgb(200, 205, 208)","#595a5c","rgb(200, 205, 208)"]},"workspace_dropdown_menu":{"shadow":{"shadow_3":["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)"]},"bg":{"bg_4":["#fff","#fff","#454647","#fff"]},"text_5":{"cr":["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},"dark":{"tc":["#fff","#fff","#415058","#fff"],"hover_tc":["#fff","#fff","#1F292E","#fff"],"bg":["rgba(30, 41, 46, 0.9)","rgba(30, 41, 46, 0.9)","rgba(242, 244, 245)","rgba(30, 41, 46, 0.9)"]}},"new_slide_nav":{"text_10":{"cr":["#7d8694","#7d8694","#999999","#7d8694"],"hover":["#1f292e","#1f292e","#D7DDE0","#1f292e"],"active":["#1f292e","#1f292e","#F2F4F5","#1f292e"]},"text_disabled":{"cr":["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},"border":["#1f292e","#1f292e","#D7DDE0","#1f292e"]},"tooltip":{"tips_bg":["#1f292e","#1f292e","#F2F4F5","#1f292e"],"cr":["#fff","#fff","#1F292E","#fff"],"tips_right":["#ff6161","#ff6161","#ff6161","#4257FF"]},"smCirCleIcon":{"fill":["#298DF8","#298DF8","#F2F4F5","#4257FF"],"stroke":["#2378D4","#2378D4","#D7DDE0","#4257FF"],"active_circle_right":[10,10,10,17]},"new_guide":{"coupons":["#298df8","#298df8","#f2f4f5","#fe5b28"],"step_3":{"left":[-48,-48,48,-115]},"arrow_step_3":{"left":[23,23,23,91]},"step_7":{"left":[0,0,0,-25]},"arrow_step_7":{"left":[165,165,165,189]},"arrow_step_10":{"top":[-24,-24,-24,24]},"guide_step4_tips":{"top":[124,124,124,137]},"desc_width":[0,0,0,600]},"color_panel_input_border":["#1e98ea","#1e98ea","#1e98ea","#4257ff"],"color_panel_input_shadow":["#1e98ea","#1e98ea","#1e98ea","#4257ff80"],"library":{"nav":{"active_bg":["#e8eef5","#e8eef5","#e8eef5","rgba(66, 87, 255, 0.06)"],"active_color":["#1684fc","#1684fc","#1684fc","#4257FF"]},"list":{"detail_item_hover_bg":["#ededed","#ededed","#ededed","rgba(66, 87, 255, 0.06)"],"item_active_bg":["#dbdbdb","#dbdbdb","#dbdbdb","rgba(66, 87, 255, 0.06)"],"item_active_color":["unset","unset","unset",""]}},"all_selected_button_bg":["#4997e9","#4997e9","#4997e9","#4257ff"],"action_bg":["inherit","inherit","inherit",""]}'),c=function e(t,n){
var r={}
return Object.entries(t).forEach((function(t){var o=a()(t,2),s=o[0],c=o[1]
Array.isArray(c)?r[s]=c[n]:"object"===i()(c)?r[s]=e(c,n):r[s]=c})),r}
t.a={light:c(s,0),grey:c(s,1),dark:c(s,2),wondershare:c(s,3)}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(10),i=n.n(r).a.div.withConfig({displayName:"styles__StyledEditableSpan",componentId:"h2z28f-0"})(["width:100%;height:24px;line-height:22px;overflow:hidden;border-top:1px solid transparent;border-bottom:1px solid transparent;&.is-editing{width:100%;display:flex;align-items:stretch;border-bottom:1px solid ",";textarea{resize:none;border:none;outline:none;width:100%;height:100%;background:",";color:",";white-space:nowrap;overflow:hidden;&::selection{background:color(#f55d54 a(0.2));}}}"],(function(e){
return e.theme.textarea.editable.border_bottom}),(function(e){return e.theme.textarea.editable.bg}),(function(e){return e.theme.textarea.editable.tc}))},function(e){
e.exports=JSON.parse('{"iphone_5":{"device":"iphone_5","bg":"iphone_se","width":379,"height":798,"top":119,"left":32},"iphone_6":{"device":"iphone_6","bg":"iphone_7","width":435,"height":888,"top":114,"left":30},"iphone_6_plus":{"device":"iphone_6_plus","bg":"iphone_7_plus","width":482,"height":983,"top":127,"left":34},"iphone_x":{"device":"iphone_x","bg":"iphone_x","width":435,"height":864,"top":26,"left":30},"iphone_xs_max":{"device":"iphone_xs_max","bg":"iphone_xs_max","width":477,"height":953,"top":29,"left":32},"iphone_11_pro":{"device":"iphone_x","bg":"iphone_x","width":435,"height":864,"top":26,"left":30},"iphone_11_pro_max":{"device":"iphone_xs_max","bg":"iphone_xs_max","width":477,"height":953,"top":29,"left":32},"iphone_12_pro":{"device":"iphone_12_pro","bg":"iphone_12","width":438,"height":884,"top":20,"left":24},"ipad_3_4":{"device":"ipad","bg":"ipad","width":881,"height":1247,"top":111,"left":56.5},"ipad_pro":{"device":"ipad","bg":"ipad_pro","width":1224,"height":1716,"top":175,"left":100},"apple_watch_38":{"device":"apple_watch","bg":"apple_watch_38","width":224,"height":400,"top":115,"left":38},"apple_watch_40":{"device":"apple_watch","bg":"apple_watch_40","width":230,"height":399,"top":101,"left":29},"apple_watch_42":{"device":"apple_watch","bg":"apple_watch_42","width":244,"height":438,"top":121,"left":38},"apple_watch_44":{"device":"apple_watch","bg":"apple_watch_44","width":251,"height":430,"top":103,"left":28},"google_nexus":{"device":"android","bg":"nexus_5","width":402,"height":798,"top":70,"left":21},"Huawei":{"device":"huawei","bg":"huawei_p9","width":400,"height":800,"top":77,"left":20},"samsung":{"device":"samsung","bg":"samsung_s7","width":398,"height":804,"top":85,"left":19},"google_pixel_2":{"device":"google_pixel_2","bg":"google_pixel_2","width":481,"height":956,"top":112,"left":35},"google_pixel_2_xl":{"device":"google_pixel_2_xl","bg":"google_pixel_2_xl","width":509,"height":955,"top":70,"left":49},"smart_tv":{"device":"web","bg":"sony_w850c","width":2039,"height":1245,"top":21,"left":36},"car_play":{"device":"web","bg":"car_play","width":1810,"height":1396,"top":86,"left":255},"Xiaomi":{"device":"android","bg":"nexus_5","width":402,"height":798,"top":70,"left":21}}')
},,function(e,t,n){"use strict"
var r=n(189)
e.exports=function(e){if("string"==typeof e||r(e))return e
var t=e+""
return"0"==t&&1/e==-1/0?"-0":t}},,function(e,t,n){"use strict"
var r=n(0),i=n(1),o=n.n(i),a=n(5),s=n(15),c=Object(a.memo)((function(e){var t=e.isActive,n=e.isFolder,i=e.isExpand?"design/group_open":"design/group_close"
return Object(r.jsx)(r.Fragment,{children:n?Object(r.jsx)(s.a,{className:"sm-folder-icon",name:i}):t?Object(r.jsx)(s.a,{name:"design/screen_file"}):Object(r.jsx)(s.a,{name:"design/file_o"})})}))
c.propTypes={isExpand:o.a.bool,isActive:o.a.bool,isFolder:o.a.bool},t.a=c},function(e,t,n){"use strict"
n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}))
var r=n(26),i=n.n(r),o=function(e,t){return t.filter((function(t){var n=t.parent
return n===e||!n&&!e}))},a=function(e){var t=null
return e.forEach((function(e){if(null==t)return e.mask?void(t=e.object_id):void 0
if(e.mask){if(e.ignore_underlying_mask)return
return e.maskedID=t,void(t=e.object_id)}e.ignore_underlying_mask?t=null:e.maskedID=t})),e},s=function(e){return e.sort((function(e,t){return t.level-e.level}))},c=function(e){return{id:e.id,name:e.name,object_id:e.object_id,parent:e.parent,type:e.type,mask:e.mask,ignore_underlying_mask:e.ignore_underlying_mask,level:e.level,maskedID:e.maskedID,imageSet:e.image_set}},l=function(e){return u(e)?function t(n,r){
var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[o.bind(null,n),a,s],u=l.reduce((function(e,t){return t(e)}),e)
return u.reduce((function(e,n){return d(n.type)?[].concat(i()(e),[{type:"compound",value:c(n),depth:r,children:t(n.object_id,r+1)}]):[].concat(i()(e),[{type:"basic",value:c(n),depth:r}])}),[])}(null,1):[]},u=function(e){return e&&Array.isArray(e)&&e.every((function(e){return!!e.level}))},d=function(e){return["group","shapeGroup"].includes(e)}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d}))
var r=n(11),i=n.n(r),o=n(14),a=n.n(o),s=n(39),c=function(){var e=a()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.g)("/api/v2/app/".concat(t,"/permission_check.json"),{permission:"P:update"})
case 3:return e.abrupt("return",!0)
case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1)
case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))
return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=a()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.g)("/api/web/v3/project_upper/project_basics/".concat(t.cid),t)
case 3:e.next=8
break
case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0)
case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))
return function(t){return e.apply(this,arguments)}}(),u=function(){var e=a()(i.a.mark((function e(t){var n,r
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)("/api/web/v3/project_basics/project_share/".concat(t))
case 2:return n=e.sent,r=n.projectShare,e.abrupt("return",{projectShare:r})
case 5:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),d=function(){var e=a()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.g)("/api/web/v3/project_shares/".concat(t.cid),{project_share:t})
case 3:e.next=8
break
case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0)
case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))
return function(t){return e.apply(this,arguments)}}(),p=function(){var e=a()(i.a.mark((function e(t){var n,r
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)("/api/web/v3/project_upper/project_basics/dashboard/".concat(t))
case 2:return n=e.sent,r=n.screen_metas,e.abrupt("return",{screenMetaList:r})
case 5:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.a={checkSharingPermission:c,updateSharingProject:l,requestProjectShare:u,updateCurrentProjectShare:d,requestProjectBasicScreenMetaList:p}},function(e,t,n){"use strict"
n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f}))
var r=n(11),i=n.n(r),o=n(14),a=n.n(o),s=n(271),c=n.n(s),l=n(27),u=function(e){return Object(l.d)("".concat(e,"_pwd"))},d=function(e){return Object(l.b)("".concat(e,"_pwd"))},p=function(e,t){return Object(l.e)("".concat(e,"_pwd"),t)},f=function(e){var t=function(){var t=a()(i.a.mark((function t(n,r,o){var a
return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e({projectAccessToken:n,projectVersion:o,projectEncryptedPassword:r,userLocale:window.MBLocale})
case 3:return a=t.sent,p(n,r),t.abrupt("return",a)
case 8:t.prev=8,t.t0=t.catch(0),console.error("[getProjectFullData] failed: ".concat(t.t0)),u(n)
case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))
return function(e,n,r){return t.apply(this,arguments)}}()
return function(){var e=a()(i.a.mark((function e(n){var r,o,a,s,c
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.projectAccessToken,o=n.projectVersion,a=n.projectEncryptedPassword,s=n.isPasswordRequired,a=a||new URLSearchParams(location.search).get("password")||d(r),e.next=4,h(t,s,r,a,o)
case 4:if(e.t0=e.sent,e.t0){e.next=7
break}e.t0=[]
case 7:return c=e.t0,e.abrupt("return",c)
case 9:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()},h=function(){var e=a()(i.a.mark((function e(t,n,r,o,a){var s,l
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r,o,a)
case 2:if((s=e.sent)||n){e.next=5
break}return e.abrupt("return",MB.global.popupHelper.alertAsync({desc:I18N.dPages.no_permission_to_app}))
case 5:l=1/0
case 6:if(s||!l){e.next=18
break}return l--,e.t0=c.a,e.next=11,MB.global.popupHelper.promptGetPasswordAsync()
case 11:return e.t1=e.sent,o=(0,e.t0)(e.t1),e.next=15,t(r,o,a)
case 15:s=e.sent,e.next=6
break
case 18:if(s){e.next=22
break}return console.log("Failed prompt password, again"),setTimeout((function(){return MB.global.popupHelper.alertAsync({desc:n?I18N.dPages.invalid_credential:"Failed to load this app."})}),320),e.abrupt("return")
case 22:return e.abrupt("return",s)
case 23:case"end":return e.stop()}}),e)})))
return function(t,n,r,i,o){return e.apply(this,arguments)}}()},,,,function(e,t,n){"use strict"
n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}))
var r=n(10),i=n.n(r),o=i.a.footer.withConfig({displayName:"styles__StyledSvgIconExport",componentId:"sc-1vxcmdp-0"
})(["position:relative;display:flex;flex-direction:column;align-items:flex-start;height:1px;background:",";border-top:1px solid ",";transition:all 0.2s ease-in-out;overflow:hidden;&.is-open{height:133px;}.export-panel{width:100%;height:130px;display:flex;flex-direction:column;align-items:stretch;.export-header{display:flex;justify-content:space-between;padding:0 14px;margin-top:12px;.label{color:",";font-weight:600;}.icons{color:",";width:unset;margin-left:auto;cursor:pointer;.times-icon{width:10px;height:10px;}&:hover{color:",";}}}.export-settings{display:flex;flex-direction:column;padding:7px 9px 0 9px;.export-state{&.svg-export-label{display:flex;align-items:center;height:28px;margin-bottom:4px;}label{width:212px;height:28px;margin-bottom:4px;}.svg-name-label{display:flex;align-items:center;margin-left:5px;}.panel-icon-size{color:",";display:flex;align-items:center;width:148px;height:20px;background-color:",";border:1px solid ",";padding-right:6px;cursor:pointer;margin-left:auto;.svg-icon{width:16px;height:16px;margin:0 6px;}.panel-icon-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}}.export-second{display:flex;justify-content:space-between;margin-top:4px;& > div{display:flex;flex-direction:column;align-items:center;&.ratio{width:60px;}&.suffix{width:94px;.suffix-select{button{display:flex;justify-content:center;}}}&.format{width:44px;input{color:",";background-color:",";border:none;}}& > label{width:100%;height:28px;}& > span{color:",";line-height:20px;}}}}}"],(function(e){
return e.theme.export_bar.bg}),(function(e){return e.theme.common.divider.divider_1}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.icon_8.cr}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.draggablePanel.Select.bg}),(function(e){return e.theme.draggablePanel.Select.border_color}),(function(e){return e.theme.export_bar.disabled_input_tc}),(function(e){return e.theme.export_bar.disabled_bg
}),(function(e){return e.theme.common.text_22.cr})),a=i.a.div.withConfig({displayName:"styles__StyledExportButton",componentId:"sc-1vxcmdp-1"
})(["width:100%;height:","px;background:",";padding:0 10px;display:flex;justify-content:flex-end;align-items:center;z-index:1;a{width:100%;height:22px;color:",";line-height:22px;text-align:center;background:",";border-radius:2px;border:1px solid ",";transition:all 0.2s ease-in-out;cursor:pointer;&:hover{color:",";background:",";border-color:",";}&:active{box-shadow:",";color:",";background:",";border-color:",";}}"],33,(function(e){return e.theme.export_bar.bg}),(function(e){return e.theme.common.text_3.cr
}),(function(e){return e.theme.export_bar.export_button.bg}),(function(e){return e.theme.export_bar.export_button.border}),(function(e){return e.theme.export_bar.export_button.cr_hover}),(function(e){return e.theme.export_bar.export_button.bg_hover}),(function(e){return e.theme.export_bar.export_button.border_hover}),(function(e){return e.theme.export_bar.export_button.boxShadow_active}),(function(e){return e.theme.export_bar.export_button.cr_active}),(function(e){
return e.theme.export_bar.export_button.bg_active}),(function(e){return e.theme.export_bar.export_button.border_hover}))},,function(e,t,n){"use strict"
t.encode=function(e){var t=""
for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]))
return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=")
t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t,n){"use strict"
e.exports=function(e,t){var n=function(){}
n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,function(e,t,n){"use strict"
var r=n(112),i=n(245)
e.exports=function(e){return r(e)&&1===e.nodeType&&!i(e)}},,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return q}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(8),l=n.n(c),u=n(9),d=n.n(u),p=n(2),f=n.n(p),h=n(1),m=n.n(h),g=n(5),b=n(4),v=n.n(b),y=n(62),x=n(76),w=n(44),j=n(61),S=n(42),_=n(291),C=n(290),O=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.widget,i=e.top,o=e.left,a=e.links,s=e.renderOption,c=s.isPreview,l=s.isSnapshot,u=s.isHTMLZip
if(c&&"pg"===n.name&&!a)return null
var d="table"!==n.name||n.link_cids&&"table"===n.name?Object(S.e)(a):"",p=Object(S.g)(a)
"pg"===n.name&&(n.gesture=Object(S.h)(a))
var f=Object(j.g)(n,{links:a,isPreview:c,isSnapshot:l}),h=Object(j.h)(n,{top:i,left:o},{screen:t,isPreview:c,isSnapshot:l})
return Object(r.jsxs)("div",{"data-cid":n.cid,"data-link_cid":d,className:f,style:h,children:["table"===n.name?Object(r.jsx)(_.a,{widget:n,links:a}):"image_view"===n.name?Object(r.jsx)(C.a,{widget:n,renderOption:s},"".concat(n.cid,"-").concat(n.screenstate_cid)):Object(w.N)(n,{isPreview:c,isSnapshot:l,isHTMLZip:u}),n.v&&"line"!==n.name&&"arrow"!==n.name&&Object(r.jsx)("div",{className:"region gesture ".concat(p)})]})}}]),n}(g.PureComponent)
f()(O,"propTypes",{screen:m.a.object.isRequired,widget:m.a.object,top:m.a.number.isRequired,left:m.a.number.isRequired,links:m.a.array,renderOption:m.a.object}),f()(O,"defaultProps",{renderOption:{isPreview:!1,isSnapshot:!1,isHTMLZip:!1}})
var k=n(21),E=n(16),M=n(3),T=n.n(M),D=n(13),A=n.n(D),N=n(199),P=n(197),I=n(111),L=n(60)
var B=n(205),F=n(46),R={name:"none",delay:0,duration:0,offset:100},z={delay:0,duration:0},U=function(e){l()(n,e)
var t=d()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),f()(T()(r),"handlePanelScreenLoaded",(function(e){var t=r.props,n=t.panel,i=t.panelInfo.screenDataMap
if(MB.runner.timerHandler.resetPanelTimerFlag(n.cid),document.querySelector("#state"+n.cid+e+"p").offsetParent&&i[e]){var o=i[e].screenRuntimeState,a=Object.keys(o.dataMap)[0]
MB.runner.timerHandler.setupPanelTimers(n,e,a)}})),r.state={prevScreenCid:"",currentScreenCid:e.panelInfo.currentScreenMetaCid},r}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.panel,i=e.top,o=e.left,a=e.links,s=e.panelInfo,c=e.renderOption,l=this.state,u=l.prevScreenCid,d=l.currentScreenCid,p=s.panelScreens,f=s.currentScreenStateCid,h=s.transition,m=s.screenGlue,g=s.screenDataMap,b=n.v&&a,v=Object(S.e)(b),y=Object(S.g)(b),w=function(e,t){var n="ppanel panel"
return t&&t.length&&(n+=Object(S.f)(t)),e.v||(n+=" invisible"),n+=" ".concat(L.a[e.overflow_behavior])}(n,b),j=function(e,t,n){var r=t.top,i=t.left,o=n.screen,a=n.screenGlue,s={left:i,width:e.width,height:e.height,zIndex:e.z}
return e.primary_fixed?(s.position="fixed",e.primary_fixed===x.a.FIXED_TYPE.bottom?s.bottom=o.height-(r+e.height):s.top=r):s.top=r,e.v?(s.pointerEvents=e.width<a.width||e.height<a.height?"auto":"",s.opacity=1):(s.pointerEvents="none",s.opacity=0),s.overflow=MB.f.inSnapshot?"hidden":"",s}(n,{top:i,left:o},{screen:t,screenGlue:m}),_={width:m.width,height:m.height},C=h&&h.name?h:R,O=h&&!h.name?h:z
return Object(r.jsxs)("div",{"data-cid":n.cid,"data-link_cid":v,className:w,style:j,children:[Object(r.jsx)("div",{className:"panel-scroll-box",style:_,children:Object(r.jsx)(P.a,{activeCid:d,transition:C,onHomeScreenLoad:this.handlePanelScreenLoaded,onTransitionEnd:this.handlePanelScreenLoaded,children:function(e,t){return p.map((function(i){var o=i===u,a=i===d,s=o?e:a?t:null,l=a?f:Object(I.a)(g[i]),p=g[i]
return Object(r.jsx)("div",{children:p?Object(r.jsx)(H,{panelCid:n.cid,isInvalidState:n.is_invalid_state,screenStateCid:l,transition:O,screenData:g[i],isShow:o||a,isActive:i===d,style:s,renderOption:c}):Object(r.jsx)(G,{panel:n,style:s})},i)}))}})}),Object(r.jsx)("div",{className:"region gesture ".concat(y)})]})}}]),n}(g.PureComponent)
f()(U,"propTypes",{screen:m.a.object,panel:m.a.object,panelInfo:m.a.object,top:m.a.number,left:m.a.number,links:m.a.array,renderOption:m.a.object}),f()(U,"getDerivedStateFromProps",(function(e,t){return e.panelInfo.currentScreenMetaCid!==t.currentScreenCid?{prevScreenCid:t.currentScreenCid,currentScreenCid:e.panelInfo.currentScreenMetaCid}:null}))
var H=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.screenData,n=e.screenStateCid,i=e.transition,o=e.renderOption,a=e.isShow,s=e.panelCid,c=e.isActive,l=e.isInvalidState,u=e.style,d=t.screenMeta,p=t.screenRuntimeState,f=Object(F.b)(d.cid,n,p.itemListMap[n]),h="state".concat(s).concat(d.cid,"p"),m=A()("pstate","state",{active:c,mouseAble:f.length}),g=v()({display:a?"":"none",width:d.width,height:d.height,backgroundColor:d.bgcolor,
backgroundImage:d.bgimage?"url(".concat(d.bgimage,")"):""},u)
return Object(r.jsx)("div",{id:h,className:m,"data-cid":d.cid,style:g,children:l?Object(r.jsx)(B.a,{}):Object(r.jsx)(N.a,{screen:d,stateCid:n,transition:i,screenRuntimeState:p,shouldSkipPanel:!0,children:function(e){return Object(r.jsx)(q,v()({screen:d,widgetTreeData:e},o))}})})}}]),n}(g.PureComponent)
f()(H,"propTypes",{screenStateCid:m.a.string,screenData:m.a.object,transition:m.a.object,isInvalidState:m.a.bool,isShow:m.a.bool,isActive:m.a.bool,screen:m.a.object,panelCid:m.a.string,style:m.a.object,renderOption:m.a.object})
var G=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.panel,n=e.style,i=t.cid,o=t.screen_meta_cid,a=t.width,s=t.height,c="state".concat(i).concat(o,"p"),l=A()("pstate","state"),u=v()({width:a,height:s},n)
return Object(r.jsx)("div",{id:c,className:l,"data-cid":o,style:u,children:Object(r.jsx)(B.a,{})})}}]),n}(g.PureComponent)
f()(G,"propTypes",{style:m.a.object,panel:m.a.object})
var V=Object(k.connect)((function(e,t){var n=Object(E.J)(e).screenInfoMap,r=t.panel
return{panelInfo:n[r.screen_cid].panelInfoMap[r.cid]}}))(U),W=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,i=e.treeData,o=e.widgetTreeDataMap,a=e.offSetX,s=e.offSetY,c=e.renderOption,l=i.cid,u=i.type,d=i.widget,p=i.links,f=i.children,h=Object(y.b)(i),m=h.minX,g=h.minY,b=h.maxX,w=h.maxY,j=g-s,_=m-a
if("group"===u){var C=d.primary_fixed===x.a.FIXED_TYPE.bottom,k=v()({left:_,top:C?"":j,bottom:C?t.height-w:"",width:b-m,height:w-g},function(e){var t,n,r
return"none"!==e.ani_name&&e.v&&(n=e.ani_count,e.ani_delay&&"0"!==e.ani_delay&&(t=e.ani_delay),e.ani_duration&&"0"!==e.ani_duration&&(r=e.ani_duration)),{position:e.primary_fixed?"fixed":"absolute",zIndex:e.z,opacity:e.v?e.o/100:0,transform:e.ro?"rotate(".concat(e.ro,"deg)"):"",animationDelay:t,animationDuration:r,animationIterationCount:n}}(d)),E=function(e,t){var n="group"
return"none"!==e.ani_name&&e.v&&(n+=" animated ".concat(e.ani_name)),t&&t.length&&(n+=Object(S.f)(t)),e.v||(n+=" invisible"),n}(d,p),M=Object(S.e)(p),T=Object(S.g)(p)
return Object(r.jsxs)("div",{"data-cid":l,"data-link_cid":M,className:E,style:k,children:[f.map((function(e){return Object(r.jsx)(n,{screen:t,treeData:e,widgetTreeDataMap:o,offSetX:m,offSetY:g,renderOption:c},e.cid)})),d.v&&Object(r.jsx)("div",{className:"region gesture ".concat(T)})]})}return"panel"===u?Object(r.jsx)(V,v()({panel:d,renderOption:c},{screen:t,top:j,left:_,links:p})):Object(r.jsx)(O,v()({widget:d,renderOption:c},{screen:t,top:j,left:_,links:p}))}}]),n}(g.PureComponent)
f()(W,"propTypes",{screen:m.a.object.isRequired,treeData:m.a.object,offSetX:m.a.number,offSetY:m.a.number,widgetTreeDataMap:m.a.object,renderOption:m.a.object})
var Y=n(28),Z=Object(Y.i)((function(e,t,n){return{isPreview:e,isSnapshot:t,isHTMLZip:n}})),q=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.screen,n=e.widgetTreeData,i=e.widgetTreeDataMap,o=e.isPreview,a=e.isSnapshot,s=e.isHTMLZip,c=Z(o,a,s)
return n.children.map((function(e){return Object(r.jsx)(W,{screen:t,treeData:e,widgetTreeDataMap:i,offSetX:0,offSetY:0,renderOption:c},e.cid)}))}}]),n}(g.PureComponent)
f()(q,"propTypes",{screen:m.a.object.isRequired,widgetTreeData:m.a.object,widgetTreeDataMap:m.a.object,isPreview:m.a.bool,isSnapshot:m.a.bool,isHTMLZip:m.a.bool}),f()(q,"defaultProps",{isPreview:!0,isSnapshot:!1,isHTMLZip:!1})},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.lerp=t.smoothstep=t.clamp=t.euclideanModulo=t.addAbs=t.roundFloat=void 0
t.roundFloat=function(e){return Math.round(1e4*e)/1e4}
t.addAbs=function(e,t){return Math.sign(e)*Math.max(0,Math.abs(e)+t)}
t.euclideanModulo=function(e,t){return(e%t+t)%t}
t.clamp=function(e,t,n){return Math.max(t,Math.min(n,e))}
t.smoothstep=function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}
t.lerp=function(e,t,n){return e+(t-e)*n}},,function(e,t,n){"use strict"
var r=n(72),i=n(266),o=n(420),a=n(336)
e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(223),o=n(112)
e.exports=function(e){return"symbol"==(0,r.default)(e)||o(e)&&"[object Symbol]"==i(e)}},,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(22),i=n.n(r),o=n(7),a=n.n(o),s=n(3),c=n.n(s),l=n(6),u=n.n(l),d=n(8),p=n.n(d),f=n(9),h=n.n(f),m=n(2),g=n.n(m),b=n(1),v=n.n(b),y=n(5),x=n(198),w=function(e){p()(n,e)
var t=h()(n)
function n(e){var r
return a()(this,n),r=t.call(this,e),g()(c()(r),"playAnimation",(function(e){r.setState({percent:0})
var t=Date.now()
requestAnimationFrame((function n(){var i=(Date.now()-t)/e
isNaN(i)&&(i=1/0)
var o=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}(i),a=Math.min(o,1)
r.setState({percent:a}),a<1&&requestAnimationFrame(n)}))})),r.state={currentScreenCid:e.activeCid,percent:1},r}return u()(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.activeCid!==t.currentScreenCid?{currentScreenCid:e.activeCid,percent:0}:null}}]),u()(n,[{key:"componentDidMount",value:function(){this.props.onHomeScreenLoad(this.props.activeCid)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.transition,i=r.delay,o=r.duration
t.currentScreenCid!==this.state.currentScreenCid&&setTimeout((function(){n.playAnimation(o)}),i),t.percent<1&&1===this.state.percent&&this.props.onTransitionEnd(this.props.activeCid)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.transition,r=n.name,o=n.offset,a=this.state.percent,s=Object(x.b)(r,a,o),c=i()(s,2)
return t(c[0],c[1])}}]),n}(y.PureComponent)
g()(w,"propTypes",{children:v.a.func.isRequired,activeCid:v.a.string.isRequired,transition:v.a.object.isRequired,onHomeScreenLoad:v.a.func,onTransitionEnd:v.a.func})},function(e,t,n){"use strict"
n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}))
var r=n(4),i=n.n(r),o=n(22),a=n.n(o),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=u(e,t),o=a()(r,2),s=o[0],c=o[1],l=p(e),d=a()(l,2),f=d[0],h=d[1],m=g(e,t),v=a()(m,2),y=v[0],x=v[1],w=b(e,t,n),j=a()(w,2),S=j[0],_=j[1]
return[i()(i()({display:s},y),{},{zIndex:f,transform:S}),i()(i()({display:c},x),{},{zIndex:h,transform:_})]},c=function(e){switch(e){case"none":return"none"
case"leftmenu":return"leftmenu-reverse"
case"rightmenu":return"rightmenu-reverse"
case"leftdrawer":return"leftdrawer-reverse"
case"rightdrawer":return"rightdrawer-reverse"
case"slideright":return"slideleft"
case"slideleft":return"slideright"
case"slidetop":return"slidebottom"
case"slidebottom":return"slidetop"
case"slideleft2":return"leftout"
case"slideright2":return"rightout"
case"topin":return"topout"
case"popin":return"popout"
case"leftout":return"slideleft2"
case"rightout":return"slideright2"
case"topout":return"topin"
case"popout":return"popin"}},l=["leftmenu","rightmenu","leftdrawer","rightdrawer"],u=function(e,t){return"none"===e?t<1?["","none"]:["none",""]:t<1?["",""]:[l.includes(e)?"":"none",""]},d=["leftout","rightout","topout","popout","slideleft2-reverse","slideright2-reverse","topin-reverse","popin-reverse","leftmenu","rightmenu","leftdrawer-reverse","rightdrawer-reverse"],p=function(e,t,n){return d.includes(e)?[3,2]:[2,3]},f={boxShadow:"0 0 8px #aaa",borderLeft:"1px solid #bbb"},h={boxShadow:"0 0 8px #aaa",
borderRight:"1px solid #bbb"},m={boxShadow:"0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22), 0 0 10px 1000px rgba(0, 0, 0, 0.2)"},g=function(e,t){switch(e){case"leftmenu":return[f,null]
case"leftmenu-reverse":return t<1?[null,f]:[null,null]
case"rightmenu":return[h,null]
case"rightmenu-reverse":return t<1?[null,h]:[null,null]
case"leftdrawer":return[null,m]
case"leftdrawer-reverse":return t<1?[m,null]:[null,null]
case"rightdrawer":return[null,m]
case"rightdrawer-reverse":return t<1?[m,null]:[null,null]
default:return[null,null]}},b=function(e,t,n){var r=t*n
switch(e){case"none":return["none","none"]
case"leftmenu":return["translateX(".concat(0+r,"%)"),"translateX(".concat(-100+r,"%)")]
case"leftmenu-reverse":return["translateX(".concat(-100+n-r,"%)"),"translateX(".concat(0+n-r,"%)")]
case"rightmenu":return["translateX(".concat(0-r,"%)"),"translateX(".concat(100-r,"%)")]
case"rightmenu-reverse":return["translateX(".concat(100-n+r,"%)"),"translateX(".concat(0-n+r,"%)")]
case"leftdrawer":return["none","translateX(".concat(-100+r,"%)")]
case"leftdrawer-reverse":return["translateX(".concat(-100+n-r,"%)"),"none"]
case"rightdrawer":return["none","translateX(".concat(100-r,"%)")]
case"rightdrawer-reverse":return["translateX(".concat(100-n+r,"%)"),"none"]
case"slideright":return["translateX(".concat(r,"%)"),"translateX(".concat(-100+r,"%)")]
case"slideleft":return["translateX(".concat(0-r,"%)"),"translateX(".concat(100-r,"%)")]
case"slidetop":return["translateY(".concat(r,"%)"),"translateY(".concat(-100+r,"%)")]
case"slidebottom":return["translateY(".concat(0-r,"%)"),"translateY(".concat(100-r,"%)")]
case"slideleft2":return["none","translateX(".concat(-100+r,"%)")]
case"slideright2":return["none","translateX(".concat(100-r,"%)")]
case"topin":return["none","translateY(".concat(-100+r,"%)")]
case"popin":return["none","translateY(".concat(100-r,"%)")]
case"leftout":return["translateX(".concat(0-r,"%)"),"none"]
case"rightout":return["translateX(".concat(r,"%)"),"none"]
case"topout":return["translateY(".concat(0-r,"%)"),"none"]
case"popout":return["translateY(".concat(r,"%)"),"none"]
default:return console.error("发现未知动画名称: "+e),["none","none"]}}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return N}))
var r=n(45),i=n.n(r),o=n(0),a=n(7),s=n.n(a),c=n(6),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(10),x=n(4),w=n.n(x),j=n(23),S=n.n(j),_=n(26),C=n.n(_),O=n(47),k=n(25),E=n(60),M=n(149),T=function(e,t,n,r){if(t){if(t.itemListMap[n]){var i=[],o=1/0
return t.itemListMap[n].forEach((function(t){if("link"!==t.name&&"sticky"!==t.name){if("panel"===t.name){if(r)return
if(!Object(E.f)(t,e))return}o=Math.min(o,t.z),i.push(t)}})),o<0&&i.forEach((function(e){return e.z-=o})),i}return[]}return[]},D=function(e,t,n,r,i){var o,a=MB.currentProjectMeta.cid,s=Object(k.i)(e.project_meta_cid),c=T(a,r,t,i),l=T(a,r,n,i),u=new Set(c.map((function(e){return e.cid}))),d=new Set(l.map((function(e){return e.cid}))),p=new Set([].concat(C()(u),C()(d))),f=c.reduce((function(e,t){return e[t.cid]=t,e}),{}),h=l.reduce((function(e,t){return e[t.cid]=t,e}),{}),m={},g=S()(p)
try{for(g.s();!(o=g.n()).done;){var b=o.value,v=u.has(b),y=d.has(b),x=void 0,j=void 0
if(v&&y){var _=f[b],E=h[b]
x=w()(w()({},_),{},{z:E.z,gid:E.gid,timestamp:E.timestamp}),j=w()({},E)}else if(v&&!y){var M=f[b]
x=w()({},M),j=w()(w()({},M),{},{o:0})}else if(!v&&y){var D=h[b]
x=w()(w()({},D),{},{o:0}),j=w()({},D)}m[b]={from:Object(O.i)(x,{screenCid:e.cid,screenStateCid:t},{project:s,projectMetaCid:a,screenMeta:e}),to:Object(O.i)(j,{screenCid:e.cid,screenStateCid:n},{project:s,projectMetaCid:a,screenMeta:e}),stable:y?Object(O.i)(h[b],{screenCid:e.cid,screenStateCid:n},{project:s,projectMetaCid:a,screenMeta:e}):null}}}catch(e){g.e(e)}finally{g.f()}return m}
function A(){var e=i()(['\n  .pcanvas,\n  .pstate {\n    &[data-cid="','"] {\n      .widget,\n      .group,\n      .panel {\n        transition: all ',"ms linear, z-index 0s linear;\n      }\n    }\n  }\n"])
return A=function(){return e},e}var N=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
s()(this,n),r=t.call(this,e)
var i=e.screen,o=e.stateCid,a=e.screenRuntimeState,c=e.shouldSkipPanel
return r.state={itemMap:D(i,o,o,a,c),transitionStep:2,currentStateCid:o},r.timer=null,r}return l()(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.screen,r=e.stateCid,i=e.transition,o=i.delay,a=i.duration,s=e.screenRuntimeState,c=e.shouldSkipPanel
if(r!==t.currentStateCid){var l=!(!o&&!a)
return{itemMap:D(n,t.currentStateCid,r,s,c),transitionStep:l?0:2,currentStateCid:e.stateCid}}return null}}]),l()(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.transition,i=r.delay,o=r.duration,a=r.callback
switch(this.state.transitionStep){case 0:this.timer=setTimeout((function(){n.setState({transitionStep:1})}),i)
break
case 1:this.timer=setTimeout((function(){n.setState({transitionStep:2})}),o)
break
case 2:a&&a()}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e,t=this.props,n=t.screen,r=t.children,i=t.stateCid,a=t.screenRuntimeState,s=t.transition.duration,c=this.state,l=c.itemMap,u=c.transitionStep
switch(u){case 0:e=Object.values(l).map((function(e){return e.from}))
break
case 1:e=Object.values(l).map((function(e){return e.to}))
break
case 2:e=Object.values(l).map((function(e){return e.stable})).filter((function(e){return e}))}var d=function(e,t,n,r){var i=[]
if(MB.runner.runnerUtil.getIsPanelPreviewMode()){var o=MB.runner.runnerUtil.getScreenMetaListSet()
i=r.itemListMap[t].filter((function(e){return"link"===e.name&&MB.runner.runnerUtil.getIsLinkInCurrentScreebGlueInside(e,o)}))}else{i=(r.itemListMap[t]||[]).filter((function(e){return"link"===e.name}))}return Object(M.a)(e,t,n,i)}(n.cid,i,e,a)
return Object(o.jsxs)(v.Fragment,{children:[r(d),u<2&&s&&Object(o.jsx)(P,{screenMetaCid:n.cid,duration:s})]})}}]),n}(v.PureComponent)
m()(N,"propTypes",{screen:b.a.object,stateCid:b.a.string,transition:b.a.object,screenRuntimeState:b.a.object,shouldSkipPanel:b.a.bool,children:b.a.func}),m()(N,"defaultProps",{shouldSkipPanel:!1,transition:{}})
var P=Object(y.createGlobalStyle)(A(),(function(e){return e.screenMetaCid}),(function(e){return e.duration}))},function(e,t,n){"use strict"
n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return ae}))
var r=n(4),i=n.n(r),o=n(21),a=n(16),s=n(0),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(8),f=n.n(p),h=n(9),m=n.n(h),g=n(2),b=n.n(g),v=n(5),y=n(1),x=n.n(y),w=n(212),j=n(3),S=n.n(j),_=n(253),C=n(156),O=n(96),k=n(10),E=n.n(k),M=E.a.div.withConfig({displayName:"styles__StyledAppContainer",componentId:"sc-11jyrti-0"})(["flex:1;overflow:auto;.app-placeholder{position:relative;min-width:100%;min-height:100%;display:flex;justify-content:center;align-items:center;.app-content{background:black;}}"]),T=function(e){f()(n,e)
var t=m()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),b()(S()(e),"setElementRef",(function(t){return e.$elem=t})),b()(S()(e),"handleWheel",(function(t){var n=e.props.scale
if(t.ctrlKey||t.metaKey){t.preventDefault()
var r=Math.max(-1,Math.min(t.deltaY,1)),i=n<=100?n-5*r:n-n*r*.05
e.props.dispatch({type:"entry:preview:set:scale",payload:{scale:i}})}})),e}return d()(n,[{key:"componentDidMount",value:function(){this.$elem.addEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.$elem.removeEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"render",value:function(){
var e=this.props,t=e.scale,n=e.project,r=e.screenGlue,i=e.screen,o=e.isShowShell,a=e.simulatorType,c=t/100,l="landscape"===i.orientation,u="device"===a&&o?Object(O.a)(n):"none",d=Object(O.b)(n,u,l,!0),p={width:d.width*c,height:d.height*c},f={transform:"scale(".concat(c,")"),width:l?r.height:r.width,height:l?r.width:r.height}
"device"!==a&&(f.height=Math.min(f.height,i.height))
var h="project-main"===r.type
return Object(s.jsx)(M,{ref:this.setElementRef,children:Object(s.jsx)("div",{className:"app-placeholder",style:p,children:Object(s.jsxs)("div",{className:"app-content",style:f,children:[Object(s.jsx)(C.a,{isShellShow:h}),h&&Object(s.jsx)(_.a,{isHTMLZip:!1,project:n,shellType:u,isLandscape:l})]})})})}}]),n}(v.PureComponent)
b()(T,"propTypes",{simulatorType:x.a.string,scale:x.a.number,screen:x.a.object,project:x.a.object,screenGlue:x.a.object,isShowShell:x.a.bool,dispatch:x.a.func})
var D=Object(o.connect)((function(e){return{scale:Object(a.f)(e),screen:Object(a.g)(e),project:Object(a.c)(e),screenGlue:Object(a.h)(e),simulatorType:Object(a.M)(e),isShowShell:Object(a.v)(e)}
}))(T),A=n(13),N=n.n(A),P=n(29),I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",L=E.a.div.withConfig({
displayName:"style__StyledSquareLeftPane",componentId:"sc-1h13w6y-0"
})(["width:184px;height:100%;background:#e8e8e8;z-index:100;.pages-wrapper{width:100%;height:100%;padding:10px;overflow:auto;.one-page-wrapper{width:158px;}.one-page{width:158px;height:158px;padding:6px;border-radius:7px;box-sizing:border-box;border:3px solid transparent;cursor:pointer;&:hover{border-color:",";}&.active{border:3px solid ",";}.cover-wrapper{background:url(",");width:100%;height:100%;border-radius:4px;object-fit:cover;overflow:hidden;img.page-cover{width:100%;height:100%;object-fit:contain;}}}.screen-name{font-size:12px;line-height:17px;color:#1f292e;text-align:center;margin:5px 0;}}"],(function(e){
return e.theme.screen_panel.square_border_color_hover}),(function(e){return e.theme.palette.panel_bg_blue}),I),B=function(e){f()(n,e)
var t=m()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),b()(S()(e),"handleClick",(function(t){t.stopPropagation()
var n=t.currentTarget.dataset.cid,r=e.props,i=r.activeCid,o=r.dispatch
i!==n&&(o({type:"entry:sync-runner:set-screen",payload:{cid:n}}),o({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}))})),e}return d()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.screenList,r=t.activeCid
return t.isPanelPreviewMode?null:Object(s.jsx)(L,{children:Object(s.jsx)("div",{className:"pages-wrapper",children:n.map((function(t){return Object(s.jsxs)("div",{className:"one-page-wrapper","data-cid":t.cid,onClick:e.handleClick,children:[Object(s.jsx)("div",{className:N()("one-page",{active:t.cid===r}),children:Object(s.jsx)("div",{className:"cover-wrapper",children:Object(s.jsx)("img",{src:(n={projectMetaCid:t.project_meta_cid,screenMetaCid:t.cid},i=n.projectMetaCid,o=n.screenMetaCid,
"".concat("/snapshot.png","?projectMetaCid=").concat(i,"&screenMetaCid=").concat(o,"&screenStateCid=FIRST_STATE&zoomMode=thumbnail")),className:"page-cover"})})}),Object(s.jsx)("p",{className:"screen-name",children:t.name})]},t.cid)
var n,i,o}))})})}}]),n}(v.PureComponent)
b()(B,"propTypes",{screenList:x.a.array,activeCid:x.a.string,isPanelPreviewMode:x.a.bool,dispatch:x.a.func})
var F=Object(o.connect)((function(e){return{screenList:Object(P.h)(Object(a.H)(e)),activeCid:Object(a.g)(e).cid,isPanelPreviewMode:Object(a.q)(e)}}))(B),R=E.a.div.withConfig({displayName:"style__StyledSquareOptionList",componentId:"qpxm05-0"
})(["position:absolute;right:24px;top:50%;transform:translateY(-50%);width:32px;background:#fff;border-radius:2px;box-shadow:0 2px 10px rgba(39,54,78,0.1),0 12px 40px rgba(39,54,78,0.1);pointer-events:auto;.command-wrapper{height:36px;display:flex;justify-content:center;align-items:center;cursor:pointer;&:hover{background:#e8e8e8;}&.active{background:",";.link path{fill:#fff;}}}.fullscreen{width:16px;height:16px;}.locate{width:18px;height:18px;}.divider{width:20px;height:1px;background:#dbdbdb;margin:4px 6px;}.rotate{width:16px;height:16px;}.link{width:11px;height:16px;}.ZoomButton .zoom-count{position:static;display:flex;flex-direction:column-reverse;width:100%;min-width:initial;margin-top:8px;margin-bottom:5px;& > span{color:#5b6b73;font-size:10px;margin-left:0;line-height:12px;}#zoomin{margin-bottom:8px;padding:5px 11px;&:hover{background:#e8e8e8;}.svg-icon{width:10px;height:10px;color:#415058;}}#zoomout{margin-top:8px;padding:5px 11px;&:hover{background:#e8e8e8;}.svg-icon{width:10px;height:10px;color:#415058;}}}"],(function(e){
return e.theme.palette.panel_bg_blue})),z=n(15),U=n(31),H=E.a.div.withConfig({displayName:"styles__StyledZoomButton",componentId:"sgjje-0"
})([".zoom-count{position:absolute;left:0;min-width:70px;height:100%;display:flex;justify-content:space-between;align-items:center;> span{display:flex;align-items:center;height:100%;font-size:14px;font-weight:600;margin-left:1px;color:",";}> a{display:flex;align-items:center;font-size:12px;color:",";cursor:pointer;&:not([disabled]):hover{svg{fill:",";color:",";}}}}"],(function(e){return e.theme.common.text_28.cr}),(function(e){return e.theme.common.icon_16.cr}),(function(e){
return e.theme.common.icon_16.hover}),(function(e){return e.theme.common.icon_16.hover})),G=function(e){f()(n,e)
var t=m()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),b()(S()(e),"handleZoomIn",(function(){(0,e.props.dispatch)({type:"entry:preview:zoom-in"})})),b()(S()(e),"handleZoomOut",(function(){(0,e.props.dispatch)({type:"entry:preview:zoom-out"})})),e}return d()(n,[{key:"render",value:function(){var e=this.props.scale,t=e<400,n=e>20
return Object(s.jsx)(H,{className:"ZoomButton",children:Object(s.jsxs)("div",{className:N()("zoom-count","preview-zoom-btn"),children:[Object(s.jsx)("a",{id:"zoomout",disabled:!n,title:I18N.DesignZoomBox.zoomout,onClick:this.handleZoomOut,className:"scale-icon",children:Object(s.jsx)(z.a,{name:"design/scale_reduce"})}),Object(s.jsx)(U.a,{content:I18N.DesignZoomBox.zoom,direction:"down",children:Object(s.jsx)("span",{children:"".concat(Math.round(e),"%")})}),Object(s.jsx)("a",{id:"zoomin",disabled:!t,
title:I18N.DesignZoomBox.zoomin,onClick:this.handleZoomIn,className:"scale-icon",children:Object(s.jsx)(z.a,{name:"design/scale_enlarge"})})]})})}}]),n}(v.PureComponent)
b()(G,"propTypes",{scale:x.a.number,dispatch:x.a.func})
var V=function(e){f()(n,e)
var t=m()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),b()(S()(e),"handleClickFullScreen",(function(){e.props.dispatch({type:"entry:enter:full-screen-mode"})})),b()(S()(e),"handleBackToOrigin",(function(){e.props.dispatch({type:"entry:auto-fit:preview:scale"}),e.props.dispatch({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})})),b()(S()(e),"handleToggleHighlight",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!e.props.isHighlight}})})),e}return d()(n,[{
key:"render",value:function(){var e=this.props,t=e.isHighlight,n=e.scale,r=e.dispatch
return Object(s.jsxs)(R,{children:[Object(s.jsx)(U.a,{content:I18N.pSquareOptionsList.full_screen,direction:"left",children:Object(s.jsx)("div",{className:"command-wrapper",onClick:this.handleClickFullScreen,children:Object(s.jsx)(z.a,{name:"square/preview/fullscreen",className:"fullscreen"})})}),Object(s.jsx)(U.a,{content:I18N.pSquareOptionsList.zoom_to_fit,direction:"left",children:Object(s.jsx)("div",{className:"command-wrapper",onClick:this.handleBackToOrigin,children:Object(s.jsx)(z.a,{
name:"square/preview/locate",className:"locate"})})}),Object(s.jsx)(U.a,{content:I18N.pSquareOptionsList.highlighted,direction:"left",children:Object(s.jsx)("div",{className:N()("command-wrapper",{active:t}),onClick:this.handleToggleHighlight,children:Object(s.jsx)(z.a,{name:"square/preview/link",className:"link"})})}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)(G,{scale:n,dispatch:r})]})}}]),n}(v.PureComponent)
b()(V,"propTypes",{isHighlight:x.a.bool,scale:x.a.number,dispatch:x.a.func})
var W=Object(o.connect)((function(e){return{isHighlight:e.container.previewSetting.isHighlight,scale:e.container.common.scale}}))(V),Y=n(216),Z=n(286),q=n(142),X=E.a.div.withConfig({displayName:"styles__StyledApp",componentId:"q07jir-0"})(["width:100%;height:100%;display:flex;background:",";"],(function(e){return e.theme.preview.bg})),J=function(e){f()(n,e)
var t=m()(n)
function n(){return l()(this,n),t.apply(this,arguments)}return d()(n,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.previewOptions,n=e.previewSetting,r=e.dispatch,i=t.isSquare,o=t.isEmbedV2,a=n.isFullScreenMode,c=n.isFullScreenMode,l=i&&!c,u=o,d=!a
return Object(s.jsxs)(X,{onContextMenu:this.preventDefault,children:[c&&Object(s.jsx)(Z.a,{}),l&&Object(s.jsx)(F,{}),u&&Object(s.jsx)(Y.a,{}),Object(s.jsx)(D,{}),d&&Object(s.jsx)(W,{}),Object(s.jsx)(w.a,{dispatch:r}),Object(s.jsx)(q.b,{})]})}}]),n}(v.PureComponent)
b()(J,"propTypes",{previewOptions:x.a.object,previewSetting:x.a.object,dispatch:x.a.func})
var K=Object(o.connect)((function(e){var t=Object(a.E)(e)
return{previewOptions:Object(a.D)(e),previewSetting:t}}))(J),Q=n(287),$=n(285),ee=n(284),te=E.a.div.withConfig({displayName:"styles__StyledApp",componentId:"qdh4v-0"})(["width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}"],(function(e){return e.theme.preview.bg})),ne=function(e){f()(n,e)
var t=m()(n)
function n(){return l()(this,n),t.apply(this,arguments)}return d()(n,[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.dispatch
return Object(s.jsxs)(te,{onContextMenu:this.preventDefault,children:[Object(s.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[Object(s.jsx)(Y.a,{}),Object(s.jsx)(ee.a,{}),Object(s.jsx)($.a,{}),Object(s.jsx)(Q.a,{})]}),Object(s.jsx)(w.a,{dispatch:e}),Object(s.jsx)(q.b,{})]})}}]),n}(v.PureComponent)
b()(ne,"propTypes",{dispatch:x.a.func})
var re=Object(o.connect)()(ne),ie=n(40),oe=function(e){var t=e.isEmbedV1,n=void 0!==t&&t
return i()({isDesktop:!(Object(ie.j)()||n),isInApp:!1,isMobile:Object(ie.j)(),isIOSClient:Object(ie.h)(),isStandAlone:Object(ie.k)(),isEmbedV1:n,isEmbedV2:!1,isHTMLZip:!1,isUIChina:Object(ie.l)(),isForum:Object(ie.f)(),isElectron:Object(ie.c)(),isSquare:!1,isVersionEmbedded:!1,isFeishu:Object(ie.d)(),isWechat:Object(ie.m)()},e)},ae=function(e){var t=e.isMobile,n=e.isEmbedV2,r=e.isSquare,i=e.isVersionEmbedded
if(t)return C.a
if(n||r)return K
if(i)return re
throw new Error("页面加载失败")}},,,,function(e,t,n){"use strict"
var r=n(21),i=n(20),o=n(16),a=n(0),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),f=n(8),h=n.n(f),m=n(9),g=n.n(m),b=n(2),v=n.n(b),y=n(5),x=n(1),w=n.n(x),j=n(243),S=n(289),_=n(10),C=n.n(_).a.div.withConfig({displayName:"styles__StyledZoomButton",componentId:"sc-1l4t4ah-0"})([".zoom-count{position:absolute;left:0;min-width:70px;height:100%;display:flex;justify-content:space-between;align-items:center;}"]),O=n(13),k=n.n(O),E=function(e){h()(n,e)
var t=g()(n)
function n(){var e
return c()(this,n),e=t.call(this),v()(p()(e),"handleZoomIn",(function(){var t=e.props,n=t.dispatch,r=t.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),r&&MB.event("preview","工具栏 :全屏模式缩放"),n({type:"entry:preview:zoom-in"})})),v()(p()(e),"handleZoomOut",(function(){var t=e.props,n=t.dispatch,r=t.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),r&&MB.event("preview","工具栏 :全屏模式缩放"),n({type:"entry:preview:zoom-out"})})),v()(p()(e),"handleZoomSpecifiedScale",(function(t){var n=e.props,r=n.dispatch,i=n.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),i&&MB.event("preview","工具栏 :全屏模式缩放"),r({type:"entry:preview:set:scale",payload:{scale:t}})})),v()(p()(e),"handleZoomInitialScale",(function(t){t.stopPropagation(),t.preventDefault()
var n=e.props,r=n.dispatch,i=n.isFullScreenMode
MB.event("preview","工具栏 :点击缩放"),i&&MB.event("preview","工具栏 :全屏模式缩放"),r({type:"entry:auto-fit:preview:scale"}),r({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})})),e.state={isGuideShow:!1},e}return u()(n,[{key:"componentDidMount",value:function(){var e=this,t=MB.getIsInNewGuide&&MB.getIsInNewGuide()
this.props.isFullScreenMode||t||(this.openGuideTimer=setTimeout((function(){e.setState({isGuideShow:!0})}),600))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.openGuideTimer)}},{key:"render",value:function(){var e=this.props,t=e.scale,n=e.isToolbarTextShow,r=this.state.isGuideShow
return Object(a.jsx)(C,{className:"ZoomButton",children:Object(a.jsx)(j.a,{id:"preview-zoom",localeKey:"zoom",X:"left",isOpen:r,gotItBtn:!0,noCloseBtn:!0,children:Object(a.jsx)("div",{className:k()("zoom-count","preview-zoom-btn"),children:Object(a.jsx)(S.a,{scale:t,showZoomTip:n,isShowZoomSelection:!1,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomInitialScale:this.handleZoomInitialScale,onZoomSpecifiedScale:this.handleZoomSpecifiedScale})})})})}}]),n}(y.PureComponent)
v()(E,"propTypes",{scale:w.a.number,isFullScreenMode:w.a.bool,isToolbarTextShow:w.a.bool,dispatch:w.a.func}),v()(E,"defaultProps",{isFullScreenMode:!1})
var M=Object(i.createSelector)([o.f,o.m,o.y],(function(e,t,n){return{scale:e,isFullScreenMode:t,isToolbarTextShow:n}}))
t.a=Object(r.connect)((function(e){return M(e)}))(E)},function(e,t,n){"use strict"
var r=n(0),i=(n(5),n(10)),o=n.n(i).a.div.withConfig({displayName:"styles__StyledInvalidStatePanel",componentId:"sc-1qukudv-0"})(["width:100%;height:100%;padding:6px 8px;.box{display:flex;flex-direction:column;width:100%;height:100%;align-items:center;justify-content:space-evenly;background:#ededed;border-radius:2px;.tips{color:#e84030;}}"]),a=function(){return Object(r.jsx)("svg",{width:"24",height:"30",viewBox:"0 0 24 30",xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsxs)("g",{fill:"none",
fillRule:"evenodd",children:[Object(r.jsx)("path",{d:"M7.09 30c-.297 0-.595-.04-.893-.16-.795-.317-1.242-1.033-1.044-1.749l2.683-9.942-6.458-1.83c-.596-.158-1.093-.556-1.292-1.073-.198-.517-.05-1.034.398-1.432L14.344.572c.596-.557 1.54-.716 2.335-.438.795.279 1.291.994 1.142 1.71l-2.086 10.34 6.657 1.113c.695.12 1.242.517 1.49 1.034.248.557.1 1.114-.397 1.551L8.58 29.443c-.347.358-.944.557-1.49.557z",fill:"#B7C0C6"}),Object(r.jsx)("path",{fill:"#EDEDED",fillRule:"nonzero",
d:"M7.325 14.353l5.276 3.517 1.412 10.824 2.974-.388L15.4 16.13l-3.724-2.483 3.382-4.349-8.575-7.432-1.964 2.268 6.425 5.568z"})]})})}
t.a=function(){return Object(r.jsx)(o,{children:Object(r.jsxs)("div",{className:"box",children:[Object(r.jsx)("div",{className:"tips",children:I18N.InvalidStatePanel.re_select}),Object(r.jsx)(a,{})]})})}},,,,function(e,t,n){"use strict"
e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e)
return i}},,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.InputActionButton=t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(38)),c=r(n(59)),l=r(n(161)),u=r(n(69)),d=n(89),p=r(n(55)),f=n(35),h=r(n(10))
function m(){
var e=b(["\n  &.InputNumber,\n  &.CoreInputNumber {\n    position: relative;\n    display: inline-block;\n    min-width: 2em;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    &:not(.unstyled).is-active input {\n      background-color: #fff;\n      border-color: #298df8;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    &:not(.unstyled).isnt-valid input {\n      border-color: #ff6161 !important;\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      > * {\n      opacity: 0.5;\n      }\n    }\n\n    &.is-disabled,\n    &.is-readonly {\n      .action {\n        visibility: hidden;\n      }\n    }\n\n    input {\n      padding-right: 1.5em;\n      padding-left: .5em;\n      font-family: inherit;\n    }\n    &.regular input{\n        padding-right: 2em;\n    }\n  }\n\n\n  &:not(.is-disabled):hover input:not([readonly]),\n  input:not([readonly]):focus {\n    & ~ .action {\n      opacity: 1;\n      transition: all 0.2s ease-out;\n    }\n  }\n\n  .action {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 1.5em;\n    height: 100%;\n    text-align: center;\n\n    &:not(.caret) {\n    opacity: 0;\n    }\n\n    svg {\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n    }\n\n    &.caret {\n      button {\n        height: 100%;\n      }\n      svg {\n        transition: transform 0.2s ease-out;\n      }\n\n      /.InputNumber.is-menu-open .caret svg {\n        transform: rotate(180deg);\n      }\n    }\n\n    button {\n      display: block;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 50%;\n      line-height: 0;\n      color: #8d9ea7;\n      transition: all 0.1s ease-out;\n      &:hover {\n        color: #5b6b73;\n      }\n      &:active {\n        color: #298df8;\n      }\n      &[data-action=up] svg {\n        margin: 5px 0 2px;\n      }\n      &[data-action=down] svg {\n        margin: 2px 0 5px;\n      }\n    }\n  }\n\n  &.regular .action {\n    top: 50%;\n    transform: translateY(-50%);\n    width: 2em;\n    height: 28px;\n  }\n  &.with-desc {\n    margin-top: 6px;\n    margin-bottom: 1.5em;\n  }\n\n  .title,\n  .desc,\n  .prefix,\n  .suffix {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    height: 100%;\n    pointer-events: none;\n    user-select: none;\n    border: 1px solid transparent;\n  }\n\n  &.is-empty {\n    .prefix,\n    .suffix {\n      opacity: 0.3;\n    }\n  }\n\n  .title {\n    margin-left: .5em;\n    color: #8d9ea7;\n  }\n\n  .desc {\n    top: 100%;\n    width: 100%;\n    height: 1.5em;\n    line-height: 1.5;\n    justify-content: center;\n    color: #8d9ea7;\n  }\n  .prefix {\n    margin-left: .5em;\n  }\n  .suffix {\n    padding-left: .5em;\n    padding-right: 1.625em;\n    width: 100%;\n\n    &:before {\n    content: attr(data-value);\n    display: inline-block;\n    margin-right: 0.125em;\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n    overflow: hidden;\n    opacity: 0;\n    }\n  }\n"])
return m=function(){return e},e}function g(){
var e=b(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n    padding: .5em;\n    width: 100%;\n    min-height: 5em;\n    max-height: 10em;\n    resize: vertical;\n    &:disabled,\n    &[readonly] {\n      resize: none;\n    }\n    }\n  }\n\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"])
return g=function(){return e},e}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=h.default.label(g()),y=(0,h.default)(v)(m())
function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=T(e)
if(t){var i=T(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return E(this,n)}}function E(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e,t){return Number(Number(e).toFixed(t))},N=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return t?10*r:n?100*r:r},P=function(e){return""===e||/^0?[\+\-]0*$/.test(e)||/^[\+\-]?\d*\.$/.test(e)},I=function(e){var t=e.currentTarget
return setTimeout((function(){return t.select()}),50)},L=function(e){C(n,e)
var t=k(n)
function n(){var e
j(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return D(M(e=t.call.apply(t,[this].concat(i))),"state",{prevProps:e.props,value:(0,f.setNumberValue)(e.props.value),isActive:!1,isValid:!0,isMenuOpen:!1}),D(M(e),"onChange",(function(t){var n=t.target.value
e.setValue(n.trim(),t)})),D(M(e),"correctNumber",(function(t){var n=e.props,r=n.min,i=n.max,o=n.precision
return A(Math.min(Math.max(t,r),i),o)})),D(M(e),"checkValidity",(function(t){return""===t||isFinite(t)&&e.correctNumber(t)===Number(t)})),D(M(e),"setValue",(function(t,n){n.persist(),clearTimeout(e.correctionTimeout)
var r=e.props,i=r.value,o=r.parser,a=r.placeholder,s=r.onChange,c=o(t.toString()).toString(),l="0"!==t&&!c&&!!a,u=e.checkValidity(c),d=""!==t&&isFinite(c),p=P(c)
if(d||p){var f=e.correctNumber(c),h=isNaN(f)?i:f,m=l?"":p||!u?c:h
e.setState({value:m,isValid:u}),u?s(m,n):Object.assign(M(e),{correctionTimeout:setTimeout((function(){return e.state.value===m&&e.setState({value:h,isValid:!0},s(h,n))}),1e3)})}})),D(M(e),"focusOnInput",(function(e){try{var t=e.currentTarget.closest("label").querySelector("input")
setTimeout((function(){return t.focus()}))}catch(e){console.error(e)}})),D(M(e),"onStep",(function(t){t.persist(),t.nativeEvent.stopPropagation()
var n=t.currentTarget.dataset.action,r=N(t,e.props.step)*("up"===n?1:-1)
e.setValue(e.correctNumber(Number(e.state.value)+r),t),e.focusOnInput(t),Object.assign(M(e),{longPressedTimeout:setTimeout((function(){return Object.assign(M(e),{steppingInterval:setInterval((function(){return e.setValue(e.correctNumber(Number(e.state.value)+r),t)}),30)})}),500)})})),D(M(e),"onRelease",(function(){clearTimeout(e.longPressedTimeout),clearInterval(e.steppingInterval)})),D(M(e),"onKeyDown",(function(t){var n="ArrowUp"===t.key?"up":"ArrowDown"===t.key?"down":null
if(n){t.persist(),t.nativeEvent.preventDefault()
var r=N(t,e.props.step)*("up"===n?1:-1)
e.setValue(e.correctNumber(Number(e.state.value)+r),t)}})),D(M(e),"set$label",(function(t){return Object.assign(M(e),{$label:t})})),D(M(e),"setActive",(function(){return e.setState({isActive:!0})})),D(M(e),"setInactive",(function(){return e.setState({isActive:!1})})),D(M(e),"toggleMenu",(function(){return e.setState({isMenuOpen:!e.state.isMenuOpen})})),D(M(e),"closeMenu",(function(){return e.setState({isMenuOpen:!1})})),D(M(e),"onSelect",(function(t){t.persist()
var n=t.currentTarget
e.setValue(n.dataset.value,t),e.closeMenu()})),D(M(e),"onClickOutside",(function(t){var n=t.target
n.closest("label")&&e.$label.contains(n)||e.setInactive()})),D(M(e),"onBlur",(function(t){var n=e.props,r=n.valueForEmptyInput,i=n.onBlur,o=e.state.value
i(t),!o&&(0,l.default)(r)&&e.setValue(r,t)})),e}return _(n,[{key:"componentDidMount",value:function(){var e=this.$label,t=this.props,n=t.value,r=t.title,i=t.prefix,o=t.suffix,a=this.checkValidity(n)
if(this.setState({isValid:a}),r||i||o){var s=e.querySelector("input"),c=e.querySelector(".action"),l=e.querySelector(".title"),u=e.querySelector(".prefix"),d=e.querySelector(".suffix span"),p=parseInt(getComputedStyle(s).getPropertyValue("padding-left"))
if(r||i){var f=(l?l.clientWidth+6:0)+(u?u.clientWidth:0),h={paddingLeft:"".concat(f+p,"px")}
Object.assign(s.style,h),r&&i&&Object.assign(u.style,{left:"".concat(l.clientWidth+6,"px")}),o&&Object.assign(d.parentNode.style,h)}if(o){var m=c.clientWidth+d.clientWidth
Object.assign(s.style,{paddingRight:"".concat(m,"px")})}}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.theme,i=e.unstyled,a=e.readOnly,c=e.placeholder,l=e.prefix,u=e.suffix,p=e.title,h=e.desc,m=e.formatter,g=e.dontSelectOnFocus,b=e.onFocus,v=void 0===b?g?void 0:I:b,x=e.optionList,j=e.menuX,S=this.state,_=S.value,C=S.isActive,O=S.isValid,k=S.isMenuOpen,E=""===_,M=this.props.isDisabled||this.props.disabled,T=(0,
f.trimList)(["core"===r?"CoreInput CoreInputNumber":"Input InputNumber",n,i&&"unstyled",t,C&&!M&&!a&&"is-active",k&&"is-menu-open",M&&"is-disabled",a&&"is-readonly",O?"is-valid":"isnt-valid",E?"is-empty":"isnt-empty",!!p&&"with-title",!!h&&"with-desc",!!l&&"with-prefix",!!u&&"with-suffix"]),D=x&&x.length>0
return o.default.createElement(y,{className:T,ref:this.set$label,onMouseDown:this.setActive},p&&o.default.createElement("span",{className:"title"},p),h&&o.default.createElement("span",{className:"desc"},h),l&&o.default.createElement("span",{className:"prefix"},l),o.default.createElement("input",w({type:"text",value:m(_),placeholder:c,disabled:M,readOnly:a,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:v,onBlur:this.onBlur},(0,
f.getOtherProps)(this.constructor,this.props))),u&&o.default.createElement("span",{className:"suffix","data-value":m(_),"data-suffix":u},o.default.createElement("span",null,u)),o.default.createElement(B,{hasMenu:D,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),D&&o.default.createElement(d.SelectMenu,{isOpen:k,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:x,value:_,menuX:j,onChange:this.onSelect,onClose:this.closeMenu}),(C||k)&&o.default.createElement(s.default,{
target:document,onClick:this.onClickOutside}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.value
if(!(0,c.default)(n,e)){var r=e.value
return{prevProps:e,value:(0,f.setNumberValue)(r)}}return null}}]),n}(o.PureComponent)
D(L,"propTypes",{size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),unstyled:a.default.bool,step:a.default.number,precision:a.default.number,formatter:a.default.func,parser:a.default.func,value:a.default.oneOfType([a.default.string,a.default.number]),valueForEmptyInput:a.default.oneOfType([a.default.string,a.default.number]),placeholder:a.default.oneOfType([a.default.string,a.default.number]),
optionList:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number])),menuX:a.default.oneOf(["left","center"]),dontSelectOnFocus:a.default.bool,title:a.default.node,desc:a.default.node,prefix:a.default.node,suffix:a.default.node,min:a.default.number,max:a.default.number,isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,onChange:a.default.func.isRequired,onFocus:a.default.func,onBlur:a.default.func,className:a.default.string}),D(L,"defaultProps",{size:"regular",
theme:"plain",unstyled:!1,value:"",valueForEmptyInput:null,placeholder:"",step:1,precision:1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null},onBlur:function(){return null}})
var B=function(e){C(n,e)
var t=k(n)
function n(){return j(this,n),t.apply(this,arguments)}return _(n,[{key:"render",value:function(){var e=this.props,t=e.hasMenu,n=e.onToggleMenu,r=e.onStep,i=e.onRelease
return o.default.createElement(o.default.Fragment,null,t?o.default.createElement("div",{className:"action caret"},o.default.createElement(u.default,{type:"text",tabIndex:"-1",onClick:n},o.default.createElement(p.default,{name:"triangle_down"}))):o.default.createElement("div",{className:"action"},o.default.createElement(u.default,{type:"text",tabIndex:"-1","data-action":"up",onMouseDown:r,onMouseLeave:i,onMouseUp:i},o.default.createElement(p.default,{name:"triangle_up"})),o.default.createElement(u.default,{
type:"text",tabIndex:"-1","data-action":"down",onMouseDown:r,onMouseLeave:i,onMouseUp:i},o.default.createElement(p.default,{name:"triangle_down"}))))}}]),n}(o.PureComponent)
t.InputActionButton=B,D(B,"propTypes",{hasMenu:a.default.bool,onStep:a.default.func,onToggleMenu:a.default.func,onRelease:a.default.func})
var F=L
t.default=F},function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(7),i=n.n(r),o=n(6),a=n.n(o),s=n(3),c=n.n(s),l=n(8),u=n.n(l),d=n(9),p=n.n(d),f=n(2),h=n.n(f),m=n(1),g=n.n(m),b=n(5),v=n(120),y=window.key,x="preview",w=function(e){u()(n,e)
var t=p()(n)
function n(){var e
i()(this,n)
for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a]
return e=t.call.apply(t,[this].concat(o)),h()(c()(e),"handleFullScreenChange",(function(){v.a.isFullscreen||e.props.dispatch({type:"entry:exit:fill-screen-mode"})})),e}return a()(n,[{key:"componentDidMount",value:function(){var e=this.props.dispatch
y.setScope(x),y("command+enter, ctrl+enter",x,(function(){e({type:"entry:enter:full-screen-mode"})})),y("command+p, ctrl+p",x,(function(){return!1})),y("esc",x,(function(){return e({type:"entry:preview:escape:key"}),!1})),y("command+=, ctrl+=,  command+numpad_add, ctrl+numpad_add",x,(function(){return e({type:"entry:preview:zoom-in"}),!1})),y("command+-, ctrl+-, command+numpad_subtract, ctrl+numpad_subtract",x,(function(){return e({type:"entry:preview:zoom-out"}),!1})),
y("command+0, ctrl+0, command+numpad_0, ctrl+numpad_0",x,(function(){return e({type:"entry:preview:set:scale",payload:{scale:100}}),!1})),y("command+1, ctrl+1, command+numpad_1, ctrl+numpad_1",x,(function(){return e({type:"entry:auto-fit:preview:scale"}),e({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}),!1})),y("[",x,(function(){return e({type:"entry:preview-setting:toggle:isMinimized"}),!1})),v.a.on("change",this.handleFullScreenChange)}},{key:"componentWillUnmount",value:function(){
y.deleteScope(x),y.setScope("design"),v.a.off("change",this.handleFullScreenChange)}},{key:"render",value:function(){return null}}]),n}(b.PureComponent)
h()(w,"propTypes",{dispatch:g.a.func})},function(e,t,n){"use strict"
var r=n(100),i=n(701),o=n(317),a=Math.max,s=Math.min
e.exports=function(e,t,n){var c,l,u,d,p,f,h=0,m=!1,g=!1,b=!0
if("function"!=typeof e)throw new TypeError("Expected a function")
function v(t){var n=c,r=l
return c=l=void 0,h=t,d=e.apply(r,n)}function y(e){return h=e,p=setTimeout(w,t),m?v(e):d}function x(e){var n=e-f
return void 0===f||n>=t||n<0||g&&e-h>=u}function w(){var e=i()
if(x(e))return j(e)
p=setTimeout(w,function(e){var n=t-(e-f)
return g?s(n,u-(e-h)):n}(e))}function j(e){return p=void 0,b&&c?v(e):(c=l=void 0,d)}function S(){var e=i(),n=x(e)
if(c=arguments,l=this,f=e,n){if(void 0===p)return y(f)
if(g)return clearTimeout(p),p=setTimeout(w,t),v(f)}return void 0===p&&(p=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),S.cancel=function(){void 0!==p&&clearTimeout(p),h=0,c=f=l=p=void 0},S.flush=function(){return void 0===p?d:j(i())},S}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return mn})),n.d(t,"b",(function(){return gn}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(8),l=n.n(c),u=n(9),d=n.n(u),p=n(2),f=n.n(p),h=n(1),m=n.n(h),g=n(5),b=n(21),v=function(){return(new Date).getTime()},y=["mouseIn","mouseOut"],x=function(e){return e.some((function(e){return y.includes(e)}))},w=function(){function e(){o()(this,e),this.coolDownTime=v(),this.coolDownInterval=200}return s()(e,[{key:"isCoolDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
if(x(e))return!0
var t=v()-this.coolDownTime
return this.coolDownTime+=t,t>this.coolDownInterval}},{key:"resetCoolDown",value:function(){this.coolDownTime-=this.coolDownInterval}}]),e}(),j=n(22),S=n.n(j),_=n(4),C=n.n(_),O=n(16),k=n(46),E=n(47),M=n(42),T=n(192),D=n(30),A=[D.a,D.h,D.e,D.c],N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D.a
if(!A.includes(t))return t
var r=MB.currentProjectMeta.cid,i=Object(k.g)(r,e),o=0,a=i.length-1
if(t===D.a)return i[o].cid
if(t===D.h){var s=n===D.a?0:i.findIndex((function(e){return e.cid===n}))
return i[0===s?a:s-1].cid}if(t===D.e){var c=n===D.a?0:i.findIndex((function(e){return e.cid===n}))
return i[c===a?o:c+1].cid}return t===D.c?i[a].cid:void 0},P=n(40),I={useTransform:!1,disableTouch:!1,disablePointer:!0,preventDefault:!0,probeType:3,ignoreEventException:function(e){if(e.metaKey||e.ctrlKey)return!0
if(4===e.buttons)return!0
var t=$(e.target).closest(".widget")
if(t.length){if(t.hasClass("webpage"))return!0
if(t.hasClass("map_view"))return!0
if(t.find("input").length)return!0}var n=$(e.target).closest(".ppanel")
return!(!n.length||!(n[0].offsetWidth<n[0].scrollWidth||n[0].offsetHeight<n[0].scrollHeight))||!(!e.touches||2!==e.touches.length)}},L=C()(C()({},I),{},{scrollbars:!0,mouseWheel:!0,disableMouse:!1,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,HWCompositing:!1}),B=function(){function e(t){var n=this
o()(this,e),f()(this,"getRunnerScreenDataMap",(function(){return Object(O.L)(n.webpackInterface.store.getState())})),this.iScrollMap={},this.linkQueryMap=null,this.webpackInterface=t}return s()(e,[{key:"clear",value:function(){this.destroyScrollBar(),this.linkQueryMap=null}},{key:"deviceOrient",value:function(){return window.innerWidth>window.innerHeight?"landscape":"portrait"}},{key:"toggleScrollBar",value:function(e){Object.values(this.iScrollMap).forEach((function(t){e?t.enable():t.disable()}))}},{
key:"renderScrollbar",value:function(e){this.iScrollMap[e]?this._refreshScrollBar(e):this._initScrollBar(e)}},{key:"_initScrollBar",value:function(e){var t=this
if(!this.iScrollMap[e]){var n=document.querySelector("#pscreen".concat(e," .screen-content"))
if(n&&n.offsetParent){var r=Object(P.j)()?I:L,i=this.getScreenScrollTop(e)
r.startY=i||0
var o=new window.IScroll(n,r)
Object(P.j)()||$(n).on("wheel",(function(e){e.metaKey||e.ctrlKey||n.offsetHeight!==n.scrollHeight&&e.stopPropagation()})),o.on("scroll",(function(){t.webpackInterface.store.dispatch({type:"runner:update:scroll-top",payload:{screenMetaCid:e,scrollTop:o.y}})})),this.iScrollMap[e]=o}}}},{key:"_refreshScrollBar",value:function(e){this.iScrollMap[e]&&this.iScrollMap[e].refresh()}},{key:"resetScreenScrollState",value:function(e){this.webpackInterface.store.dispatch({type:"runner:update:scroll-top",payload:{
screenMetaCid:e,scrollTop:0}})}},{key:"destroyScrollBar",value:function(){Object.values(this.iScrollMap).forEach((function(e){$(e.wrapper).off("wheel"),e.destroy()})),this.iScrollMap={}}},{key:"destroyScrollBarByCid",value:function(e){var t=this.iScrollMap[e]
t&&($(t.wrapper).off("wheel"),t.destroy(),delete this.iScrollMap[e])}},{key:"resetCurrentScreenScrollState",value:function(e){var t=this.iScrollMap[e]
t&&t.scrollTo(0,0)}},{key:"resetScrollState",value:function(){Object.values(this.iScrollMap).forEach((function(e){return e.scrollTo(0,0)})),this.webpackInterface.store.dispatch({type:"runner:update:state",payload:{screenScrollTopMap:{}}})}},{key:"setupStatusBar",value:function(e){if(this.deviceOrient()===e.orientation){var t="android"===MB.currentProject.device?23:20
$("#app").css({top:0-t,height:window.innerHeight+t})}}},{key:"getIsImmersive",value:function(){return Object(O.o)(this.webpackInterface.store.getState())}},{key:"getIsHighlight",value:function(){return Object(O.n)(this.webpackInterface.store.getState())}},{key:"getIsScreenExpanded",value:function(){return Object(O.s)(this.webpackInterface.store.getState())}},{key:"getCurrentScreen",value:function(){var e=Object(O.I)(this.webpackInterface.store.getState())
return this.getRunnerScreenDataMap()[e]}},{key:"getCheckCurrentLinkCannotJump",value:function(e){var t=this.webpackInterface.store.getState(),n=Object(O.J)(t),r=n.activeCid,i=n.screenInfoMap[r].stateCid,o=e.target_cid,a=e.targetstate_cid,s=N(r,a,i)
return o===r&&i===s}},{key:"findLink",value:function(e,t){var n=this,r=this.getRunnerStateByScreenCid(t),i=r.stateCid,o=r.screenRuntimeState.itemListMap[i],a=Object(M.d)(e)
return o.filter((function(e){return"link"===e.name&&a.includes(e.cid)})).map((function(e){var r=Object(E.i)(e,{screenCid:t,screenStateCid:i})
if(n.checkCurrentLinkIsValid(r,t,i))return r}))}},{key:"findLinkInPanel",value:function(e,t,n){var r=this,i=this.getRunnerStateByScreenCid(n).panelInfoMap[t],o=i.currentScreenMetaCid,a=i.currentScreenStateCid,s=i.screenDataMap[o].screenRuntimeState.itemListMap[a],c=Object(M.d)(e)
return s.filter((function(e){return"link"===e.name&&c.includes(e.cid)})).map((function(e){var t=Object(E.i)(e,{screenCid:o,screenStateCid:a})
if(r.checkCurrentLinkIsValid(t,o,a))return t}))}},{key:"checkCurrentLinkIsValid",value:function(e,t,n){var r=this.webpackInterface.store.getState(),i=Object(O.d)(r)
return Object(T.a)(i.cid,t,n)(e)}},{key:"getLinkQueryMap",value:function(){if(!this.linkQueryMap){var e=ProjectExchange.getProjectStore(MB.currentProjectMeta.cid).screenRuntimeStateStore.generateLocalDump(),t={}
e.forEach((function(e){var n=e.screenMetaCid,r=e.itemListMap
Object.entries(r).forEach((function(e){var r=S()(e,2),i=r[0]
r[1].forEach((function(e){"link"===e.name&&(t[e.cid]=C()(C()({},e),{},{screen_cid:n,screenstate_cid:i}))}))}))})),this.linkQueryMap=t}return this.linkQueryMap}},{key:"getRunnerStateByScreenCid",value:function(e){var t=this.webpackInterface.store.getState()
return Object(O.J)(t).screenInfoMap[e]}},{key:"getPanelFormRunState",value:function(e){var t=this.webpackInterface.store.getState(),n=Object(O.J)(t),r=n.activeCid,i=n.screenInfoMap[r],o=i.screenRuntimeState,a=i.stateCid
return{panel:o.itemListMap[a].find((function(t){return t.cid===e})),screenCid:r,screenStateCid:a}}},{key:"getScreenMetaListSet",value:function(){var e=this.webpackInterface.store.getState(),t=Object(O.h)(e),n=Object(O.d)(e),r=ProjectExchange.getProjectStore(n.cid).getLocalScreenMetaListByScreenGlueCid(t.cid)
return new Set(r.map((function(e){return e.cid})))}},{key:"getScreenScrollTop",value:function(e){var t=this.webpackInterface.store.getState()
return Object(O.J)(t).screenScrollTopMap[e]}},{key:"getIsLinkInCurrentScreebGlueInside",value:function(e,t){return D.d.TYPE.screen_link!==e.link_type||t.has(e.target_cid)}},{key:"getIsScreenLinkJumpToMainGlue",value:function(e,t){return D.d.TYPE.screen_link===e.link_type&&t.has(e.target_cid)}},{key:"getIsPanelPreviewMode",value:function(){return Object(O.q)(this.webpackInterface.store.getState())}},{key:"getScreenStateValidLinkListForPreview",value:function(e,t){
var n=this.webpackInterface.store.getState(),r=Object(O.d)(n)
return Object(k.j)(r.cid,e,t)}},{key:"getPreviewOptions",value:function(){return Object(O.D)(this.webpackInterface.store.getState())}}]),e}(),F=n(23),R=n.n(F),z=n(134),U=n.n(z),H=window,G=H.$,V=H.Shake,W=function(){function e(){o()(this,e),this.hightTimer=null}return s()(e,[{key:"init",value:function(e){var t=this,n=new U.a(e,{touchAction:"auto",inputClass:Object(P.j)()?U.a.TouchInput:null})
n.get("swipe").set({direction:U.a.DIRECTION_ALL,velocity:.05,threshold:50}),n.on("swipeleft",(function(e){t.prepareJump(e,["left"])})),n.on("swiperight",(function(e){t.prepareJump(e,["right"])})),n.on("swipeup",(function(e){t.prepareJump(e,["up"])})),n.on("swipedown",(function(e){t.prepareJump(e,["down"])})),n.on("press",(function(e){t.prepareJump(e,["hold","longpress"])})),n.on("tap",(function(e){1===e.tapCount&&t.prepareJump(e,["tap","click"]),2===e.tapCount&&(MB.runner.eventBucket.resetCoolDown(),
t.prepareJump(e,["dtap","dbclick"]))})),new V({threshold:15}).start(),window.addEventListener("shake",(function(e){t.prepareJump(e,["shake"])}),!1),e.addEventListener("mousedown",(function(e){2===e.button&&t.prepareJump(e,["rightClick"])})),G(e).on("mouseenter",".mouseAble",(function(e){t.prepareJump(e,["mouseIn"])})),G(e).on("mouseleave",".mouseAble",(function(e){t.prepareJump(e,["mouseOut"])})),this.hammertime=n}},{key:"prepareJump",value:function(e,t){
var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=MB.runner,i=r.eventBucket,o=r.runnerUtil,a=r.timerHandler,s=r.currentMenu,c=o.getIsImmersive()
if(!c){var l=a.getIsPageTimerFired()
if(i.isCoolDown(t)&&!l){var u=G(e.target).closest(".clickable"),d=G(e.target).closest(".ppanel"),p=(t.includes("shake")?G(s?"#pscreen".concat(s):".pcanvas.active"):G(e.target).closest(".pcanvas")).data("cid")
if(p){var f=o.getRunnerStateByScreenCid(p),h=f.stateCid
if(s&&p!==s&&!x(t))return MB.runner.closeMenu()
if(d.length){if(this.panelEventHandler(e,t,{screenCid:p,stateCid:h}))return}else if(u.length){var m=u.attr("data-link_cid"),g=o.findLink(m,p),b=Object(M.k)(g).find((function(e){return e&&t.includes(e.gesture)}))
if(b)return MB.runner.j(b)}var v=Object(k.e)(MB.currentProjectMeta.cid,p,h),y=v.find((function(e){return t.includes(e.gesture)}))
if(y){var w=MB.runner.runnerUtil.getScreenMetaListSet()
return MB.runner.runnerUtil.getIsPanelPreviewMode()&&!MB.runner.runnerUtil.getIsLinkInCurrentScreebGlueInside(y,w)?void 0:void MB.runner.j(y)}if(t.includes("hold")&&MB.messageBucket&&!window.parent.webkit)MB.messageBucket.send("settings")
else if(n&&MB.runner.runnerUtil.getIsHighlight()&&!x(t)){var j=MB.runner.runnerUtil.getScreenStateValidLinkListForPreview(p,h)
this.highlightClickables(j)}}}}}},{key:"panelEventHandler",value:function(e,t,n){var r=n.screenCid,i=n.stateCid,o=G(e.target).closest(".clickable"),a=G(e.target).closest(".ppanel"),s=a.data("cid"),c=MB.currentProjectMeta,l=Object(k.k)(c.cid,r,i).find((function(e){return e.cid===s}))
if(o.length){var u,d=o.attr("data-link_cid"),p=MB.runner.runnerUtil.findLink(d,r),f=MB.runner.runnerUtil.findLinkInPanel(d,s,r)
if(!(u=p&&p.length?p:f)||0===u.length)return!1
var h=Object(M.k)(u).find((function(e){return e&&t.includes(e.gesture)}))
if(!h)return!1
if(h.target_cid===D.g)return MB.runner.j(h),!0
if(t.includes(h.gesture)){if(a[0]===o[0])MB.runner.j(h)
else{var m=MB.runner.runnerUtil.getRunnerScreenDataMap()[h.target_cid]
if(m&&h.link_type===D.d.TYPE.screen_link&&m.screen_glue_cid!==l.screen_glue_cid)MB.runner.j(h)
else{if(MB.runner.timerHandler.getIsPanelTimerFired(l.cid))return!1
h.link_type===D.d.TYPE.state_link?MB.runner.panelStateTransition(l,h):MB.runner.panelScreenTransition(l,h)}}return!0}}if(MB.runner.timerHandler.getIsPanelTimerFired(l.cid))return!1
var g=MB.runner.runnerUtil.getRunnerStateByScreenCid(r).panelInfoMap[l.cid],b=g.currentScreenMetaCid,v=g.currentScreenStateCid,y=Object(k.e)(MB.currentProjectMeta.cid,b,v).find((function(e){return t.includes(e.gesture)}))
if(y){var x=MB.runner.runnerUtil.getScreenMetaListSet()
return MB.runner.runnerUtil.getIsScreenLinkJumpToMainGlue(y,x)?MB.runner.j(y):y.targetstate_cid?MB.runner.panelStateTransition(l,y):MB.runner.panelScreenTransition(l,y),!0}return!1}},{key:"highlightClickables",value:function(e){var t,n=R()(e)
try{for(n.s();!(t=n.n()).done;){var r=t.value
G('.pcanvas.active [data-link_cid*="'.concat(r.cid,'"] .region')).show()}}catch(e){n.e(e)}finally{n.f()}G(".pcanvas.active .pg").css({display:"flex",opacity:.8})
var i=G(".pcanvas.active .region")
this.hightTimer=setTimeout((function(){i.hide(),G(".pcanvas.active .pg").css("opacity","0").hide()}),400)}},{key:"setupPageGesture",value:function(e){var t=MB.runner.runnerUtil.getRunnerStateByScreenCid(e.cid),n=t.stateCid,r=t.screenRuntimeState.itemListMap[n].filter((function(e){return"link"===e.name})),i=[]
r.forEach((function(e){"left"!==e.gesture&&"right"!==e.gesture||-1===i.indexOf("pan-y")&&i.push("pan-y"),"up"!==e.gesture&&"down"!==e.gesture||-1===i.indexOf("pan-x")&&i.push("pan-x")}))
var o=i.length?i.join(" "):"auto"
this.hammertime.touchAction.actions=o,G(".pcanvas.active .widgets").css("touch-action",o)}}]),e}(),Y=function(){function e(){o()(this,e),this.timeoutMap=new Map}return s()(e,[{key:"setTimeout",value:function(e){function t(t,n,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t,n){var r=this,i=setTimeout((function(){t(),r.clearTimeout(e,t)}),n)
return this.setToken(e,t,i),i}))},{key:"clearTimeout",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this.getToken(e,t)
void 0!==n&&(clearTimeout(n),this.clearToken(e,t))}))},{key:"clearTimeoutByKey",value:function(e){var t=this,n=this.timeoutMap.get(e)
void 0!==n&&(n.forEach((function(n,r){return t.clearTimeout(e,r)})),this.timeoutMap.delete(e))}},{key:"clear",value:function(){var e=this
this.timeoutMap.forEach((function(t,n){return e.clearTimeoutByKey(n)}))}},{key:"setToken",value:function(e,t,n){var r=this.timeoutMap.get(e)
void 0===r&&(r=new Map,this.timeoutMap.set(e,r)),r.set(t,n)}},{key:"getToken",value:function(e,t){var n=this.timeoutMap.get(e)
if(n)return n.get(t)}},{key:"clearToken",value:function(e,t){var n=this.timeoutMap.get(e)
n&&n.delete(t)}}]),e}(),Z=function(){function e(){o()(this,e),this.timerFired=!1,this.panelTimerMap={},this.timeoutBucket=new Y}return s()(e,[{key:"resetPageTimerFlag",value:function(){this.timerFired=!1}},{key:"getIsPageTimerFired",value:function(){return this.timerFired}},{key:"getIsPanelTimerFired",value:function(e){return this.panelTimerMap[e]}},{key:"resetPanelTimerFlag",value:function(e){this.panelTimerMap[e]=!1}},{key:"clear",value:function(){this.timerFired=!1,this.panelTimerMap={},
this.timeoutBucket.clear()}},{key:"setupPageTimers",value:function(e,t){var n=this
if(!MB.runner.runnerUtil.getIsImmersive()){this.timeoutBucket.clear()
var r=MB.currentProjectMeta.cid,i=Object(k.i)(r,e.cid,t)
if(MB.runner.runnerUtil.getIsPanelPreviewMode()){var o=MB.runner.runnerUtil.getScreenMetaListSet()
i.forEach((function(e){MB.runner.runnerUtil.getIsLinkInCurrentScreebGlueInside(e,o)&&n._pageTimer(e)}))}else i.forEach((function(e){return n._pageTimer(e)}))
Object(k.h)(r,e.cid,t).forEach((function(e){var t=e.glueScreenCid,r=e.glueScreenStateCid
n.setupPanelTimers(e,t,r)}))}}},{key:"setupPanelTimers",value:function(e,t,n){var r=this
this.timeoutBucket.clearTimeoutByKey(e.cid),this.panelTimerMap[e.cid]=!1
var i=MB.runner.runnerUtil.getScreenMetaListSet()
e.multi_states?Object(k.i)(MB.currentProjectMeta.cid,t,n).forEach((function(t){D.d.TYPE.screen_link===t.link_type&&i.has(t.target_cid)?r._pageTimer(t):r._panelTimer(t,e)})):Object(k.i)(MB.currentProjectMeta.cid,t,n).forEach((function(t){D.d.TYPE.screen_link===t.link_type&&i.has(t.target_cid)?r._pageTimer(t):r._panelTimer(t,e)}))}},{key:"_pageTimer",value:function(e){var t=this
this.timeoutBucket.setTimeout(e.cid,(function(){t.timerFired||MB.runner.runnerUtil.getCheckCurrentLinkCannotJump(e)||(t.timerFired=!0,MB.runner.runnerUtil.getIsImmersive()||MB.runner.j(e))}),1e3*parseFloat(e.timer))}},{key:"_panelTimer",value:function(e,t){var n=this
this.timeoutBucket.setTimeout(t.cid,(function(){n.timerFired||n.panelTimerMap[t.cid]||(n.panelTimerMap[t.cid]=!0,MB.runner.runnerUtil.getIsImmersive()||(e.targetstate_cid?MB.runner.panelStateTransition(t,e):MB.runner.panelScreenTransition(t,e)))}),1e3*parseFloat(e.timer))}}]),e}(),q=n(80),X=n(57),J=function(){function e(t){o()(this,e),this.eventBucket=new w,this.runnerUtil=new B(t),this.eventHandler=new W,this.timerHandler=new Z,this.clearCallbackBucket={},this.currentScreen=this.currentMenu=null,
this.requestScreenCidSet=new Set,this.webpackInterface=t,this.runnerUtil.getPreviewOptions().isMobile&&this._bindMobileGlobalEvent()}return s()(e,[{key:"_bindMobileGlobalEvent",value:function(){var e=this
window.addEventListener("message",(function(t){try{if("back"===JSON.parse(t.data).event)1===e.webpackInterface.store.getState().container.runner.history.length&&MB.messageBucket?MB.messageBucket.send("exit"):e.webpackInterface.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{transition:{name:"none",delay:0,duration:0}}})}catch(e){}}),!1),window.onorientationchange&&window.addEventListener("orientationchange",(function(){e.reload()})),window.addEventListener("resize",(function(){
"INPUT"!==document.activeElement.tagName&&e.reload()}))}},{key:"init",value:function(e,t){var n=this,r=e.projectAlike,i=e.projectMeta,o=e.screenGlue,a=e.screenMeta,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
MB.currentProject=r,MB.currentProjectMeta=i,MB.currentScreenGlue=o,MB.currentScreen=a,MB.getCurrentProjectMeta||(MB.getCurrentProjectMeta=function(){return MB.currentProjectMeta}),this.webpackInterface.store.dispatch({type:"entry:init:preview:related:data",payload:{previewMode:t,rootProject:r,projectMeta:i,screenGlue:o,screenMeta:a,isPanelPreviewMode:s}})
var c=setTimeout((function(){if(n.webpackInterface.store.dispatch({type:"reducer:artboards:toggle:splash",payload:{isShowSplash:!1}}),n.webpackInterface.store.dispatch({type:"entry:runner:init:home-screen",payload:{activeCid:a.cid}}),n.webpackInterface.checkLocationHash(),MB.messageBucket){MB.messageBucket.request({type:"message:set:record",payload:{key:"preview-ready",value:!0}}),MB.messageBucket.send("ready")
var e=setTimeout((function(){MB.messageBucket.send("ready")}),5e3)
n.clearCallbackBucket.redundantReady=function(){return clearTimeout(e)}}}),1e3)
this.clearCallbackBucket.init=function(){return clearTimeout(c)}}},{key:"clear",value:function(){Object.values(this.clearCallbackBucket).forEach((function(e){return e()})),this.currentScreen=this.currentMenu=null,this.runnerUtil.clear(),this.timerHandler.clear(),this.requestScreenCidSet.clear(),this.webpackInterface.store.dispatch({type:"runner:reset:state"}),this.webpackInterface.store.dispatch({type:"container:comment:reset:state"}),this.webpackInterface.store.dispatch({
type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}})}},{key:"closeMenu",value:function(e){this.webpackInterface.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{callback:e}})}},{key:"j",value:function(e){var t=this
if(e&&!this.runnerUtil.getCheckCurrentLinkCannotJump(e)){this.timerHandler.clear()
var n=e.target_cid
if(this.currentMenu)n===this.currentScreen?this.closeMenu():D.d.TYPE.screen_link!==e.link_type&&e.targetstate_cid?this.stateTransition(e):this.closeMenu((function(){t.j(e)}))
else switch(e.link_type){case D.d.TYPE.screen_link:this.screenTransition(e)
break
case D.d.TYPE.state_link:this.stateTransition(e)
break
case D.d.TYPE.panel_link:var r=this.runnerUtil.getPanelFormRunState(e.target_cid),i=r.panel,o=r.screenCid,a=r.screenStateCid,s=MB.getCurrentProjectMeta().cid,c=Object(E.i)(i,{screenCid:o,screenStateCid:a},{projectMetaCid:s})
c.multi_states?this.panelStateTransition(c,e):this.panelScreenTransition(c,e)
break
default:console.error("Unknown Link Type",e)}}}},{key:"screenTransition",value:function(e){var t={name:e.transition,delay:1e3*parseFloat(e.ani_delay),duration:1e3*parseFloat(e.ani_duration),offset:/drawer|menu/.test(e.transition)?e.menu_offset:100},n=e.target_cid,r=e.targetstate_cid
if(n===D.g)this.webpackInterface.store.dispatch({type:"entry:runner:back-to-prev-page",payload:{transition:t}})
else{var i=this.runnerUtil.getRunnerScreenDataMap()[n]
if(!i)return
Object(q.a)(9),Object(X.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Login",from:Object(X.a)()}),i.orientation!==this.runnerUtil.getCurrentScreen().orientation?this.webpackInterface.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:n,screenStateCid:r,resetTargetScreen:e.reset,transition:void 0}}):this.webpackInterface.store.dispatch({type:"entry:runner:activate:screen",payload:{screenCid:n,screenStateCid:r,resetTargetScreen:e.reset,transition:t}})}}},{key:"stateTransition",
value:function(e){var t={delay:1e3*parseFloat(e.ani_delay),duration:1e3*parseFloat(e.ani_duration)}
this.webpackInterface.store.dispatch({type:"entry:runner:activate:screen-state",payload:{screenCid:e.screen_cid,stateCid:e.targetstate_cid,transition:t}})}},{key:"panelScreenTransition",value:function(e,t){var n={name:["leftmenu","rightmenu","leftdrawer","rightdrawer"].includes(t.transition)?"none":t.transition,delay:1e3*parseFloat(t.ani_delay),duration:1e3*parseFloat(t.ani_duration),offset:/drawer|menu/.test(t.transition)?t.menu_offset:100}
this.webpackInterface.store.dispatch({type:"entry:runner:activate:panel-screen",payload:{panel:e,panelScreenCid:t.target_cid,transition:n}})}},{key:"panelStateTransition",value:function(e,t){var n=t.targetstate_cid
this.timerHandler.resetPanelTimerFlag(e.cid)
var r={delay:1e3*parseFloat(t.ani_delay),duration:1e3*parseFloat(t.ani_duration)}
this.webpackInterface.store.dispatch({type:"entry:runner:activate:panel-state",payload:{panel:e,targetStateCid:n,transition:r}})}},{key:"doneTransition",value:function(e,t){var n=this
this.timerHandler.setupPageTimers(e,t)
var r=this.runnerUtil.getPreviewOptions(),i=r.isStandAlone,o=r.isAndroid
i&&this.runnerUtil.setupStatusBar(e),o&&this.eventHandler.setupPageGesture(e),this.timerHandler.resetPageTimerFlag(),MB.currentScreen=e,this.webpackInterface.store.dispatch({type:"entry:current:set-screen",payload:{screen:e}}),MB.f.inSharing&&window.history.replaceState(null,null,"#screen=".concat(e.cid))
var a=this.runnerUtil.getPreviewOptions(),s=a.isMobile,c=a.isEmbedV1,l=s||c||!this.runnerUtil.getIsScreenExpanded()
this.runnerUtil.toggleScrollBar(l),setTimeout((function(){n.webpackInterface.store.dispatch({type:"entry:runner:preload:screens"})}),10)}},{key:"reload",value:function(){var e=this.runnerUtil.getCurrentScreen()
e&&(this.webpackInterface.store.dispatch({type:"entry:runner:reload:screen",payload:{activeCid:e.cid}}),this.runnerUtil.resetScrollState())}}]),e}(),K={artboards:[],error:!1,isShowSplash:!1}
var Q={activeCid:"",transition:{name:"slideleft",delay:0,duration:2e3,offset:100,callback:function(){}},history:[],screenInfoMap:{},screenScrollTopMap:{}}
var ee={slices:[],loading:!0,error:!1}
var te=n(95),ne=n(54),re={resourceByScreen:{"-1":{isFetching:!1,layers:[],error:""}},selectedLayerID:-1,activeLayerID:-1,enteredLayerID:-1},ie={open:!1,event:{}},oe={rootProject:null,projectMeta:null,screenGlue:null,isPanelPreviewMode:!1,projectShare:null},ae=n(27),se={isSpaceDown:!1},ce={previewOptions:{isDesktop:!0,isInApp:!1,isMobile:!1,isIOSClient:!1,isStandAlone:!1,isEmbedV1:!1,isHTMLZip:!1,isSquare:!1},designOptions:{},experienceSnapshotUrlMap:new Map,offset:{x:0,y:0},scale:100,keyFlags:se,viewport:{
width:0,height:0},preference:{},previewPanelNavIndex:0,screenCommentThreadCountMap:null,panelHeight:Object(ae.c)("perview_layer_panel_height",.32*window.innerHeight,ae.a.Number)},le=n(53),ue=n(28),de={ratio:1,emPixel:16,unit:"px",colorUnit:"hex",language:"css",toolbarActiveItem:le.c,isShowColorPicker:!1,isSelectLayer:!1,userPickColor:Object(ue.h)(),focusColor:null,isFullScreenMode:!1,simulatorType:"device",isShowShell:!0,isStickyShow:!0,isHighlight:!0,isStatePanelShow:!0,isOutsideVisible:!1,
isShowOutsideArtboardNav:!1,isMinimized:!1,isShowOfflineModal:!1,isAppOffline:!1,isAppCacheNeedUpToDate:!1,appVeresion:"",isDummyApk:!1}
var pe={containerReducerMap:{current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"preview:current:update:state":return C()(C()({},e),r)
case"preview:set:root-project":return C()(C()({},e),{},{rootProject:r.rootProject})
case"preview:set:current-projectMeta":return C()(C()({},e),{},{projectMeta:r.projectMeta})
case"preview:set:current-screenGlue":return C()(C()({},e),{},{screenGlue:r.screenGlue})
case"preview:set:current-projectShare":return C()(C()({},e),{},{projectShare:r.projectShare})
default:return e}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"preview:update:state":return C()(C()({},e),r)
case"preview:set:canvas:offset":return C()(C()({},e),{},{offset:r.offset})
case"preview:set:scale":return C()(C()({},e),{},{scale:r.scale})
case"preview:set:key:flags":return C()(C()({},e),{},{keyFlags:C()(C()({},se),r)})
case"preview:reset:key:flags":return C()(C()({},e),{},{keyFlags:se})
case"preview:scrollbar:viewport":return C()(C()({},e),{},{viewport:r})
case"preview:previewPanel:navindex":return C()(C()({},e),{},{previewPanelNavIndex:r.previewPanelNavIndex})
case"preview:update:preference":return C()(C()({},e),{},{preference:C()(C()({},e.preference),r)})
case"preview:comment:update:screen_count_map":return C()(C()({},e),{},{screenCommentThreadCountMap:r.screenCommentThreadCountMap||null})
case"preview:panel:set:height":var i=r.panelHeight
return Object(ae.f)("perview_layer_panel_height",i,ae.a.Number),C()(C()({},e),{},{panelHeight:i})
default:return e}},comment:te.d,layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case ne.d:var i=r.screenID,o=r.data
return C()(C()({},e),{},{resourceByScreen:C()(C()({},e.resourceByScreen),{},f()({},i,C()({isFetching:!1,error:void 0},o)))})
case ne.c:var a=r.screenID,s=r.error
return C()(C()({},e),{},{resourceByScreen:C()(C()({},e.resourceByScreen),{},f()({},a,{isFetching:!1,layers:[],error:s}))})
case ne.i:return C()(C()({},e),{},{selectedLayerID:r.layerID===e.selectedLayerID?-1:r.layerID})
case ne.a:return C()(C()({},e),{},{activeLayerID:r.layerID})
case ne.b:return C()(C()({},e),{},{enteredLayerID:r.layerID})
case"container:layers:clear":return re
default:return e}},slices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"reducer:slice:success":return C()(C()(C()({},e),r),{},{loading:!1})
case"reducer:slice:fail":return C()(C()(C()({},e),r),{},{error:!0})
default:return e}},artboards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"reducer:artboards:success":return C()(C()({},e),r)
case"reducer:artboards:fail":return C()(C()(C()({},e),r),{},{error:!0})
case"reducer:artboards:toggle:splash":return C()(C()({},e),{},{isShowSplash:r.isShowSplash})
default:return e}},previewSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"reducer:preview-toolbar:update":return C()(C()({},e),r)
case"reducer:preview-toolbar:fullscreen":return C()(C()({},e),{},{isFullScreenMode:r.isFullScreenMode})
case"reducer:preview-toolbar:update:highlight":return C()(C()({},e),{},{isHighlight:r.isHighlight})
default:return e}},eventSignUpModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"event-sign-up:close:modal":return C()({open:!1},e)
case"event-sign-up:set:event":return t.payload
default:return e}},runner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"runner:update:state":return C()(C()({},e),r)
case"runner:update:scroll-top":var i=r.screenMetaCid,o=r.scrollTop
return C()(C()({},e),{},{screenScrollTopMap:C()(C()({},e.screenScrollTopMap),{},f()({},i,o))})
case"runner:reset:state":return Q
default:return e}}},extendCallback:function(e){e.pushData=function(t,n,r){e.store.dispatch({type:"entry:state:push-data",payload:{pushType:t,action:n,data:r}})},e.checkLocationHash=function(){var t=window.location.hash||"",n=e.store,r=n.getState,i=n.dispatch
if(t.startsWith("#thread=")){var o=t.substr("#thread=".length),a=r().model.commentThreads.find((function(e){return e.cid===o}))
if(!a)return console.warn("[checkLocationHash] missing commentThread: ".concat(o))
i({type:"entry:sync-runner:set-screen",payload:{cid:a.screen_cid}}),i({type:"entry:comment:set:active",payload:{isActive:!0}}),i({type:"container:comment:focus",payload:{focusCommentThreadCid:a.cid}})}}}},fe=n(93),he=n(29),me={"preview-ready":!1},ge={"message:get:record":function(){return{type:"message:data:record",payload:me}},"message:set:record":function(e){var t=e.payload,n=t.key,r=t.value
me[n]=r},"message:get:preview-state":function(){var e=be(),t=e.state,n=e.isHighlight
return{type:"message:data:preview-state",payload:{screenCid:t.container.current.screenMeta.cid,isHighlight:n}}},"message:set:preview-state":function(e){var t=e.payload,n=t.isHighlight,r=t.screenCid,i=be(),o=i.state,a=o.model.screens,s=o.container.current.screenMeta,c=i.dispatch
if(void 0!==n&&c({type:"reducer:preview-toolbar:update:highlight",payload:{isHighlight:n}}),s.cid&&void 0!==r&&r!==s.cid){if(!a.find((function(e){return e.cid===r})))return console.warn("[message:set:preview-state] invalid screenCid")
c({type:"entry:sync-runner:set-screen",payload:{cid:r}})}},"message:get:screen-list":function(){var e=MB.webpackInterface.store.getState(),t=Object(O.c)(e).cid
return{type:"message:data:screen-list",payload:function(e){var t=Object(fe.a)(e),n=t.screenTreeData,r=t.dataMap,i=[]
Object(he.o)(n,(function(e){var t=e.data
t&&!Object(he.a)(t)&&i.push(t),t&&t.parent_cid&&r[t.parent_cid]&&Object(he.a)(r[t.parent_cid])&&(t.parent_cid=r[t.parent_cid].parent_cid)}))
for(var o={},a=0,s=i;a<s.length;a++){var c=s[a],l=r[c.parent_cid],u=l&&l.cid!==c.cid?l.cid:"root"
o[u]=o[u]||[],o[u].push(c)}for(var d=0,p=Object.values(o);d<p.length;d++){p[d].forEach((function(e,t){e&&e.position!==0+t&&(e.position=0+t)}))}return i}(Object(O.F)(e).concat()).map((function(e){return{cid:e.cid,name:e.name,position:e.position,parent_cid:e.parent_cid,project_cid:t}}))}},"message:get:notification-state":function(){var e=(MB.notification&&MB.notification.store&&MB.notification.store.getState()||{}).notifications
return{type:"message:data:notification-state",payload:{unreadCount:e?e.notifications.unreadNum:0}}},"message:get:notification-list":function(){var e=(MB.notification&&MB.notification.store&&MB.notification.store.getState()||{}).notifications
return{type:"message:data:notification-list",payload:e?e.notifications.notifications:[]}},"message:set:offlineModal:show":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!0}})},"message:set:offlineModal:close":function(){MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowOfflineModal:!1}})},"message:get:app:state":function(e){var t=e.payload,n=t.isOffline,r=t.isUpToDate
MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{isAppOffline:n,isAppCacheNeedUpToDate:!r}})},"message:get:app:init:status":function(e){var t=e.payload,n=t.version,r=t.isHighlight,i=t.isDummyApk,o=void 0!==i&&i
MB.webpackInterface.store.dispatch({type:"reducer:preview-toolbar:update",payload:{appVeresion:n,isDummyApk:o}}),MB.webpackInterface.store.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:r}})}},be=function(){var e=MB.webpackInterface.store,t=e.getState,n=e.dispatch,r=t(),i=Object(O.n)(r),o=r.container.current.rootProject.cid,a=o&&r.model.projects.find((function(e){return e.cid===o}))
return{getState:t,dispatch:n,state:r,project:a,isHighlight:i}},ve=n(26),ye=n.n(ve),xe=n(83),we=n(78),je=n(391),Se=function(){function e(){o()(this,e),this.store=null,this.viewMap={},this.observerMap={}}return s()(e,[{key:"setStore",value:function(e){this.store=e}},{key:"callObserver",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i]
return this.observerMap[e]&&(t=this.observerMap)[e].apply(t,[e].concat(r))}},{key:"setObserver",value:function(e,t){this.observerMap[e]=t}},{key:"setView",value:function(e,t){this.viewMap[e]=t}},{key:"callViewMethod",value:function(e,t){for(var n,r=this.viewMap[e],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a]
return r&&r[t]?(this.callObserver("view:".concat(e,":").concat(t)),r[t].apply(r,[this.store].concat(o))):(n=console).warn.apply(n,["[WebpackInterface][callViewMethod] missed",e,t].concat(o))}},{key:"init",value:function(){this.callObserver("init"),this.store&&this.store.dispatch({type:"entry:state:init"})}},{key:"clear",value:function(){this.store&&this.store.dispatch({type:"entry:state:clear"}),this.callObserver("clear")}}]),e}()
var _e,Ce,Oe,ke,Ee,Me,Te=n(11),De=n.n(Te),Ae=n(14),Ne=n.n(Ae),Pe={"entry:preview:escape:key":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.r)(r),o=Object(O.m)(r),a=Object(O.t)(r)
i&&(o||(a?n({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}}):MB.f.inPreview&&(MB.action&&MB.action("entry:activate:screen",{screenCid:MB.currentScreen.cid}),MB.backDesign())))}},Ie=n(96),Le=MB.config.SCALES,Be=function(e,t){return Object(ae.e)("preview_scale_".concat(e),t)},Fe={"entry:init:preview:scale":function(e){var t,n=e.getState,r=e.dispatch,i=n(),o=Object(O.c)(i),a=Object(O.D)(i),s=a.isUIChina,c=a.isForum,l=a.isSquare
if(s&&"car_play"===o.model)r({type:"preview:set:scale",payload:{scale:40}})
else if(c||l)r({type:"entry:auto-fit:preview:scale"})
else{var u=(t=o.cid,Number(Object(ae.b)("preview_scale_".concat(t))))
r(u?{type:"preview:set:scale",payload:{scale:u}}:{type:"entry:auto-fit:preview:scale"})}},"entry:auto-fit:preview:scale":function(e){var t,n,r,i,o=e.getState,a=e.dispatch,s=o(),c=Object(O.m)(s),l=Object(O.D)(s),u=l.isForum,d=l.isSquare,p=Object(O.c)(s),f=Object(O.g)(s),h="device"===Object(O.M)(s)?Object(Ie.a)(p):"none",m=Object(O.y)(s)
if("combo_group"!==p.category||p.model){var g="landscape"===f.orientation
t=Object(Ie.b)(p,h,g,d)}else{var b=Object(O.h)(s)
t={width:b.width,height:b.height}}c||u?n=r=i=0:d?(n=0,r=184,i=160):(n=40+(m?56:44),r=280,i=260)
var v=window.innerWidth-(r+i),y=window.innerHeight-n,x=100*Math.min(y/t.height,v/t.width),w=Math.min(Math.max(x,20),100)
!d&&!c&&Be(p.cid,w),a({type:"preview:set:scale",payload:{scale:w}})},"entry:preview:set:scale":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.scale,o=r(),a=Object(O.c)(o)
i=Math.min(Math.max(i,20),400),!o.container.previewSetting.isFullScreenMode&&Be(a.cid,i),n({type:"preview:set:scale",payload:{scale:i}})},"entry:preview:zoom-in":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.f)(r),o=Le.findIndex((function(e){return e>i}))
n({type:"entry:preview:set:scale",payload:{scale:Le[o]||Le[Le.length-1]}})},"entry:preview:zoom-out":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.f)(r),o=Le.findIndex((function(e){return e>=i}))
n({type:"entry:preview:set:scale",payload:{scale:Le[o-1]||Le[0]}})}},Re=n(43),ze=n.n(Re),Ue=n(198),He=n(111),Ge={name:"none",delay:0,duration:0,offset:100},Ve={"entry:runner:init:home-screen":function(e,t){var n=e.dispatch,r=t.payload.activeCid
n({type:"runner:update:state",payload:{activeCid:r,transition:Ge,screenInfoMap:f()({},r,Object(He.c)(r)),history:[r]}})},"entry:runner:reload:screen":function(e,t){var n=e.dispatch,r=t.payload.activeCid
n({type:"entry:runner:init:home-screen",payload:{activeCid:r}}),n({type:"entry:runner:activate:screen",payload:{screenCid:r}})},"entry:runner:activate:screen":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=i.screenCid,a=i.transition,s=i.resetTargetScreen,c=void 0===s||s,l=i.screenStateCid,u=n(),d=Object(O.J)(u),p=d.activeCid,h=d.screenInfoMap,m=d.history;/drawer|menu/.test((a=a||Ge).name)?(MB.runner.currentScreen=p,MB.runner.currentMenu=o):MB.runner.currentScreen=MB.runner.currentMenu=null
var g=[o].concat(ye()(m.filter((function(e){return e!==o})))),b=h[o],v=b?b.stateCid:D.a,y=N(o,l,v),x=y===D.b,w=b&&x?b:Object(He.c)(o,y)
c&&MB.runner.runnerUtil.resetScreenScrollState(o),r({type:"runner:update:state",payload:{transition:a,screenInfoMap:C()(C()({},h),{},f()({},o,w)),activeCid:o,history:g}})},"entry:runner:activate:screen-state":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=i.screenCid,a=i.stateCid,s=i.transition,c=n(),l=Object(O.L)(c),u=Object(O.J)(c),d=u.activeCid,p=u.screenInfoMap
if(d===o){var f=p[d],h=f.stateCid,m=f.panelInfoMap,g=f.screenRuntimeState,b=N(o,a,h)
if(h!==b)if(g.dataMap[b]){var v=l[d],y=C()(C()({},s),{},{callback:function(){MB.runner.timerHandler.setupPageTimers(v,b)}}),x=C()({},m),w=MB.currentProjectMeta.cid
Object(k.h)(w,o,b).forEach((function(e){x[e.cid]=Object(He.b)(e,w)})),r({type:"entry:runner:update:screen",payload:{screenCid:o,stateCid:b,panelInfoMap:x,transition:y}})}}},"entry:runner:back-to-prev-page":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=void 0===i?{}:i,a=n(),s=Object(O.L)(a),c=Object(O.J)(a),l=c.history,u=c.transition,d=u.name,p=u.duration,f=u.offset
if(1!==l.length){var h,m=s[l[0]],g=s[l[1]]
h=m.orientation!==g.orientation?Ge:o.transition?o.transition:{name:Object(Ue.a)(d),delay:0,duration:p,offset:f,callback:o.callback}
var b=l.slice(1)
r({type:"runner:update:state",payload:{activeCid:b[0],transition:h,history:b}})}},"entry:runner:update:screen":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=i.screenCid,a=ze()(i,["screenCid"]),s=n(),c=Object(O.J)(s).screenInfoMap,l=c[o]
if(!l)throw new Error("更新了尚未加载的页面!!")
var u=C()(C()({},l),a)
r({type:"runner:update:state",payload:{screenInfoMap:C()(C()({},c),{},f()({},o,u))}})},"entry:runner:preload:screens":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.h)(r),o=Object(O.L)(r),a=Object(O.J)(r),s=a.activeCid,c=a.screenInfoMap,l=a.history.slice(0,2),u=c[s].stateCid
MB.runner.runnerUtil.getScreenStateValidLinkListForPreview(s,u).forEach((function(e){if(e.link_type===D.d.TYPE.screen_link&&"none"!==e.transition&&e.target_cid!==D.g){var t=o[e.target_cid]
t&&t.screen_glue_cid===i.cid&&l.push(e.target_cid)}}))
var d={}
l.forEach((function(e){d[e]=c[e]||Object(He.c)(e)})),n({type:"runner:update:state",payload:{screenInfoMap:d}})},"entry:runner:activate:panel-screen":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=i.panel,a=i.panelScreenCid,s=i.transition,c=n(),l=Object(O.J)(c).screenInfoMap,u=o.cid,d=o.screen_cid
if(l[d].panelInfoMap[u].screenDataMap[a]){var p=Object(He.d)(l[d],{panelCid:u,panelScreenCid:a,transition:s})
r({type:"runner:update:state",payload:{screenInfoMap:C()(C()({},l),{},f()({},d,p))}})}},"entry:runner:activate:panel-state":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=i.panel,a=i.targetStateCid,s=i.transition,c=n(),l=Object(O.J)(c).screenInfoMap,u=o.cid,d=o.screen_cid,p=l[d].panelInfoMap[u],h=p.currentScreenMetaCid,m=p.screenDataMap,g=p.currentScreenStateCid,b=m[h].screenRuntimeState.dataMap,v=N(h,a,g)
if(g!==v&&b[v]){var y=Object(He.e)(l[d],{panelCid:u,panelStateCid:v,transition:s,callback:function(){MB.runner.timerHandler.setupPanelTimers(o,h,v)}})
r({type:"runner:update:state",payload:{screenInfoMap:C()(C()({},l),{},f()({},d,y))}})}}},We=n(259),Ye=n.n(We),Ze=n(67),qe=n(32),Xe=n(171),Je=function(){var e=Ne()(De.a.mark((function e(t){var n,r,i,o
return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.artboard_id){e.next=10
break}return e.next=3,qe.a.api.requestSketchArtboardById(t.artboard_id)
case 3:return n=e.sent,r=n.artboard,i=n.layers,o=Ke(i),e.abrupt("return",{artboard:r,layers:o,document:{document_colors:[],text_styles:[],global_colors:[]}})
case 10:return e.abrupt("return",{artboard:{top:0,left:0,width:t.width,height:t.height},layers:[],document:{document_colors:[],text_styles:[],global_colors:[]}})
case 11:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),Ke=function(e){Object(Xe.c)(e)||(e=e.filter((function(e){return"group"!==e.kind||"group"===e.kind&&e.image_set})))
var t=e.map((function(e){return C()(C()({},e),{},{cid:e.id})}))
return t.some((function(e){return e.z}))?t.sort((function(e,t){return e.z-t.z})):t.sort((function(e,t){return parseInt(t.width)*parseInt(t.height)-parseInt(e.width)*parseInt(e.height)})),t},Qe=n(153),$e=(_e={"entry:inspect:request:screen-data":(Ce=Ne()(De.a.mark((function e(t,n){var r,i,o,a,s,c,l,u,d,p,f,h,m,g
return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState,i=t.dispatch,o=n.payload.screenMetaCid,a=r(),s=Object(Ze.e)(a),c=Object(O.g)(a),!(l=s[o])||l.error){e.next=8
break}return e.abrupt("return")
case 8:if(!MB.runner.requestScreenCidSet.has(o)){e.next=10
break}return e.abrupt("return")
case 10:return MB.runner.requestScreenCidSet.add(o),e.prev=11,e.next=14,Je(c)
case 14:p=e.sent,f=p.artboard,h=p.layers,m=p.document,u={cid:c.cid,display_name:c.name,top:0,left:0,width:c.width,height:c.height,src_top:0,src_left:0,src_width:f.width,src_height:f.height,bg_colors:[{value:Object(Qe.a)(c.bgcolor)}]},d=Object(Qe.b)(h,f,c),g={artboard:f,artboardLayer:u,sketchLayers:d,globalText:m.text_styles,globalColor:m.global_colors,documentColor:m.document_colors},MB.runner.requestScreenCidSet.delete(o),i(Object(ne.m)(o,g)),e.next=30
break
case 25:e.prev=25,e.t0=e.catch(11),console.log(e.t0.stack),MB.runner.requestScreenCidSet.delete(o),i(Object(ne.l)(o,e.t0.message))
case 30:case"end":return e.stop()}}),e,null,[[11,25]])}))),function(e,t){return Ce.apply(this,arguments)})},f()(_e,ne.h,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,o=n(),a=Object(O.g)(o),s=Object(Ze.e)(o),c=et(s[a.cid].sketchLayers,i)
r(Object(ne.r)(c)),r(Object(ne.j)(c))})),f()(_e,ne.g,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,o=n(),a=Object(O.g)(o),s=Object(Ze.e)(o),c=tt(s[a.cid].sketchLayers,i)
r(Object(ne.r)(c)),r(Object(ne.j)(c))})),f()(_e,ne.e,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,o=n(),a=Object(O.g)(o),s=Object(Ze.e)(o),c=et(s[a.cid].sketchLayers,i)
r(Object(ne.k)(c))})),f()(_e,ne.f,(function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.layerID,o=n(),a=Object(O.g)(o),s=Object(Ze.e)(o),c=tt(s[a.cid].sketchLayers,i)
r(Object(ne.k)(c))})),_e),et=function(e,t){Ye()(e,{id:t})
return t},tt=function(e,t){var n=Ye()(e,{id:t})
if(!n||!n.parent||n.image_set_zip||!n.maskedID)return t
if(n.maskedID&&n.parent){var r=Ye()(e,{object_id:n.parent})
if(r)return r.id}return t},nt={"entry:artboards:init":(Oe=Ne()(De.a.mark((function e(t){var n,r,i,o,a,s,c,l
return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,i=n(),o=i.model.screens,a=Object(O.c)(i).cid,e.prev=4,s={},o.forEach((function(e){var t=e.width,n=e.height,r=e.cid
s[r]={width:t,height:n}})),!a){e.next=13
break}return e.next=10,qe.a.api.requestSketchArtboardList(a)
case 10:c=e.sent,(l=c.artboards).length>0&&l.forEach((function(e){var t=e.width,n=e.height,r=e.screen_cid
s[r]={width:t,height:n}}))
case 13:s={artboards:s},r({type:"reducer:artboards:success",payload:C()({},s)}),e.next=21
break
case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0.stack),r({type:"reducer:artboards:fail"})
case 21:case"end":return e.stop()}}),e,null,[[4,17]])}))),function(e){return Oe.apply(this,arguments)})},rt=function(e){var t=e.width,n=void 0===t?1:t,r=e.height
return n>0&&(void 0===r?1:r)>0},it={"entry:image-slice:init":(ke=Ne()(De.a.mark((function e(t){var n,r,i,o,a,s
return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getState,r=t.dispatch,i=n(),o=Object(O.g)(i)){e.next=5
break}return e.abrupt("return")
case 5:return e.prev=5,e.next=8,qe.a.api.requestSliceByArtboardId(o.artboard_id)
case 8:a=e.sent,s=a.slices.filter(rt),r({type:"reducer:slice:success",payload:{slices:s}}),e.next=17
break
case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0.stack),r({type:"reducer:slice:fail"})
case 17:case"end":return e.stop()}}),e,null,[[5,13]])}))),function(e){return ke.apply(this,arguments)})},ot=n(102),at=function(e){return"preview-simulator-type-".concat(e)},st=function(e,t){return"".concat(e,"_").concat(t)},ct={"entry:init:preview-setting":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.c)(r),o=Object(O.D)(r),a=function(e,t,n){var r=t.isSquare,i=t.isMobile,o=t.isEmbedV1,a=t.isHTMLZip,s=t.isVersionEmbedded
if(r)return{simulatorType:"web"===e.device||"combo_group"===e.category?"long_page":"device",isStickyShow:!1,isHighlight:!0,isShowOutsideArtboardNav:!1}
var c=Object(ae.c)("preview-is-stickyshow",!0,ae.a.Boolean),l=Object(ae.c)("preview-is-highlight",!0,ae.a.Boolean)
if(s)return{simulatorType:"outside_artboard",isStickyShow:!0,isHighlight:l,isShowOutsideArtboardNav:!0}
if(i||o)return{simulatorType:"device",isStickyShow:c,isHighlight:n.highlight,isShowOutsideArtboardNav:!1}
if(Object(ot.a)(location.pathname)||a)return{simulatorType:Object(ae.c)(at(e.cid),"device",ae.a.String),isStickyShow:c,isHighlight:l,isShowOutsideArtboardNav:!a||n.view_prd}
if(Object(ot.b)(location.pathname)){var u=Object.fromEntries(new URLSearchParams(location.search).entries()),d=u.simulator_type,p=""===u.sticky||Object(ae.c)("preview-is-stickyshow",!1,ae.a.Boolean),f=n.highlight,h=MB.canEditByCurrentUser||n.view_prd
return d?{simulatorType:h||"outside_artboard"!==d?d:"device",isStickyShow:p,isHighlight:f,isShowOutsideArtboardNav:h}:{simulatorType:"device",isStickyShow:p,isHighlight:f,isShowOutsideArtboardNav:h}}return{simulatorType:"web"===e.device?"long_page":"device",isStickyShow:!1,isHighlight:!0,isShowOutsideArtboardNav:!1}}(i,o,Object(O.e)(r)),s=a.simulatorType,c=a.isStickyShow,l=a.isHighlight,u=a.isShowOutsideArtboardNav,d=o.isUIChina,p=o.isForum,f=o.isEmbedV2,h=d||p||f
n({type:"reducer:preview-toolbar:update",payload:{simulatorType:s,isStickyShow:c,isShowOutsideArtboardNav:u,isStatePanelShow:Object(ae.c)("preview-is-statePanel",!1,ae.a.Boolean),isHighlight:l,isMinimized:Object(ae.c)(st("preview-is-Minimized",i.cid),h,ae.a.Boolean)}})},"entry:preview-setting:update:is-highlight":function(e,t){var n=e.dispatch,r=t.payload.isHighlight
Object(ae.f)("preview-is-highlight",r,ae.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isHighlight:r}})},"entry:preview-setting:update:show:shell":function(e,t){var n=e.dispatch,r=t.payload.isShowShell
Object(ae.f)("preview-is-shell-type",r,ae.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isShowShell:r}}),setTimeout((function(){MB.runner.reload()}))},"entry:preview-setting:update:simulatorType":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload.simulatorType,o=n(),a=Object(O.g)(o),s=Object(O.c)(o)
Object(ae.f)(at(s.cid),i,ae.a.String),MB.runner.runnerUtil.resetCurrentScreenScrollState(a.cid),r({type:"reducer:preview-toolbar:update",payload:{simulatorType:i}}),setTimeout((function(){MB.runner.reload()}))},"entry:preview-setting:update:is-sticky-show":function(e,t){var n=e.dispatch,r=t.payload.isStickyShow
Object(ae.f)("preview-is-stickyshow",r,ae.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isStickyShow:r}})},"entry:preview-setting:update:is-statePanel-show":function(e,t){var n=e.dispatch,r=t.payload.isStatePanelShow
Object(ae.f)("preview-is-statePanel",r,ae.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isStatePanelShow:r}})},"entry:preview-setting:toggle:isMinimized":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.c)(r),o=!Object(O.p)(r)
Object(ae.f)(st("preview-is-Minimized",i.cid),o,ae.a.Boolean),n({type:"reducer:preview-toolbar:update",payload:{isMinimized:o}})},"entry:preview-setting:update:show-menu-list":function(e,t){(0,e.dispatch)({type:"reducer:preview-toolbar:update",payload:{showMenuList:t.payload.showMenuList}})}},lt={"entry:comment_thread_count_map:init":(Ee=Ne()(De.a.mark((function e(t){var n,r,i,o,a,s
return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getState,r=t.dispatch,i=n(),o=Object(O.c)(i),e.prev=3,e.next=6,qe.a.api.fetchProjectScreenCommentThreadCountMap({projectAccessToken:o.access_token,projectEncryptedPassword:Object(ae.b)("".concat(o.access_token,"_pwd"))||""})
case 6:a=e.sent,s=a.screenCommentThreadCountMap,r({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:s}}),e.next=15
break
case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.stack),404===e.t0.status&&MB.global.popupHelper.alertAsync({title:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.title,desc:I18N.pEntry.err_info_modal.COMMENT_NOT_FOUNT.desc,confirmText:I18N.pEntry.confirm}).then((function(){location.reload()}))
case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e){return Ee.apply(this,arguments)})},ut=n(124),dt=n(120),pt=C()(C()(C()(C()(C()(C()(C()(C()(C()({},Pe),Fe),Ve),$e),nt),it),ct),lt),{},{"entry:init:preview:options":function(e,t){(0,e.dispatch)({type:"preview:update:state",payload:{previewOptions:t.payload.previewOptions}})},"entry:init:preview:related:data":function(e,t){
var n=e.getState,r=e.dispatch,i=t.payload,o=i.rootProject,a=i.projectMeta,s=i.screenGlue,c=i.screenMeta,l=i.previewMode,u=i.isPanelPreviewMode,d=n(),p=Object(O.D)(d)
r({type:"preview:update:state",payload:{preference:MB.preference()}}),r({type:"projects:refresh"}),r({type:"screens:refresh"}),r({type:"preview:current:update:state",payload:{rootProject:o,projectMeta:a,screenGlue:s,screenMeta:c,isPanelPreviewMode:u}}),r({type:"entry:init:preview:scale"})
var f=MB.global.designOptions||{isDesign:!0}
f.isDesign&&r({type:"entry:artboards:init"}),r({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}),r({type:"entry:init:preview-setting"}),r({type:"preview:update:state",payload:{designOptions:f,experienceSnapshotUrlMap:f.isDesign?new Map:MB.experienceData.experienceSnapshotUrlMap}}),r({type:"entry:previe:update-mode",payload:{toolbarActiveItem:l}})
var h=p.isDesktop,m=p.isSquare,g=p.isHTMLZip,b=p.isVersionEmbedded,v=p.isEmbedV2
!h||m||g||b||v||r({type:"entry:comment_thread_count_map:init"})},"entry:current:set-screen":function(e,t){(0,e.dispatch)({type:"preview:current:update:state",payload:{screenMeta:t.payload.screen}})},"entry:preview:select":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.toolbarActiveItem,o=r()
i!==Object(O.b)(o)&&n({type:"entry:previe:update-mode",payload:{toolbarActiveItem:i}})},"entry:previe:update-mode":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.toolbarActiveItem,o=r(),a=Object(O.c)(o),s=Object(O.g)(o)
if(i===le.b)n({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:s.cid}})
else if(i===le.a){var c=Object(te.c)(a)
"deny_limitation"===c&&Object(ut.b)("comment_".concat(c),{action:"comment_".concat(c),renewRedirectParams:MB.currentProject.team_cid||MB.currentProject.owner_id===MB.user.id?{access_token:MB.currentProject.access_token}:null})}n({type:"reducer:preview-toolbar:update",payload:{toolbarActiveItem:i}}),n({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:0}}),setTimeout((function(){Object(O.I)(r())&&MB.runner.reload()}))},"entry:preview:set:canvas:offset":function(e,t){
var n=e.getState,r=e.dispatch,i=t.payload.offset,o=n(),a=Object(O.a)(o),s=i.x,c=i.y
r({type:"preview:set:canvas:offset",payload:{offset:{x:s=-Math.max(Math.min(-s,a.x/2),-a.x/2),y:c=-Math.max(Math.min(-c,a.y/2),-a.y/2)}}})},"entry:enter:full-screen-mode":(Me=Ne()(De.a.mark((function e(t){var n
return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.next=3,dt.a.request()
case 3:n({type:"entry:preview:select",payload:{toolbarActiveItem:"preview"}}),n({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!0}}),n({type:"entry:auto-fit:preview:scale"}),n({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:-28}}})
case 7:case"end":return e.stop()}}),e)}))),function(e){return Me.apply(this,arguments)}),"entry:exit:fill-screen-mode":function(e){var t=e.dispatch
t({type:"reducer:preview-toolbar:fullscreen",payload:{isFullScreenMode:!1}}),t({type:"entry:init:preview:scale"}),t({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})}}),ft=C()(C()({},pt),{},{"entry:state:init":function(e){var t=e.dispatch
t({type:"user:set",payload:MB.user||void 0}),t({type:"teams:refresh"})},"entry:state:clear":function(e){e.dispatch},"entry:sync-runner:set-screen":function(e,t){var n=e.dispatch,r=e.getState,i=t.payload.cid,o=r(),a=Object(O.J)(o).activeCid,s=Object(O.d)(o)
n({type:"entry:current:set-screen",payload:{screen:ProjectExchange.getProjectStore(s.cid).getLocalScreenMetaByCid(i)}}),i!==a&&("inspect"===Object(O.b)(o)&&n({type:"entry:inspect:request:screen-data",payload:{screenMetaCid:i}}),MB.runner.timerHandler.clear(),n({type:"entry:runner:activate:screen",payload:{screenCid:i,transition:void 0}}))},"entry:preview:clear":function(e,t){var n=e.dispatch
n({type:"reducer:preview-panel:reset"}),n({type:"container:layers:clear"})}}),ht=n(88),mt=window,gt={SpineModel:{Project:mt.Project,Comment:mt.Comment,CommentThread:mt.CommentThread,queueSave:function(){return AutoSaver&&AutoSaver.triggerAllSave()}}},bt=n(33),vt=gt.SpineModel,yt={Project:"p",Comment:"cm",CommentThread:"cmth"},xt=Object.keys(yt),wt=xt.reduce((function(e,t){return e[t]=vt[t].attributes,e}),{}),jt=xt.reduce((function(e,t){var n=vt[t],r=wt[t],i=yt[t],o=function(e,t){return{
dataState:e.find((function(e){return e.cid===t})),dataModel:n.findByAttribute("cid",t)}}
return e[t]={refreshStateList:function(e){return n.all().map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return r.forEach((function(n){return t[n]=e[n]})),t}(e,{})}))},saveState:function(e,t,n){var r=t.cid,i=o(e,r),a=i.dataState,s=i.dataModel
return a&&s?(s.lsave(!n),!n&&gt.SpineModel.queueSave(),e):e},addState:function(e,t,r){var o=t.cid||Object(bt.getRandomCid)(i);(function(e,t){var r=e.find((function(e){return e.cid===t})),i=n.findByAttribute("cid",t)
return Boolean(r||i)})(e,o)&&(o=Object(bt.getRandomCid)(i))
var a=C()(C()({},t),{},{cid:o})
return new n(a).lsave(!r),!r&&gt.SpineModel.queueSave(),Object(ht.arrayPush)(e,a)},updateState:function(e,t,n){var r=t.cid,i=o(e,r),a=i.dataState,s=i.dataModel
return a&&s?(a=C()(C()({},a),t),Object.assign(s,a),s.lsave(!n),!n&&gt.SpineModel.queueSave(),Object(ht.arrayFindSet)(e,(function(e){return e.cid===r}),a)):e},deleteState:function(e,t,n){var r=t.cid,i=o(e,r),a=i.dataState,s=i.dataModel
return a&&s?(s.ldestroy(!n),!n&&gt.SpineModel.queueSave(),Object(ht.arrayFindDelete)(e,(function(e){return e.cid===r}))):e}},e}),{}),St=function(e){return function(t,n,r){var i=n.cid,o=vt.Project.findByAttribute("cid",i)?"Project":null
return jt[o][e](t,n,r)}}
jt.ProjectAlike={refreshStateList:function(e){return ye()(jt.Project.refreshStateList())},saveState:St("saveState"),addState:St("addState"),updateState:St("updateState"),deleteState:St("deleteState")}
var _t=jt.Comment,Ct=Object(we.createStateStore)([]),Ot=Ct.getState,kt=Ct.setState,Et=Ct.wrapEntry,Mt=function(e,t){return Et((function(n,r,i){var o=r.dispatch,a=i&&i.payload
o({type:"reducer:comments:update",payload:e(n,a,t)})}))},Tt={entryMap:{"comments:refresh":Mt(_t.refreshStateList,!1),"comments:add":Mt(_t.addState,!1),"comments:add-local":Mt(_t.addState,!0),"comments:update":Mt(_t.updateState,!1),"comments:update-local":Mt(_t.updateState,!0),"comments:delete":Mt(_t.deleteState,!1),"comments:delete-local":Mt(_t.deleteState,!0)},getState:Ot,setState:kt},Dt=jt.CommentThread,At=Object(we.createStateStore)([]),Nt=At.getState,Pt=At.setState,It=At.wrapEntry,Lt=function(e,t){
return It((function(n,r,i){var o=r.dispatch,a=i&&i.payload
o({type:"reducer:comment-threads:update",payload:e(n,a,t)})}))},Bt={entryMap:{"comment-threads:refresh":Lt(Dt.refreshStateList,!1),"comment-threads:save":Lt(Dt.saveState,!1),"comment-threads:add":Lt(Dt.addState,!1),"comment-threads:add-local":Lt(Dt.addState,!0),"comment-threads:update":Lt(Dt.updateState,!1),"comment-threads:update-local":Lt(Dt.updateState,!0),"comment-threads:delete":Lt(Dt.deleteState,!1),"comment-threads:delete-local":Lt(Dt.deleteState,!0)},getState:Nt,setState:Pt
},Ft=jt.ProjectAlike,Rt=Object(we.createStateStore)([]),zt=Rt.getState,Ut=Rt.setState,Ht=Rt.wrapEntry,Gt=function(e,t){return Ht((function(n,r,i){var o=r.dispatch,a=i&&i.payload
o({type:"reducer:projects:update",payload:e(n,a,t)})}))},Vt={entryMap:{"projects:refresh":Gt(Ft.refreshStateList,!1),"projects:add":Gt(Ft.addState,!1),"projects:add-local":Gt(Ft.addState,!0),"projects:update":Gt(Ft.updateState,!1),"projects:update-local":Gt(Ft.updateState,!0),"projects:delete":Gt(Ft.deleteState,!1),"projects:delete-local":Gt(Ft.deleteState,!0)},getState:zt,setState:Ut},Wt=n(113),Yt=n(25),Zt=Object(we.createStateStore)([]),qt=Zt.getState,Xt=Zt.setState,Jt={entryMap:{"screens:refresh":(0,
Zt.wrapEntry)((function(e,t,n){var r=t.dispatch,i=MB.currentProjectMeta.cid,o=Object(Yt.o)(i).filter((function(e){return e.type!==Wt.SCREEN_GLUE_TYPE.PROJECT_TRASHCAN})).map((function(e){return e.cid})),a=[]
o.forEach((function(e){a.push.apply(a,ye()(Object(Yt.q)(i,e)))})),r({type:"reducer:screens:update",payload:a})}))},getState:qt,setState:Xt},Kt=n(280),Qt={id:null,name:"",email:"",avatar:"",plan:{state:"",type:"free",rawType:"free",daysLeft:""}},$t=Object(we.createStateStore)(Qt),en=$t.getState,tn=$t.setState,nn=$t.wrapEntry
function rn(e){var t=e.plan,n=e.state
e.limitation
return{state:n||"",type:"active"===n&&t||"free",rawType:t||"free",daysLeft:e.days_left||""}}var on={entryMap:{"user:set":nn((function(e,t,n){var r=t.dispatch,i=n.payload,o=void 0===i?{}:i,a=o.id,s=void 0===a?null:a,c=o.name,l=void 0===c?"":c,u=o.email,d=void 0===u?"":u,p=o.avatar,f=void 0===p?"":p
r({type:"reducer:user:update",payload:Object(Kt.objectMerge)(e,{id:s,name:l,email:d,avatar:f,plan:rn(o)})})})),"user:clear":nn((function(e,t,n){(0,t.dispatch)({type:"reducer:user:update",payload:Qt})}))},getState:en,setState:tn},an=n(119),sn=C()(C()(C()(C()(C()(C()({},Tt.entryMap),Bt.entryMap),Vt.entryMap),Jt.entryMap),on.entryMap),{},{"entry:comment:init-project-data":function(e){var t=e.getState,n=e.dispatch,r=t(),i=Object(O.c)(r),o=i.cid
qe.a.api.fetchProjectComment({projectCid:o,projectEncryptedPassword:Object(ae.b)("".concat(i.access_token,"_pwd"))||""}).then((function(e){var t=e.org,r=e.team,a=e.members,s=e.threads,c=e.comments
Object(an.a)({comments:c,threads:s}),n({type:"comment-threads:refresh"}),n({type:"comments:refresh"}),n({type:"screens:refresh"})
var l={isProjectAllowComment:"allow"===Object(te.c)(i),projectAccessMap:f()({},i.owner_id,"project_owner"),teamAccessMap:t&&t.accesses||{},orgAccessMap:r&&r.accesses||{},memberList:a||[]}
n({type:"container:comment:loaded-project",payload:{projectCid:o,projectCommentData:l}})}))},"entry:comment-threads:add":function(e,t){var n=e.getState,r=e.dispatch,i=t.payload,o=i.top,a=i.left,s=i.message,c=n(),l=Object(O.g)(c).cid,u=on.getState(),d=.001*Date.now(),p=Object(bt.getRandomCid)("cmth")
r({type:s?"comment-threads:add":"comment-threads:add-local",payload:{cid:p,top:o,left:a,screen_cid:l,user_id:u.id,created_at:d,updated_at:d}}),s&&r({type:"comments:add",payload:{thread_cid:p,message:s,user_id:u.id,created_at:d,updated_at:d}}),r({type:"container:comment:focus",payload:{focusCommentThreadCid:p}})},"entry:comment:screen_count_map:refresh":function(e){e.getState
var t=e.dispatch,n=Bt.getState()
t({type:"preview:comment:update:screen_count_map",payload:{screenCommentThreadCountMap:ln(n)}})},"entry:comment-threads:update":function(e,t){var n=e.dispatch,r=(e.getState,t.payload),i=r.cid,o=r.top,a=r.left,s=void 0===Tt.getState().find((function(e){return e.thread_cid===i})),c=.001*Date.now()
n({type:s?"comment-threads:update-local":"comment-threads:update",payload:{cid:i,top:o,left:a,updated_at:c}})},"entry:comment-threads:delete":function(e,t){var n=e.dispatch,r=t.payload.cid
n({type:"comment-threads:delete",payload:{cid:r}}),Tt.getState().forEach((function(e){return e.thread_cid===r&&n({type:"comments:delete-local",payload:e})}))},"entry:comments:add":function(e,t){var n=e.dispatch,r=t.payload,i=r.thread_cid,o=r.message,a=on.getState(),s=.001*Date.now()
n({type:"comment-threads:save",payload:{cid:i}}),n({type:"comments:add",payload:{thread_cid:i,message:o,user_id:a.id,created_at:s,updated_at:s}}),n({type:"container:comment:focus",payload:{focusCommentThreadCid:null}})},"entry:comments:update":function(e,t){var n=e.dispatch,r=t.payload
n({type:"comments:update",payload:{cid:r.cid,message:r.message,updated_at:.001*Date.now()}})},"entry:state:push-data":function(e,t){var n=e.dispatch,r=t.payload,i=r.pushType,o=r.action,a=r.data
switch(i){case"comment-threads":var s=Bt.getState().find((function(e){return e.cid===a.cid}))
"update"!==o||s?"update"===o&&s?n({type:"comment-threads:update-local",payload:a}):"destroy"===o&&s&&(n({type:"comment-threads:delete-local",payload:a}),Tt.getState().forEach((function(e){return e.thread_cid===a.cid&&n({type:"comments:delete-local",payload:e})}))):n({type:"comment-threads:add-local",payload:a}),n({type:"entry:comment:screen_count_map:refresh"})
break
case"comments":var c=Tt.getState().find((function(e){return e.cid===a.cid}))
"update"!==o||c?"update"===o&&c?n({type:"comments:update-local",payload:a}):"destroy"===o&&c&&n({type:"comments:delete-local",payload:a}):n({type:"comments:add-local",payload:a})}}})
function cn(e,t){var n=t.getState,r=t.setState,i=n()
return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,o=arguments.length>1?arguments[1]:void 0
return o.type!==e?t:(r(o.payload||t),n())}}var ln=function(e){return e.reduce((function(e,t){return e[t.screen_cid]=(e[t.screen_cid]||0)+1,e}),{})},un={comments:cn("reducer:comments:update",Tt),commentThreads:cn("reducer:comment-threads:update",Bt),projects:cn("reducer:projects:update",Vt),screens:cn("reducer:screens:update",Jt),user:Object(we.createStateStoreReducer)("reducer:user:update",on)},dn=Object(je.composeWithDevTools)({})
var pn=function(e){var t=e.viewMap,n=e.containerReducerMap,r=e.extendCallback,i=new Se
if(t)for(var o in t)i.setView(o,t[o])
var a,s,c,l,u,d=(a={initialState:{model:{},container:{}},entryMap:C()(C()(C()({},sn),ft),{},{"entry:webpack-interface:view:call":function(e,t){var n=t.payload
setTimeout((function(){return i.callViewMethod.apply(i,[n.name,n.method].concat(ye()(n.args||{})))}),0)}}),reducerMap:{model:Object(xe.combineReducers)(un),container:Object(xe.combineReducers)(n)}},s=a.entryMap,c=a.reducerMap,l=Object(we.createReduxEntry)(),u=l.middleware,(0,l.setEntryMap)(s),{store:Object(xe.createStore)(Object(xe.combineReducers)(c),dn(Object(xe.applyMiddleware)(u)))}).store
return i.setStore(d),r&&r(i),i},fn=n(164),hn=n(10),mn=function(e){var t=function(t){l()(i,t)
var n=d()(i)
function i(e){var t
o()(this,i),t=n.call(this,e)
var r=e.previewMode,a=e.projectAlike,s=e.screenGlue,c=e.projectMeta,l=e.screenMeta,u=e.isPanelPreviewMode
return MB.runner.init({projectAlike:a,projectMeta:c,screenGlue:s,screenMeta:l},r,u),t}return s()(i,[{key:"componentWillUnmount",value:function(){MB.runner.clear()}},{key:"render",value:function(){var t=this.props.store,n=Object(O.N)(t.getState())
return Object(r.jsx)(b.Provider,{store:t,children:Object(r.jsx)(hn.ThemeProvider,{theme:fn.a[n],children:Object(r.jsx)(e,{})})})}}]),i}(g.PureComponent)
return f()(t,"propTypes",{store:m.a.object.isRequired,previewMode:m.a.string,isPanelPreviewMode:m.a.bool,projectAlike:m.a.object.isRequired,projectMeta:m.a.object.isRequired,screenGlue:m.a.object.isRequired,screenMeta:m.a.object.isRequired}),t},gn=function(e){var t,n,r,i=pn(pe)
return{runner:new J(i),messageBucket:(t=function(e){var t=e.type,n=e.payload
try{return ge[t]&&ge[t]({type:t,payload:n})}catch(e){console.warn("[request] error message data",e,t,n)}},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*"
e&&window.ReactNativeWebView?(console.log("sendtoapp",e,t),window.ReactNativeWebView.postMessage(JSON.stringify({event:e,payload:t}))):e&&window.parent.postMessage(JSON.stringify({event:e,payload:t}),n)},r=function(e){if(e.source!==window&&!e.origin.includes("qiyukf")&&e.data&&"string"==typeof e.data)try{var r=JSON.parse(e.data),i=r.event,o=r.type,a=void 0===o?i:o,s=r.payload,c=t({type:a,payload:void 0===s?{}:s})
c&&n(c.type,c.payload)}catch(t){console.warn("[receive] error message data",t,e)}},Object(P.a)()?document.addEventListener("message",r):window.addEventListener("message",r),{request:t,send:n,clear:function(){return window.removeEventListener("message",r)}}),webpackInterface:i,PreviewApp:mn(e)}}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return ce}))
var r=n(0),i=n(5),o=n(37),a=n.n(o),s=n(83),c=n(21),l=n(4),u=n.n(l),d={popupAlertModal:{isOpen:!1},loginModal:{isOpen:!1},teamSelectModal:{isOpen:!1},sharingModal:{isOpen:!1}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload
switch(n){case"modal:update:state":return u()(u()({},e),r)
case"modal:reset:state":return d
default:return e}},f=n(7),h=n.n(f),m=n(6),g=n.n(m),b=n(3),v=n.n(b),y=n(8),x=n.n(y),w=n(9),j=n.n(w),S=n(2),_=n.n(S),C=n(1),O=n.n(C),k=n(11),E=n.n(k),M=n(14),T=n.n(M),D=n(10),A=n.n(D),N=n(108),P=n.n(N),I=A()(P.a).withConfig({displayName:"styles__StyledLoginModal",componentId:"j5dnzr-0"})(["&.login-modal{width:384px;overflow:hidden;height:509px;header{display:none;}.content{height:100%;padding:0;iframe{width:100%;height:100%;border:0;}}}"]),L=function(e){x()(n,e)
var t=j()(n)
function n(){var e
h()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),_()(v()(e),"setComponentRef",(function(t){return e.modal=t})),e}return g()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.onConfirm,r=this
window.onmessage=function(){var e=T()(E.a.mark((function e(i){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"loginSuccess"===i.data?(t({type:"modal:update:state",payload:{loginModal:{isOpen:!1}}}),n()):"close"===i.data&&r.modal.close()
case 1:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClose,i=e.type,o="".concat(location.origin,"/embed/auth_box?type=").concat(i)
return Object(r.jsx)(I,{isOpen:t,onClose:n,ref:this.setComponentRef,className:"login-modal",children:Object(r.jsx)("iframe",{src:o})})}}]),n}(i.PureComponent)
_()(L,"propTypes",{isOpen:O.a.bool,type:O.a.string,dispatch:O.a.func,onConfirm:O.a.func,onClose:O.a.func}),_()(L,"defaultProps",{type:"signin"})
var B=n(35),F=A()(P.a).withConfig({displayName:"styles__StyledTeamSelectModal",componentId:"wz8jz9-0"})(["width:516px;border-radius:2px;height:595px;background-color:#fff;header{display:none;}.content{width:100%;height:100%;padding:0;}iframe{width:100%;height:100%;border:0;}"]),R=function(e){x()(i,e)
var t,n=j()(i)
function i(){var e
h()(this,i)
for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o]
return e=n.call.apply(n,[this].concat(r)),_()(v()(e),"setIframeRef",(function(t){return e.$iframe=t})),_()(v()(e),"onhandleFunc",(function(t){"close"===t.data?e.close():"submit"===t.data.msg&&e.onSubmit(t.data.param)})),_()(v()(e),"onSubmit",function(){var t=T()(E.a.mark((function t(n){var r,i
return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.target,i=e.props.onConfirm,e.close(),i(r)
case 4:case"end":return t.stop()}}),t)})))
return function(e){return t.apply(this,arguments)}}()),_()(v()(e),"close",(function(){(0,e.props.onClose)()})),e}return g()(i,[{key:"componentDidMount",value:(t=T()(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.addEventListener("message",this.onhandleFunc,!1)
case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.onhandleFunc,!1)}},{key:"render",value:function(){var e=this.props.isOpen,t={title:I18N.Popups.save_to,from:"workspace"}
return Object(r.jsx)(F,{isOpen:e,className:Object(B.trimList)(["TargetSelectingModal","select-common"]),onClose:this.close,children:Object(r.jsx)("iframe",{ref:this.setIframeRef,src:"/embed/folder_select?param=".concat(JSON.stringify(t))})})}}]),i}(i.PureComponent)
_()(R,"propTypes",{onClose:O.a.func,onConfirm:O.a.func,isOpen:O.a.bool})
var z=n(99),U=n.n(z),H=n(283),G=A()(P.a).withConfig({displayName:"styles__StyledPopupHelp",componentId:"qymrce-0"
})(["&{min-width:unset;}&.is-open{z-index:1100;}.Modal{background-color:#fff;@media (max-width:40rem){width:100%;}}a{&:link,&:visited{color:#eb5648;}&:hover,&:active{text-decoration:none;}}.desc{&{margin:0.25em 0;}& + .FormEntry{margin-top:1em;}}.Punctuation .Ellipsis{max-width:5em;}.desc.tertiary{margin:1em 0 0;font-size:12px;color:#8d9ea6;}.recycle{margin:0 0.25em;padding:0.4em 0.5em;border:1px solid #e5e5e5;border-radius:1px;color:#5b6b73;}.icon-recycle{font-size:1.1em;vertical-align:-0.15em;color:#eb5648;}.confirm-btn{font-weight:unset;}"]),V=n(40),W=function(e){
x()(n,e)
var t=j()(n)
function n(){return h()(this,n),t.apply(this,arguments)}return g()(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.type,i=e.alertType,o=e.title,a=e.desc,s=void 0===a?o:a,c=e.isHTML,l=e.onClose,u=e.onCancel,d=void 0===u?function(){return null}:u,p=e.onConfirm,f=e.canClose,h=e.canCancel,m=e.canConfirm,g=e.cancelText,b=void 0===g?I18N.dModule.cancel:g,v=e.confirmText,y=void 0===v?I18N.dModule.confirm:v,x=(MB.getCurrentDesignOptions()||{}).isWonderShare,w=h?function(){d&&d(),l&&l()
}:void 0,j=m?function(){p&&p(),l&&l()}:void 0
return Object(r.jsxs)(G,{isOpen:t,type:n,className:x?"wonder-share":"",portalClassName:Object(V.j)()?"popup-helper-portal is-mobile":"popup-helper-portal",title:o!==s&&o?o:I18N.dModule.reminder,onClose:function(){"function"==typeof d&&d(),l()},canClose:f,onCancel:w,onConfirm:j,cancelText:b,confirmText:y,children:[c?Object(r.jsx)("p",{className:"desc",dangerouslySetInnerHTML:{__html:s}}):Object(r.jsx)("div",{className:"desc",children:s}),"prompt"===i&&Object(r.jsx)(H.FormLabel,{name:I18N.dModule.password,
children:Object(r.jsx)(U.a,{type:"password",className:"prompt-pwd"})})]})}}]),n}(i.PureComponent)
_()(W,"propTypes",{isOpen:O.a.bool,type:O.a.string,alertType:O.a.oneOf(["confirm","alert","prompt"]),onClose:O.a.func,onCancel:O.a.func,onConfirm:O.a.func,canClose:O.a.bool,canCancel:O.a.bool,canConfirm:O.a.bool,confirmText:O.a.string,cancelText:O.a.string,title:O.a.string,desc:O.a.any,isHTML:O.a.bool}),_()(W,"defaultProps",{type:"alert"})
var Y=n(250),Z=n.n(Y),q=A()(Z.a).withConfig({displayName:"styles__StyledSharingModal",componentId:"d7dlfn-0"})(["&.sharing-modal{width:755px;overflow:hidden;height:480px;border-radius:2px;header{display:none;}.content{height:100%;padding:0;}.workspace-sharing-content{height:100%;background-color:#fff;&.dark{background-color:#363738;}}}"]),X=n(326),J=n(80),K=n(57),Q=n(13),$=n.n(Q),ee=function(e){x()(n,e)
var t=j()(n)
function n(){var e
h()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),_()(v()(e),"setComponentRef",(function(t){return e.modal=t})),_()(v()(e),"closeSharingModal",(function(){e.modal.close()})),e}return g()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onUpdateProject,r=t.extraInfo.isInNewGuide,i=window.SharingEventEmitter
i&&(i.on("imock:sharing:did-mount",(function(){Object(J.a)(10),Object(K.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Share",from:Object(K.a)()})})),i.on("imock:sharing:copy-url-sucess",(function(){r&&e.closeSharingModal(),Object(J.a)(11),Object(K.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Copy",from:Object(K.a)()})})),i.on("imock:sharing:update-sharing-project",(function(e){var t=e.updateSharingProject
n(t)})),i.on("imock:sharing:update-project-share",(function(e){var t=e.updateProjectShare
MB.action&&MB.action("current:update:state",{currentProjectShare:t})})))}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.onClose,i=e.isGuestMode,o=e.project,a=e.screenMetaList,s=e.theme,c=e.extraInfo
return Object(r.jsx)(q,{isOpen:t,ref:this.setComponentRef,onClose:n,className:"sharing-modal",canCloseOnEsc:!0,canCloseOnClickMask:!1,children:Object(r.jsx)("div",{className:$()("workspace-sharing-content",s),children:Object(X.a)({sharingProject:o,screenMetaList:a,isGuestMode:i,theme:s,className:"workspace",onClose:this.closeSharingModal,extraInfo:c})})})}}]),n}(i.PureComponent)
_()(ee,"propTypes",{isOpen:O.a.bool,project:O.a.object,extraInfo:O.a.object,screenMetaList:O.a.array,theme:O.a.string,isGuestMode:O.a.bool,onUpdateProject:O.a.func,onClose:O.a.func})
var te=n(45),ne=n.n(te)
function re(){var e=ne()(["\n  .popup-helper-portal {\n    &.ModalPortal {\n      z-index: 9999;\n\n      &.is-mobile {\n        padding: unset;\n        min-width: unset;\n\n        .Modal {\n          width: unset;\n        }\n      }\n    }\n\n    .wonder-share .confirm-btn {\n      color: #4257ff;\n    }\n  }\n"])
return re=function(){return e},e}var ie=Object(D.createGlobalStyle)(re()),oe=function(e){x()(n,e)
var t=j()(n)
function n(){var e
h()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),_()(v()(e),"handleCloseModal",(function(){(0,e.props.dispatch)({type:"modal:reset:state"})})),e}return g()(n,[{key:"render",value:function(){var e=this.props,t=e.loginModal,n=e.popupAlertModal,o=e.teamSelectModal,a=e.sharingModal,s=e.dispatch
return Object(r.jsxs)(i.Fragment,{children:[t.isOpen&&Object(r.jsx)(L,u()(u()({},t),{},{onClose:this.handleCloseModal,dispatch:s})),a.isOpen&&Object(r.jsx)(ee,u()(u()({},a),{},{onClose:this.handleCloseModal,dispatch:s})),o.isOpen&&Object(r.jsx)(R,u()(u()({},o),{},{onClose:this.handleCloseModal,dispatch:s})),n.isOpen&&Object(r.jsx)(W,u()(u()({},n),{},{onClose:this.handleCloseModal,dispatch:s})),Object(r.jsx)(ie,{})]})}}]),n}(i.PureComponent)
_()(oe,"propTypes",{loginModal:O.a.object,popupAlertModal:O.a.object,teamSelectModal:O.a.object,sharingModal:O.a.object,dispatch:O.a.func})
var ae=Object(c.connect)((function(e){return u()({},e)}))(oe),se={isInNewGuide:!1,isOnPremises:!1,canUploadToSquare:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"POPUP-HELPER-ROOT",t=document.createElement("div")
t.id=e,document.body.appendChild(t)
var n=Object(s.createStore)(p)
a.a.render(Object(r.jsx)(c.Provider,{store:n,children:Object(r.jsx)(ae,{})}),t)
var i=le(n.dispatch),o=i.confirmAsync,l=i.alertAsync,u=i.alertAsyncWide,d=i.alertAsyncBlocked,f=i.promptGetPasswordAsync,h=i.loginAsync,m=i.teamSelectModalAsync,g=i.sharingAsync
return{confirmAsync:o,alertAsync:l,alertAsyncWide:u,alertAsyncBlocked:d,promptGetPasswordAsync:f,loginAsync:h,teamSelectModalAsync:m,sharingAsync:g,destroy:function(){a.a.unmountComponentAtNode(t),t.remove()}}},le=function(e){return{confirmAsync:function(t){var n=t.title,r=t.desc,i=t.isHTML,o=t.confirmText,a=t.cancelText,s=t.isClose
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"alert",alertType:"confirm",canClose:!1!==s,canCancel:!0,canConfirm:!0,cancelText:a,confirmText:o,onCancel:function(){return t(!1)},onConfirm:function(){return t(!0)}}}})}))},alertAsync:function(t){var n=t.title,r=t.desc,i=t.isHTML,o=t.confirmText
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"alert",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:o,onConfirm:function(){return t()}}}})}))},alertAsyncWide:function(t){var n=t.title,r=t.desc,i=t.isHTML,o=t.confirmText
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"functional",alertType:"alert",canClose:!0,canCancel:!1,canConfirm:!0,confirmText:o,onConfirm:function(){return t()}}}})}))},alertAsyncBlocked:function(t){var n=t.title,r=t.desc,i=t.isHTML,o=t.confirmText
return new Promise((function(t){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,title:n,desc:r,isHTML:i,type:"alert",alertType:"alert",canClose:!1,canCancel:!1,canConfirm:!0,confirmText:o,onConfirm:function(){return t()}}}})}))},promptGetPasswordAsync:function(){return new Promise((function(t,n){return e({type:"modal:update:state",payload:{popupAlertModal:{isOpen:!0,type:"form",desc:I18N.dModule.credential_required,alertType:"prompt",canClose:!1,canCancel:!1,canConfirm:!0,onCancel:n,
onConfirm:function(){var e=(document.querySelector(".popup-helper-portal .FormModal .prompt-pwd input")||{}).value
return e?t(e):n()}}}})}))},loginAsync:function(t){var n=t.onCancel,r=void 0===n?function(){}:n,i=t.onConfirm,o=void 0===i?function(){}:i,a=t.type
return e({type:"modal:update:state",payload:{loginModal:{isOpen:!0,type:void 0===a?"signin":a,onCancel:r,onConfirm:o}}})},teamSelectModalAsync:function(t){var n=t.onCancel,r=void 0===n?function(){}:n,i=t.onConfirm
return e({type:"modal:update:state",payload:{teamSelectModal:{isOpen:!0,onCancel:r,onConfirm:void 0===i?function(){}:i}}})},sharingAsync:function(t){var n=t.project,r=t.theme,i=t.isGuestMode,o=t.screenMetaList,a=void 0===o?[]:o,s=t.onUpdateProject,c=void 0===s?function(){}:s,l=t.extraInfo
return e({type:"modal:update:state",payload:{sharingModal:{isOpen:!0,project:n,theme:r,extraInfo:void 0===l?se:l,isGuestMode:i,screenMetaList:a,onUpdateProject:c}}})}}}},function(e,t,n){"use strict"
var r=n(21),i=n(20),o=n(16),a=n(53),s=n(41),c=n(0),l=n(7),u=n.n(l),d=n(6),p=n.n(d),f=n(3),h=n.n(f),m=n(8),g=n.n(m),b=n(9),v=n.n(b),y=n(2),x=n.n(y),w=n(1),j=n.n(w),S=n(5),_=n(254),C=n(251),O=n(252),k=n(95),E=n(10),M=n.n(E).a.div.withConfig({displayName:"styles__StyledLeftPane",componentId:"sc-1wd8vmx-0"
})(["position:relative;height:100%;transition:all 0.3s ease-in-out;z-index:100;.preview-panel-wrapper{position:absolute;top:0;right:0;height:100%;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}"]),T=function(e){g()(n,e)
var t=v()(n)
function n(){var e
u()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),x()(h()(e),"toggleMinimized",(function(){e.props.dispatch({type:"entry:preview-setting:toggle:isMinimized"})})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.isLayerPanelShow,n=e.isCommentPanelShow,r=e.isScreenPanelShow,i=e.isFullScreenMode,o=e.isMinimized
if(!(t||n||r))return null
var a=r?240:260
return Object(c.jsxs)(M,{id:"mb-preview-leftpane",className:i?"is-fullscreen-mode":"",style:{width:o?0:a},children:[r&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"preview-panel-wrapper",children:Object(c.jsx)(C.a,{})}),Object(c.jsx)(_.a,{placement:"right",isMinimized:o,onClick:this.toggleMinimized})]}),t&&Object(c.jsx)(O.a,{}),n&&Object(c.jsx)(k.a,{})]})}}]),n}(S.PureComponent)
x()(T,"propTypes",{toolbarActiveItem:j.a.string,isScreenPanelShow:j.a.bool,isLayerPanelShow:j.a.bool,isCommentPanelShow:j.a.bool,isMinimized:j.a.bool,isFullScreenMode:j.a.bool,dispatch:j.a.func})
var D=Object(i.createSelector)([o.A,o.b,o.r,o.m,o.p],(function(e,t,n,r,i){return{toolbarActiveItem:t,isScreenPanelShow:e!==s.b&&n,isLayerPanelShow:e===s.b&&t===a.b,isCommentPanelShow:e===s.b&&t===a.a,isFullScreenMode:r,isMinimized:i}}))
t.a=Object(r.connect)((function(e){return D(e)}))(T)},function(e,t,n){"use strict"
n.d(t,"a",(function(){return x}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y="wMK1OqaQWF9Z0kqIS0ERZ",x=function(e){d()(n,e)
var t=f()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),m()(l()(e),"handleResize",(function(){var t=e.elem.getBoundingClientRect()
e.props.onResize(t)})),e}return s()(n,[{key:"componentDidMount",value:function(){this.elem.contentWindow.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){var e=this.elem.contentWindow
e&&e.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this
return Object(r.jsx)("iframe",{ref:function(t){return e.elem=t},className:y})}}]),n}(v.PureComponent)
x.propTypes={onResize:b.a.func.isRequired}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(13),x=n.n(y),w=n(10),j=n.n(w).a.div.withConfig({displayName:"styles__StyledBorderResizer",componentId:"sc-12ref3q-0"
})(["position:absolute;z-index:3;.v-resizer{z-index:11;}&.top,&.bottom{left:0;width:100%;height:3px;cursor:ns-resize;}&.top{top:1px;}&.bottom{bottom:-1px;}&.left,&.right{top:0;width:3px;height:100%;cursor:ew-resize;}&.left{left:1px;}&.right{right:0;}&:hover,&.active{background:",";}"],(function(e){return e.theme.borderResizer.bg})),S=function(e){d()(n,e)
var t=f()(n)
function n(){var e
return o()(this,n),e=t.call(this),m()(l()(e),"handleDown",(function(t){t.preventDefault()
var n=e.props,r=n.placement,i=n.value,o=n.onResizeStart,a=n.onResizeEnd,s=n.onChange,c=["left","right"].includes(r),l=c?t.clientX:t.clientY,u=["bottom","right"].includes(r)?1:-1
e.setState({active:!0}),o()
var d=function(t){var n=e.props,r=n.min,o=n.max,a=((c?t.clientX:t.clientY)-l)*u,d=Math.max(Math.min(i+a,o),r)
s(d)}
document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function t(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t),e.setState({active:!1}),a()}))})),e.state={active:!1},e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.placement,n=e.className,i=this.state.active
return Object(r.jsx)(j,{className:x()("border-resizer",n,t,{active:i}),onMouseDown:this.handleDown})}}]),n}(v.Component)
m()(S,"propTypes",{placement:b.a.oneOf(["top","left","right","bottom"]),min:b.a.number,max:b.a.number,className:b.a.string,value:b.a.number,onChange:b.a.func,onResizeStart:b.a.func,onResizeEnd:b.a.func}),m()(S,"defaultProps",{onResizeStart:function(){return null},onResizeEnd:function(){return null}})},function(e,t,n){"use strict"
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(8),l=n.n(c),u=n(9),d=n.n(u),p=n(2),f=n.n(p),h=n(1),m=n.n(h),g=n(5),b=n(10),v=n.n(b).a.ul.withConfig({displayName:"styles__StyledScreenList",componentId:"sc-1bsifuu-0"})(["&,ol,li{list-style:none;}"]),y=Object(g.memo)((function(e){var t=e.isExpandTree,n=e.activeScreenMetaCid,i=e.editingScreenMetaCid,o=e.targetlinkCid,a=e.screenSelection,s=e.collapseScreenMetaCidSet,c=e.renderScreenMetaItem,l=e.screenTreeData,u=e.dummySelect
return Object(r.jsx)(v,{children:l.children.map((function(e){return Object(r.jsx)(x,{treeNode:e,depth:0,isExpandTree:t,screenSelection:a,collapseScreenMetaCidSet:s,activeScreenMetaCid:n,editingScreenMetaCid:i,targetlinkCid:o,renderScreenMetaItem:c,dummySelect:u},e.cid)}))})}))
y.propTypes={isExpandTree:m.a.bool,activeScreenMetaCid:m.a.string,editingScreenMetaCid:m.a.string,targetlinkCid:m.a.string,screenTreeData:m.a.object,collapseScreenMetaCidSet:m.a.object,screenSelection:m.a.array,dummySelect:m.a.object,renderScreenMetaItem:m.a.func},y.defaultProps={isExpandTree:!1,activeScreenMetaCid:"",editingScreenMetaCid:"",targetlinkCid:"",collapseScreenMetaCidSet:new Set,screenSelection:[],dummySelect:new Set}
t.a=y
var x=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.treeNode,i=e.depth,o=e.isExpandTree,a=e.activeScreenMetaCid,s=e.editingScreenMetaCid,c=e.targetlinkCid,l=e.screenSelection,u=e.collapseScreenMetaCidSet,d=e.renderScreenMetaItem,p=e.dummySelect,f=t.cid,h=t.data,m=t.children,g=!!o||!u.has(f),b=Boolean(m.length)
return Object(r.jsxs)("li",{"data-cid":f,className:"rn-content-item",children:[d({depth:i,screenMeta:h,hasScreenMetaChildren:b,collapseScreenMetaCidSet:u,screenSelection:l,activeScreenMetaCid:a,editingScreenMetaCid:s,targetlinkCid:c,dummySelect:p}),m.length>0&&g&&Object(r.jsx)("ol",{type:"screen-list",className:"child-screens",children:m.map((function(e){return Object(r.jsx)(n,{treeNode:e,depth:i+1,isExpandTree:o,screenSelection:l,collapseScreenMetaCidSet:u,activeScreenMetaCid:a,editingScreenMetaCid:s,
targetlinkCid:c,renderScreenMetaItem:d,dummySelect:p},e.cid)}))})]})}}]),n}(g.PureComponent)
f()(x,"propTypes",{treeNode:m.a.object,depth:m.a.number,isExpandTree:m.a.bool,activeScreenMetaCid:m.a.string,editingScreenMetaCid:m.a.string,targetlinkCid:m.a.string,collapseScreenMetaCidSet:m.a.object,dummySelect:m.a.object,screenSelection:m.a.array,renderScreenMetaItem:m.a.func})},,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return g}))
var r=n(26),i=n.n(r),o=n(258),a=o.HOSTED_COMMERCIAL_FANGZHENG_LIST,s=o.HOSTED_COMMON_LIST,c=o.WESTERN_COMMON_LIST,l=[].concat(i()(a),i()(s),i()(c)),u=function(e){return{label:e.label,value:e.family,limitedDevices:e.limitedDevices}},d=a.map(u),p=s.map(u),f=c.map(u),h=function(e){return{regular:I18N.dUtils.rich_text_settings.weight.regular,light:I18N.dUtils.rich_text_settings.weight.light,bold:I18N.dUtils.rich_text_settings.weight.bold}[e]},m=function(e){var t=l.find((function(t){return t.family===e}))
return t?t.typeList.map((function(e){return{label:h(e),value:e}})):[]},g=function(e,t){var n=a.find((function(t){return t.family===e}))
return n?"".concat(n.label,"-").concat(h(t)):"".concat(e,"-").concat(t)}},,,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0
var i=r(n(159)),o=r(n(141)),a=(r(n(1)),r(n(5))),s=r(n(37)),c=r(n(294)),l=(n(295),r(n(228)))
t.UNMOUNTED="unmounted"
t.EXITED="exited"
t.ENTERING="entering"
t.ENTERED="entered"
t.EXITING="exiting"
var u=function(e){function t(t,n){var r
r=e.call(this,t,n)||this
var i,o=n&&!n.isMounting?t.enter:t.appear
return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}(0,o.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null}
var n=t.prototype
return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null
if(e!==this.props){var n=this.state.status
this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout
return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){
var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.default.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),u=r?l.appear:l.enter
!e&&!n||c.default.disabled?this.safeSetState({status:"entered"},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:"entering"},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.default.findDOMNode(this)
t&&!c.default.disabled?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},
n.setNextCallback=function(e){var t=this,n=!0
return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t)
var n=this.props.nodeRef?this.props.nodeRef.current:s.default.findDOMNode(this),r=null==e&&!this.props.addEndListener
if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1]
this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status
if("unmounted"===e)return null
var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]))
return a.default.createElement(l.default.Provider,{value:null},"function"==typeof n?n(e,r):a.default.cloneElement(a.default.Children.only(n),r))},t}(a.default.Component)
function d(){}u.contextType=l.default,u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},u.UNMOUNTED="unmounted",u.EXITED="exited",u.ENTERING="entering",u.ENTERED="entered",u.EXITING="exiting"
var p=u
t.default=p},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(5)).default.createContext(null)
t.default=i},function(e,t,n){"use strict"
var r=n(534)(Object.getPrototypeOf,Object)
e.exports=r},function(e,t,n){"use strict"
var r=n(527)
e.exports=function(e){var t=new e.constructor(e.byteLength)
return new r(t).set(new r(e)),t}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSaver=t.DEFAULT_AUTO_SAVE_DELAY=void 0
var i=r(n(11)),o=r(n(14)),a=n(670),s=n(137),c=n(195)
t.DEFAULT_AUTO_SAVE_DELAY=2e4
var l=function(){}
t.createSaver=function(e){var t=e.name,n=e.doSave,r=e.onSaverError,u=e.beforeSave,d=void 0===u?l:u,p=e.afterSave,f=void 0===p?l:p,h=e.autoSaveDelay,m=void 0===h?2e4:h,g=!1,b={},v=Promise.resolve(),y=function(e){b=e},x=function(){!g&&(0,o.default)(i.default.mark((function e(){var r,o,s,l,u
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(t),r=(0,c.createInsideOutPromise)(),o=r.promise,s=r.resolve,v=o,g=!0,e.next=6,(0,a.catchAsync)(n,y)
case 6:if(l=e.sent,(u=l.error)&&console.error("[Error][Saver|".concat(t,"]"),b,u),u&&Object.assign(u,{name:t,autoSaveDelay:m,savingState:b}),g=!1,b={},!u){e.next=14
break}throw u
case 14:s(),f(t)
case 16:case"end":return e.stop()}}),e)})))().catch(r)},w=(0,s.createTimer)({func:x,delay:m}),j=w.start,S=w.stop
return{getIsSaving:function(){return g},getSavingState:function(){return b},getSavingPromise:function(){return v},getIsActive:w.isActive,getAutoSaveDelay:w.getDelay,setAutoSaveDelay:w.setDelay,startTimer:j,stopTimer:S,triggerSave:x}}},function(e,t,n){"use strict"
var r=n(92)("socket.io-parser"),i=n(125),o=n(472),a=n(233),s=n(307)
function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d
var l=t.ERROR+'"encode error"'
function u(e){var n=""+e.type
if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(n+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(n+=e.nsp+","),null!=e.id&&(n+=e.id),null!=e.data){var i=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data)
if(!1===i)return l
n+=i}return r("encoded %j as %s",e,n),n}function d(){this.reconstructor=null}function p(e){this.reconPack=e,this.buffers=[]}function f(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){o.removeBlobs(e,(function(e){var n=o.deconstructPacket(e),r=u(n.packet),i=n.buffers
i.unshift(r),t(i)}))}(e,n):n([u(e)])},i(d.prototype),d.prototype.add=function(e){var n
if("string"==typeof e)n=function(e){var n=0,i={type:Number(e.charAt(0))}
if(null==t.types[i.type])return f("unknown packet type "+i.type)
if(t.BINARY_EVENT===i.type||t.BINARY_ACK===i.type){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var s=e.substring(o,n)
if(s!=Number(s)||"-"!==e.charAt(n))throw new Error("Illegal attachments")
i.attachments=Number(s)}if("/"===e.charAt(n+1)){for(o=n+1;++n;){if(","===(l=e.charAt(n)))break
if(n===e.length)break}i.nsp=e.substring(o,n)}else i.nsp="/"
var c=e.charAt(n+1)
if(""!==c&&Number(c)==c){for(o=n+1;++n;){var l
if(null==(l=e.charAt(n))||Number(l)!=l){--n
break}if(n===e.length)break}i.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){var u=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(n))
if(!(!1!==u&&(i.type===t.ERROR||a(u))))return f("invalid payload")
i.data=u}return r("decoded %s as %j",e,i),i}(e),t.BINARY_EVENT===n.type||t.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n)
else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e)
if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers)
return this.finishedReconstruction(),t}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict"
var r={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";(function(e){var r=n(473),i=n(474),o=n(475)
function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length")
return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n)
if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string")
return d(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number')
return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds")
if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds")
t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r)
c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t)
return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8")
if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding')
var r=0|h(t,n),i=(e=s(e,r)).write(t,n)
i!==r&&(e=e.slice(0,i))
return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|f(t.length)
return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t)
if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r
throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')
if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0
return e}function p(e,t){var n=t.length<0?0:0|f(t.length)
e=s(e,n)
for(var r=0;r<n;r+=1)e[r]=255&t[r]
return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes")
return 0|e}function h(e,t){if(c.isBuffer(e))return e.length
if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength
"string"!=typeof e&&(e=""+e)
var n=e.length
if(0===n)return 0
for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n
case"utf8":case"utf-8":case void 0:return z(e).length
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n
case"hex":return n>>>1
case"base64":return U(e).length
default:if(r)return z(e).length
t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1
if((void 0===t||t<0)&&(t=0),t>this.length)return""
if((void 0===n||n>this.length)&&(n=this.length),n<=0)return""
if((n>>>=0)<=(t>>>=0))return""
for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n)
case"utf8":case"utf-8":return O(this,t,n)
case"ascii":return k(this,t,n)
case"latin1":case"binary":return E(this,t,n)
case"base64":return C(this,t,n)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n)
default:if(r)throw new TypeError("Unknown encoding: "+e)
e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t]
e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1
if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1
n=e.length-1}else if(n<0){if(!i)return-1
n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i)
if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i)
throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,c=t.length
if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1
a=2,s/=2,c/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1
for(o=n;o<s;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var d=!0,p=0;p<c;p++)if(l(e,o+p)!==l(t,p)){d=!1
break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0
var i=e.length-n
r?(r=Number(r))>i&&(r=i):r=i
var o=t.length
if(o%2!=0)throw new TypeError("Invalid hex string")
r>o/2&&(r=o/2)
for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16)
if(isNaN(s))return a
e[n+a]=s}return a}function x(e,t,n,r){return H(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n))
return t}(t),e,n,r)}function j(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return H(U(t),e,n,r)}function _(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)
return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n)
for(var r=[],i=t;i<n;){var o,a,s,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1
if(i+d<=n)switch(d){case 1:l<128&&(u=l)
break
case 2:128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)>127&&(u=c)
break
case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&l)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c)
break
case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length
if(t<=4096)return String.fromCharCode.apply(String,e)
var n="",r=0
for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096))
return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0)
return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1)
return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{
value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers")
if(e===t)return 0
for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i]
break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0
default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers')
if(0===e.length)return c.alloc(0)
var n
if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length
var r=c.allocUnsafe(t),i=0
for(n=0;n<e.length;++n){var a=e[n]
if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers')
a.copy(r,i),i+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length
if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits")
for(var t=0;t<e;t+=2)g(this,t,t+1)
return this},c.prototype.swap32=function(){var e=this.length
if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits")
for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2)
return this},c.prototype.swap64=function(){var e=this.length
if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits")
for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4)
return this},c.prototype.toString=function(){var e=0|this.length
return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES
return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index")
if(r>=i&&t>=n)return 0
if(r>=i)return-1
if(t>=n)return 1
if(this===e)return 0
for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){o=l[d],a=u[d]
break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0
else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0
else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")
t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t
if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds")
r||(r="utf8")
for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n)
case"utf8":case"utf-8":return x(this,e,t,n)
case"ascii":return w(this,e,t,n)
case"latin1":case"binary":return j(this,e,t,n)
case"base64":return S(this,e,t,n)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,n)
default:if(o)throw new TypeError("Unknown encoding: "+r)
r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}}
function k(e,t,n){var r=""
n=Math.min(e.length,n)
for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i])
return r}function E(e,t,n){var r=""
n=Math.min(e.length,n)
for(var i=t;i<n;++i)r+=String.fromCharCode(e[i])
return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r)
for(var i="",o=t;o<n;++o)i+=R(e[o])
return i}function T(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1])
return i}function D(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint")
if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance')
if(t>i||t<o)throw new RangeError('"value" argument is out of bounds')
if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1)
for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(e,t,n,r){t<0&&(t=4294967295+t+1)
for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function I(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range")
if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||I(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||I(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length
if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype
else{var i=t-e
n=new c(i,void 0)
for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length)
for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i
return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length)
for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i
return r},c.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])
},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length)
for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i
return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length)
for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i
return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||D(e,2,this.length)
var n=this[e]|this[e+1]<<8
return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||D(e,2,this.length)
var n=this[e+1]|this[e]<<8
return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){
return t||D(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0)
var i=1,o=0
for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255
return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0)
var i=n-1,o=1
for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255
return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){
return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1)
A(this,e,t,n,i-1,-i)}var o=0,a=1,s=0
for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255
return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1)
A(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0
for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255
return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},
c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},
c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0
if(0===e.length||0===this.length)return 0
if(t<0)throw new RangeError("targetStart out of bounds")
if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds")
if(r<0)throw new RangeError("sourceEnd out of bounds")
r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n)
var i,o=r-n
if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n]
else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n]
else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t)
return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0)
i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string")
if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255)
if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index")
if(n<=t)return this
var o
if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e
else{var a=c.isBuffer(e)?e:z(new c(e,r).toString()),s=a.length
for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this}
var F=/[^+\/0-9A-Za-z-_]/g
function R(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n
t=t||1/0
for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189)
continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189)
continue}i=n
continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n
continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189)
if(i=null,n<128){if((t-=1)<0)break
o.push(n)}else if(n<2048){if((t-=2)<0)break
o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break
o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point")
if((t-=4)<0)break
o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return""
for(;e.length%4!=0;)e+="="
return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i]
return i}}).call(this,n(263))},function(e,t,n){"use strict"
var r=n(478),i=n(236)
e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR
try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){"use strict"
e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,n){"use strict"
var r=n(126),i=n(125)
function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,
this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e)
return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open")
this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType)
this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}))
var r=n(0),i=n(1),o=n.n(i),a=n(5),s=n(13),c=n.n(s),l=n(36),u=n.n(l),d=n(15),p=n(274),f=n(121),h=n(148),m=Object(a.memo)((function(e){var t=e.widget,n=e.className,i=e.isDynamic,o=t.name,a=t.icon,s=t.expanded
switch(o){case"panel":return i?Object(r.jsx)(d.a,{className:c()(n,"design-dynamic-new"),name:"design/dynamic/new"}):Object(r.jsx)(d.a,{className:c()(n,"design-master-new"),name:"design/master/new"})
case"icon_button":case"svg_icon_button":var l=a.slice(0,a.indexOf("-")),p=a.slice(a.indexOf("-")+1)
return["fa","mb","md","ci","fa5","antOutline","antFill"].includes(l)?Object(r.jsx)(g,{type:l,name:p,iconName:a,className:"icon"}):Object(r.jsx)(u.a,{className:c()("icon",n),type:"fa",name:"smile-o"})
case"svg_icon_path":var h=t.view_box,m=t.path
return Object(r.jsx)(v,{view_box:h,path:m})
case"group":var b=s?"design/group_open":"design/group_close"
return Object(r.jsx)(d.a,{className:c()("icon","group-icon",n),name:b})
default:var y=f.d[o]
return y?y.svg_icon?Object(r.jsx)(d.a,{className:c()(n,"design-".concat(y.svg_icon,"-new")),name:"design/".concat(y.svg_icon,"/new")}):"text"===y.icon_name?Object(r.jsx)(d.a,{className:c()(n,"design-".concat(y.icon_name)),name:"design/text/new"}):"ios_check"===y.name||"android_check"===y.name?Object(r.jsx)(d.a,{className:c()(n,'design-checkbox-new"'),name:"design/checkbox/new"}):"android_radio"===y.name?Object(r.jsx)(d.a,{className:c()(n,"design-android_radio-new"),name:"design/android_radio/new"
}):"battery"===y.icon_name?Object(r.jsx)(d.a,{className:c()(n,"design-".concat(y.icon_name,"-new")),name:"design/".concat(y.icon_name,"/new")}):y.name.includes("keyboard")?Object(r.jsx)(d.a,{className:c()(n,"design-keyboard-new"),name:"design/keyboard/new"}):y.name.includes("switch")?Object(r.jsx)(d.a,{className:c()(n,"design-switch-new"),name:"design/switch/new"}):"nav_bar"===y.name?Object(r.jsx)(d.a,{className:c()(n,"design-nav-bar-new"),name:"design/nav_bar/new"}):Object(r.jsx)("i",{
className:c()("icon","icon-widget-".concat(y.icon_name||""),n)}):null}}))
m.propTypes={widget:o.a.object,isDynamic:o.a.bool,className:o.a.string}
var g=Object(a.memo)((function(e){var t=e.name,n=e.type,i=e.iconName,o=e.className,a="fa5"===n,s="antOutline"===n||"antFill"===n,c=(a||s)&&p.b[i]
return a?Object(r.jsx)("span",{className:"icon ".concat(c.type," ").concat(c.lib," fa-").concat(c.id)}):s?Object(r.jsx)(b,{iconId:c.id,iconType:c.type}):Object(r.jsx)(u.a,{type:n,name:t,className:o})}))
g.propTypes={name:o.a.string,iconName:o.a.string,type:o.a.string,className:o.a.string}
var b=Object(a.memo)((function(e){var t=e.iconId,n="antOutline"===e.iconType?Object(h.b)(t):Object(h.a)(t),i=n.viewBox,o=n.path
return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ant-icon svg-icon",viewBox:i,dangerouslySetInnerHTML:{__html:o}})}))
b.propTypes={iconId:o.a.string,iconType:o.a.string}
var v=Object(a.memo)((function(e){var t=e.view_box,n=e.path
return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon svg-icon",viewBox:t,dangerouslySetInnerHTML:{__html:n}})}))
v.propTypes={view_box:o.a.string,path:o.a.string},t.c=m},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return T}))
var r=n(4),i=n.n(r),o=n(0),a=n(43),s=n.n(a),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),f=n.n(p),h=n(8),m=n.n(h),g=n(9),b=n.n(g),v=n(2),y=n.n(v),x=n(1),w=n.n(x),j=n(5),S=n(249),_=n.n(S),C=n(10),O=n.n(C)()(_.a).withConfig({displayName:"styles__StyledGuideButton",componentId:"sc-17u1rei-0"
})(["&.guide-button.Guide{min-width:270px;&.mac .for-others,&.windows .for-mac,&.other-os .for-mac{display:none;}.content{color:#7d8694;background-color:",";}&.sidebar-guide{margin-right:-28px;}p{line-height:32px;}kbd{display:inline-block;min-width:20px;height:19px;font-size:12px;line-height:20px;text-align:center;color:#5b6b73;background:#ececec;box-shadow:0 1px 0 0 #c0c0c5;border-radius:2px;&.for-others{min-width:42px;}}.plus{margin:0 4px;color:#415058;}.mouse{color:#415058;}}#IBOT_GUIDE_GUIDE_ROOT .GuideBase{z-index:2;}"],(function(e){
return e.theme.common.bg.white_bg})),k=n(27),E=n(40),M=function(e){return Object(k.e)("guide_closed_".concat(e),!0)},T=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"setGuideRef",(function(t){return e.guide=t})),y()(f()(e),"handleCloseGuideManually",(function(){M(e.props.id)})),y()(f()(e),"autoClose",(function(){var t=e.props,n=t.duration,r=t.autoClose,i=t.id
t.isOpen&&n&&(e.timer=setTimeout((function(){r(),M(i)}),n))})),e}return d()(n,[{key:"componentDidUpdate",value:function(e){e.isOpen!==this.props.isOpen&&this.autoClose()}},{key:"componentWillUnmout",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.isOpen,r=e.children,a=e.localeKey,c=e.position,l=e.className,u=e.gotItText,d=void 0===u?I18N.GuideButton.guide_base.got_it:u,p=s()(e,["id","isOpen","children","localeKey","position","className","gotItText"])
if(function(e){return"true"===Object(k.b)("guide_closed_".concat(e))}(t))return r
var f=I18N.GuideButton.guide_base[a||t],h=f.header,m=f.content,g=Object(E.i)()?"mac":Object(E.n)()?"windows":"other-os"
return Object(o.jsx)(O,i()(i()({ref:this.setGuideRef,isOpen:n,position:c,onClose:this.handleCloseGuideManually,className:"".concat(["guide-button"]," ").concat(g," ").concat(l),header:h,guide:Object(o.jsx)("div",{dangerouslySetInnerHTML:{__html:m}}),gotItText:d,X:"right"},p),{},{children:r}))}}]),n}(j.PureComponent)
y()(T,"propTypes",{id:w.a.string.isRequired,isOpen:w.a.bool,duration:w.a.number,localeKey:w.a.string,children:w.a.element,autoClose:w.a.func,className:w.a.string,gotItText:w.a.object,position:w.a.string})},function(e,t,n){"use strict"
var r=n(188),i=n(168)
e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])]
return n&&n==o?e:void 0}},function(e,t,n){"use strict"
var r=n(223),i=n(229),o=n(112),a=Function.prototype,s=Object.prototype,c=a.toString,l=s.hasOwnProperty,u=c.call(Object)
e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1
var t=i(e)
if(null===t)return!0
var n=l.call(t,"constructor")&&t.constructor
return"function"==typeof n&&n instanceof n&&c.call(n)==u}},function(e,t,n){"use strict"
var r=n(298)
e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict"
e.exports=function(e){return e}},,function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=n(37),s=r(n(1)),c=i(n(38)),l=r(n(59)),u=r(n(69)),d=r(n(55)),p=n(35),f=n(132),h=r(n(10))
function m(){
var e=b(["\n  position: absolute;\n  margin: 0.75em 0;\n  min-width: 10em;\n  font-size: 12px;\n  filter: drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.2s ease-in-out;\n  transition-property: transform, opacity;\n  transform-origin: 50% 0;\n  transform: scale(0.9);\n  &.arrowed {\n    margin: 0.75em 0;\n  }\n  &.is-open {\n    pointer-events: initial;\n    opacity: 1;\n    transform: scale(1);\n  }\n  &.x-left {\n    left: 0;\n  }\n  &.x-right {\n    left: initial;\n    right: 0;\n  }\n  &.x-center {\n    left: 50%;\n    transform: scale(0.9) translateX(-50%);\n    &.is-open {\n      transform: scale(1) translateX(-50%);\n    }\n  }\n  &.is-downward {\n    top: 100%;\n    bottom: initial;\n  }\n  &.is-upward {\n    top: initial;\n    bottom: 100%;\n  }\n  .arrow {\n    position: absolute;\n    top: calc(-0.28em + 1px);\n    left: calc(50% - 0.5em);\n    font-size: 28px;\n    line-height: 0;\n    color: #fff;\n  }\n  &.x-left .arrow {\n    left: 1em;\n    right: initial;\n  }\n  &.x-right .arrow {\n    left: initial;\n    right: 1em;\n  }\n  svg {\n    width: 1em;\n    height: 0.28em;\n    fill: currentColor;\n    fill-rule: evenodd;\n  }\n\n  &.is-upward .arrow {\n    top: initial;\n    bottom: calc(-0.28em + 1px);\n  }\n  &.is-downward .arrow {\n    transform: rotate(180deg);\n  }\n\n  .content {\n    position: relative;\n    padding: 1.5em 1.5em 1em;\n    min-height: 32px;\n    font-size: 14px;\n    line-height: 2;\n    background-color: #fff;\n    border-radius: 4px;\n    color: #8d9ea7;\n  }\n  header {\n    margin: 0.25em 0 10px;\n    font-size: 16px;\n    font-weight: bold;\n    line-height: 1.2;\n    color: #415058;\n  }\n  .close-btn {\n    position: absolute;\n    top: 0.5em;\n    right: 0.5em;\n    font-size: 14px;\n    color: #c8cdd1;\n    svg {\n      width: 12px;\n      height: 12px;\n\n      .fore {\n        fill: #fff;\n      }\n    }\n  }\n  footer {\n    margin-top: 0.75em;\n    text-align: end;\n    button:enabled:hover {\n      text-decoration: none;\n      opacity: 0.8;\n    }\n  }\n"])
return m=function(){return e},e}function g(){var e=b(["\n  position: fixed;\n  pointer-events: none;\n"])
return g=function(){return e},e}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=h.default.div(g()),y=h.default.div(m())
function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=k(e)
if(t){var i=k(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return C(this,n)}}function C(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=window.I18N,T=void 0===M?{}:M,D=document.getElementById("IBOT_GUIDE_GUIDE_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_GUIDE_GUIDE_ROOT"}),A=document.body
A.contains(D)||A.appendChild(D)
var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e)
var t,n,r,i=_(s)
function s(){var e
w(this,s)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return E(O(e=i.call.apply(i,[this].concat(n))),"state",{prevProps:e.props,isOpen:e.props.isOpen,isDownward:"bottom"===e.props.Y}),E(O(e),"portal",(0,p.preparePortal)(D,"GuidePortal")),E(O(e),"position",(function(){var t=O(e),n=t.$base,r=t.$guide,i=e.props,o=i.X,a=i.Y,s=i.inflexible,c=(0,f.positionMenu)({$menuBase:r,$opener:n,menuX:o,menuY:a,inflexible:s}).isDownward
e.setState({isDownward:c})})),E(O(e),"set$base",(function(t){return Object.assign(O(e),{$base:t})})),E(O(e),"set$guide",(function(t){return Object.assign(O(e),{$guide:t})})),E(O(e),"close",(function(){return e.setState({isOpen:!1},e.props.onClose)})),E(O(e),"onScrollOutside",e.position),e}return t=s,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return t.isOpen,(0,l.default)(n,e)?null:{prevProps:e,isOpen:e.isOpen}}}],(n=[{key:"componentDidMount",value:function(){this.state.isOpen&&this.position()}},{key:"componentDidUpdate",value:function(e,t){var n=t.isOpen,r=this.state.isOpen
!n&&r&&this.position()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove()}},{key:"render",value:function(){var e=this.props.children,t=void 0===e?null:e,n=(0,o.isValidElement)(t)?(0,o.cloneElement)(t,{ref:this.set$base}):o.default.createElement("span",{ref:this.set$base},t),r=(0,a.createPortal)(this.renderGuide(),this.portal)
return o.default.createElement(o.Fragment,null,n,r)}},{key:"renderGuide",value:function(){var e=this.props,t=e.className,n=e.noCloseBtn,r=e.X,i=e.header,a=e.gotItText,s=e.gotItBtn,l=e.guide,f=this.state,h=f.isOpen,m=f.isDownward,g=(0,p.trimList)(["Guide",h&&"is-open",m?"is-downward":"is-upward","x-".concat(r),t])
return o.default.createElement(v,{className:"GuideBase",ref:this.set$guide},o.default.createElement(y,{className:g},o.default.createElement("span",{className:"arrow",dangerouslySetInnerHTML:{__html:p.SVG.GUIDE_ARROW}}),o.default.createElement("div",{className:"content"},i&&o.default.createElement("header",null,i),!n&&o.default.createElement("button",{className:"close-btn",onClick:this.close},o.default.createElement(d.default,{name:"close"
})),l,s&&o.default.createElement("footer",null,o.default.createElement(u.default,{type:"text",onClick:this.close},a))),h&&o.default.createElement(c.default,{target:document,onScroll:(0,c.withOptions)(this.onScrollOutside,{capture:!0})})))}}])&&j(t.prototype,n),r&&j(t,r),s}(o.PureComponent)
E(N,"propTypes",{isOpen:s.default.bool,header:s.default.any,noCloseBtn:s.default.bool,gotItBtn:s.default.bool,onClose:s.default.func,gotItText:s.default.any,className:s.default.string,children:s.default.node,guide:s.default.any,X:s.default.oneOf(["left","center","right"]),Y:s.default.oneOf(["top","bottom"]),inflexible:s.default.bool}),E(N,"defaultProps",{isOpen:!1,noCloseBtn:!1,iKonwBtn:!1,onClose:function(){return null},gotItText:T.iknow||"Got it!",X:"left",Y:"bottom",inflexible:!1})
var P=N
t.default=P},function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=n(37),s=r(n(1)),c=r(n(38)),l=r(n(91)),u=r(n(279)),d=r(n(59)),p=i(n(69)),f=r(n(55)),h=r(n(81)),m=n(35),g=i(n(10))
function b(){var e=x(["\n  &.CoreModalPortal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 1050;\n    display: flex;\n    padding: 3rem 1.5rem;\n    width: 100vw;\n    min-width: 64rem;\n    height: auto;\n    min-height: 100vh;\n    &:empty {\n      display: none;\n      pointer-events: none;\n    }\n  }\n"])
return b=function(){return e},e}function v(){
var e=x(["\n  position: relative;\n  margin: 15vh auto 3rem;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  min-height: 12em;\n  font-size: 0.875rem;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 3px 10px 0 rgba(0,0,0,0.1);\n  cursor: initial;\n  transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.1);\n  .CoreModalMask:not(.is-open) + & {\n    opacity: 0;\n    transform: translateY(-100%);\n  }\n  .CoreModalMask.is-open + & {\n    opacity: 1;\n    transform: none;\n    transition-delay: 0.2s;\n  }\n  &.is-v-centered {\n    margin: auto;\n  }\n  > header {\n    display: flex;\n    align-items: center;\n    padding: 0 1.5em;\n    height: 3.75rem;\n    font-size: 1rem;\n    font-weight: 500;\n    border-bottom: 1px solid #dedee4;\n    color: #415058;\n  }\n  > .content {\n    padding: 1.5em;\n  }\n  > footer {\n    padding: 0 1.5em 1.5em;\n    .Button {\n      margin-right: 0.5em;\n    }\n  }\n  .close-btn {\n    margin-left: auto;\n    font-size: 1em;\n    color: #8d9ea7;\n    transition: all 0.2s ease-in;\n    &:hover {\n      color: #eb5648;\n      transition-delay: 0.1s;\n    }\n  }\n\n  &.AlertCoreModal,\n  &.FormCoreModal {\n    display: flex;\n    flex-direction: column;\n    width: 23.75rem;\n    line-height: 1.5;\n    .FormEntry {\n      &:last-child {\n        margin-bottom: -0.5em;\n      }\n      > .key {\n        flex-basis: 7em;\n      }\n    }\n  }\n  &.FormCoreModal {\n    width: 26.25rem;\n  }\n  &.FunctionalCoreModal {\n    width: 38.875rem;\n  }\n  &.DisplayCoreModal {\n    width: 40rem;\n  }\n"])
return v=function(){return e},e}function y(){var e=x(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(30,41,46, 0.5);\n  transition: all 0.2s ease-out;\n  &.can-close {\n    cursor: pointer;\n  }\n  &:not(.is-open) {\n    opacity: 0;\n    pointer-events: none;\n    transition-delay: 0.2s;\n  }\n  &.is-open {\n    opacity: 1;\n  }\n"])
return y=function(){return e},e}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=g.default.div(y()),j=g.default.div(v()),S=(0,g.createGlobalStyle)(b())
function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=D(e)
if(t){var i=D(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return M(this,n)}}function M(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){return e.stopPropagation()},P=(0,l.default)(window,"I18N",{}),I=document.body,L=document.getElementById("IBOT_MODAL_ROOT")||Object.assign(document.createElement("div"),{id:"IBOT_MODAL_ROOT"})
I.contains(L)||I.appendChild(L)
var B={alert:"AlertCoreModal",form:"FormCoreModal",functional:"FunctionalCoreModal",display:"DisplayCoreModal"},F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e)
var t,n,r,i=E(s)
function s(){var e
C(this,s)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return A(T(e=i.call.apply(i,[this].concat(n))),"state",{prevProps:e.props,isOpen:e.props.isOpen,isVisible:!1}),A(T(e),"portal",(0,m.preparePortal)(L,(0,m.trimList)(["CoreModalPortal",e.props.portalClassName]))),A(T(e),"maskRef",(0,o.createRef)()),A(T(e),"didOpen",(function(){var t=e.props,n=t.onOpen,r=t.onToggle
T(e).maskRef.current;(0,m.addModalToStack)(T(e)),e.positionY(),(0,m.toggleGlobalScroll)(!0),n(),r(!0)})),A(T(e),"didClose",(function(){var t=e.props,n=t.onClose,r=t.onToggle
n(),r(!1),setTimeout((function(){(0,m.deleteModalFromStack)(T(e)),(0,m.checkNoOpenModalInStack)()&&(0,m.toggleGlobalScroll)(!1)}))})),A(T(e),"onTransitionEnd",(function(t){var n=t.target
!e.state.isVisible&&n.matches(".CoreModalMask")&&e.setState({isOpen:!1})})),A(T(e),"open",(function(){return e.setState({isOpen:!0})})),A(T(e),"close",(function(){return e.setState({isVisible:!1})})),A(T(e),"toggle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!e.state.isOpen
return t?e.open():e.close()})),A(T(e),"positionY",(function(){return setTimeout((function(){var t=e.props.type,n=(0,m.$)(".CoreModal",e.portal)
if(n&&"alert"!==t){var r=window.innerHeight,i=n.getBoundingClientRect().height,o=r<=i||(r-i)/2<.15*r?"add":"remove"
n.classList[o]("is-v-centered")}}))})),A(T(e),"onClickMask",(function(t){N(t)
var n=e.props,r=n.canClose,i=n.canCloseOnClickMask,o=!!(0,m.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open")
r&&i&&!o&&e.close()})),A(T(e),"confirm",(function(){var t=e.props,n=t.onConfirm,r=t.shouldCloseOnAction
n&&n(),r&&e.close()})),A(T(e),"cancel",(function(){var t=e.props,n=t.onCancel,r=t.shouldCloseOnAction
n&&n(),r&&e.close()})),A(T(e),"onKeyDown",(function(t){var n=t.key,r=t.target,i=e.props,o=(i.type,i.canClose),a=i.canCloseOnEsc,s=i.canConfirmOnEnter,c=i.onConfirm,l=i.onCancel,u=e.state.isOpen,d=!!(0,m.$)("#IBOT_SELECT_MENU_ROOT .SelectMenu.is-open")
return"Escape"===n&&!r.matches("input, textarea, select")&&!d&&u&&o&&a&&!d&&0===(0,m.checkModalIndexInStack)(T(e))?(l&&e.cancel(),e.close()):"Enter"===n&&!r.matches("textarea, button")&&!d&&u&&s&&0===(0,m.checkModalIndexInStack)(T(e))&&c?e.confirm():void 0})),e}return t=s,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.isOpen
if(!(0,d.default)(n,e)){var i=e.isOpen
if((0,u.default)(i)){if(!r&&i)return{isOpen:!0,prevProps:e}
if(r&&!i)return{isVisible:!1,prevProps:e}}return{prevProps:e}}return null}}],(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props
t.onOpen,t.onToggle,this.state.isOpen&&setTimeout((function(){return e.setState({isVisible:!0},e.didOpen)})),window.addEventListener("resize",this.positionY)}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=t.isOpen,i=this.state.isOpen
!r&&i?setTimeout((function(){return n.setState({isVisible:!0},n.didOpen)})):r&&!i&&this.didClose()}},{key:"componentWillUnmount",value:function(){this.portal&&this.portal.remove(),this.didClose(),window.removeEventListener("resize",this.positionY)}},{key:"render",value:function(){return this.opener}},{key:"opener",get:function(){var e=this.props,t=e.opener,n=e.openerType,r=this.state.isOpen,i=this.modal
return"none"===n?i:"custom"===n?t?o.default.createElement("span",{onClick:this.toggle},t,i):i:"switch"===n?o.default.createElement(h.default,{isChecked:r,onChange:this.toggle},i):o.default.createElement(p.default,{type:n,onClick:this.open},t,i)}},{key:"modal",get:function(){return(0,a.createPortal)(this.modalDOM,this.portal)}},{key:"footer",get:function(){var e=this.props,t=e.onConfirm,n=e.onCancel,r=e.confirmText,i=e.cancelText,a=e.isConfirmDisabled,s=e.isCancelDisabled
return(t||n)&&o.default.createElement("footer",null,t&&o.default.createElement(p.PrimaryCoreButton,{onClick:this.confirm,isDisabled:a},r),n&&o.default.createElement(p.TertiaryCoreButton,{onClick:this.cancel,isDisabled:s},i))}},{key:"modalDOM",get:function(){var e=this.props,t=e.type,n=e.maskClassName,r=e.className,i=e.title,a=e.children,s=e.canClose,l=e.canCloseOnClickMask,u=this.state,d=u.isOpen,h=u.isVisible,g=this.footer
return d&&o.default.createElement(o.Fragment,null,o.default.createElement(S,null),o.default.createElement(w,{ref:this.maskRef,className:(0,m.trimList)(["CoreModalMask",n,h&&"is-open",s&&l?"can-close":"cant-close"]),onClick:this.onClickMask,onTransitionEnd:this.onTransitionEnd}),o.default.createElement(j,{className:(0,m.trimList)(["CoreModal",B[t],r]),onTransitionEnd:N,onClick:N},o.default.createElement("header",null,i,s&&o.default.createElement(p.default,{type:"text",className:"close-btn",onClick:this.close
},o.default.createElement(f.default,{name:"times",label:"Close the Modal"}))),o.default.createElement("div",{className:"content"},a),g),o.default.createElement(c.default,{target:document,onKeyDown:this.onKeyDown}))}}])&&O(t.prototype,n),r&&O(t,r),s}(o.PureComponent)
A(F,"propTypes",{isOpen:s.default.bool,title:s.default.node,children:s.default.node,modal:s.default.node,type:s.default.oneOf(["alert","form","functional","display"]),opener:s.default.node,openerType:s.default.oneOf(["primary","regular","text","switch","custom","none"]),className:s.default.string,maskClassName:s.default.string,portalClassName:s.default.string,onOpen:s.default.func.isRequired,onClose:s.default.func.isRequired,onToggle:s.default.func.isRequired,canClose:s.default.bool,
canCloseOnClickMask:s.default.bool,shouldCloseOnAction:s.default.bool,canCloseOnEsc:s.default.bool,canConfirmOnEnter:s.default.bool,onConfirm:s.default.func,confirmText:s.default.string,isConfirmDisabled:s.default.bool,onCancel:s.default.func,isCancelDisabled:s.default.bool,cancelText:s.default.string}),A(F,"defaultProps",{openerType:"none",type:"functional",onOpen:function(){return null},onClose:function(){return null},onToggle:function(){return null},canClose:!0,canCloseOnClickMask:!0,
shouldCloseOnAction:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,cancelText:P.cancel||"Cancel",confirmText:P.confirm||"Confirm"})
var R=F
t.default=R},function(e,t,n){"use strict"
var r=n(21),i=n(20),o=n(16),a=n(0),s=n(4),c=n.n(s),l=n(43),u=n.n(l),d=n(7),p=n.n(d),f=n(6),h=n.n(f),m=n(3),g=n.n(m),b=n(8),v=n.n(b),y=n(9),x=n.n(y),w=n(2),j=n.n(w),S=n(5),_=n(1),C=n.n(_),O=n(85),k=n(38),E=n.n(k),M=n(13),T=n.n(M),D=n(109),A=n(345),N=n(354),P=n(219),I=n(36),L=n.n(I),B=n(15),F=n(165),R=n(51),z=n(31),U=n(170),H=n(29),G=n(10),V=n.n(G),W=n(48),Y=V.a.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"n0vrcu-0"
})([""," .expander{display:flex;align-items:center;justify-content:center;cursor:pointer;.arrow-icon{color:",";&.is-expand{transform:rotate(90deg);}}}.screen-name{display:flex;align-items:center;width:100%;padding-right:5px;.screen-item-icon{display:flex;flex-shrink:0;justify-content:center;align-items:center;width:14px;height:14px;margin-right:8px;.icon{width:9px;height:12px;color:",";}.sm-folder-icon{width:14px;height:14px;.main{fill:",";}.secondary{fill:",";}}}.editable-span{",";}}&[disabled]{opacity:0.4;pointer-events:none;}.actions{padding:0 10px;.actions-ellipsis{font-size:14px;pointer-events:none;}&:hover{.actions-ellipsis{color:",";}}}.child-screens{position:relative;}&.wait-hover *{pointer-events:none;}&.linking{color:",";background:",";.actions{display:none;}}&:hover,&.hover{color:",";.screen-name .screen-item-icon .icon{color:",";}}&.active,&.is-active{color:",";background:",";.screen-name{font-weight:600;.screen-item-icon .icon{color:",";}}}"],W.c,(function(e){
return e.theme.listItem.icon_expander}),(function(e){return e.theme.common.icon_5.cr}),(function(e){return e.theme.screen_panel.folder_icon.main}),(function(e){return e.theme.screen_panel.folder_icon.secondary}),W.e,(function(e){return e.theme.common.text_1.hover}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.listItem.linking_bg}),(function(e){return e.theme.common.text_2.hover}),(function(e){return e.theme.common.icon_5.hover}),(function(e){return e.theme.common.text_2.active
}),(function(e){return e.theme.screen_panel.select_bg}),(function(e){return e.theme.common.icon_5.active})),Z=function(e){v()(n,e)
var t=x()(n)
function n(){var e
p()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),j()(g()(e),"setElementRef",(function(t){return e.$elem=t})),j()(g()(e),"handleExpand",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onExpand)(r)})),j()(g()(e),"handleClick",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onSelect)(t,r)})),j()(g()(e),"onShowTipsByTarget",(function(e,t){var n=t.querySelector(".editable-span")
return n.offsetWidth<n.scrollWidth})),e}return h()(n,[{key:"componentDidMount",value:function(){if(!Object(R.g)(this.$elem)){if(!this.$elem.classList.contains("active"))return
var e=document.querySelector(".rn-content-body")
if(!e)return
var t=e.getBoundingClientRect(),n=this.$elem.getBoundingClientRect().bottom
e.scrollTop+=n-t.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.depth,r=e.isExpand,i=e.isActive,o=e.showExpander,s=e.isHTMLZip,c=e.screenCommentThreadCountMap,l=14*(n+1),u=Object(H.a)(t),d=t.cid,p=t.name,f=(c&&c[d]||0)>=1&&!s
return Object(a.jsx)(z.a,{content:p,distance:5,direction:"right",onMouseEvent:"onDoubleClick",isShowTipsByTarget:this.onShowTipsByTarget,children:Object(a.jsxs)(Y,{ref:this.setElementRef,"data-cid":d,onClick:this.handleClick,style:{paddingLeft:l},className:T()("rn-list-item",{active:i,folder:u}),children:[o&&Object(a.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:Object(a.jsx)(B.a,{className:T()("arrow-icon",{"is-expand":r}),name:"new/arrow"})
}),Object(a.jsxs)("div",{className:"screen-name",children:[Object(a.jsx)("div",{className:"screen-item-icon",children:Object(a.jsx)(U.a,{isActive:i,isFolder:u,isExpand:r})}),Object(a.jsx)(F.a,{className:"editable-span",children:Object(R.k)(p)})]}),f&&Object(a.jsx)("span",{className:"toggle-comment",children:Object(a.jsx)(L.a,{type:"dora",name:"comment"})})]})})}}]),n}(S.PureComponent)
j()(Z,"propTypes",{depth:C.a.number,screenMeta:C.a.object,isActive:C.a.bool,isExpand:C.a.bool,isHTMLZip:C.a.bool,showExpander:C.a.bool,screenCommentThreadCountMap:C.a.object,actionProps:C.a.object})
var q=n(351),X=V.a.div.withConfig({displayName:"styles__StyledScreenPanel",componentId:"dwbojm-0"
})(['flex:1;display:flex;flex-direction:column;overflow:hidden;.screen-header{height:36px;padding:0 4px 0 10px;display:flex;align-items:center;[type="search"]{flex:1;margin-right:4px;}.header-icon{',";}}.screen-list-container{flex:1;width:calc(100% - 2px);overflow-x:hidden;overflow-y:auto;.toggle-comment{position:absolute;right:22px;top:50%;transform:translateX(100%) translateY(-50%);& > .icon{color:",";}& > .icon-comment{margin-right:2px;}}&.thumbnail{padding-left:10px;.toggle-comment{display:none;}}.thumbnail-list{width:calc(100% + 15px);.thumbnail-item{width:105px;margin-right:10px;.image-wrapper{height:105px;}}}}"],W.d,(function(e){
return e.theme.common.icon_17.cr})),J=function(e){v()(n,e)
var t=x()(n)
function n(e){var r
return p()(this,n),r=t.call(this,e),j()(g()(r),"setElementRef",(function(e){return r.$elem=e})),j()(g()(r),"handleScreenMetaExpand",(function(e){var t=e.cid,n=r.state.collapseKeySet,i=new Set(n)
n.has(t)?i.delete(t):i.add(t),r.setState({collapseKeySet:i})})),j()(g()(r),"handleSelectScreenMeta",(function(e,t){var n=r.props,i=n.activeCid,o=n.dispatch
Object(H.a)(t)||i===t.cid?r.handleScreenMetaExpand(t):(o({type:"entry:sync-runner:set-screen",payload:{cid:t.cid}}),o({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}))})),j()(g()(r),"handleSearch",(function(e){MB.event("preview","使用了页面搜索"),r.setState({keyword:e.toLowerCase()})})),j()(g()(r),"handleViewModeChange",(function(e){r.props.toolbarActiveItem
"literal"===e?r.setState({viewMode:"literal"}):r.setState({viewMode:"thumbnail"})})),j()(g()(r),"handleToggleExpanded",(function(){r.state.collapseKeySet.size>0?r.unfoldAllScreen():r.foldAllScreen()})),j()(g()(r),"handleKeyDown",(function(e){(e.ctrlKey||e.metaKey)&&(186===e.keyCode&&(e.preventDefault(),r.unfoldAllScreen()),222===e.keyCode&&(e.preventDefault(),r.foldAllScreen()))})),j()(g()(r),"unfoldAllScreen",(function(){r.setState({collapseKeySet:new Set})})),j()(g()(r),"foldAllScreen",(function(){
var e=r.props.screenTreeData,t=Object(H.h)(e),n=new Set(t.map((function(e){return e.cid})))
r.setState({collapseKeySet:n})})),j()(g()(r),"renderScreenMetaItem",(function(e){var t=e.depth,n=e.screenMeta,i=e.hasScreenMetaChildren,o=e.collapseScreenMetaCidSet,s=e.activeScreenMetaCid,c=r.props,l=c.isHTMLZip,u=c.screenCommentThreadCountMap,d=n.cid,p=s===d,f=!o.has(d),h=i||Object(H.a)(n)
return Object(a.jsx)(Z,{depth:t,screenMeta:n,isActive:p,isExpand:f,showExpander:h,actionProps:r.literalActionProps,isHTMLZip:l,screenCommentThreadCountMap:u})})),r.state={keyword:"",collapseKeySet:new Set,viewMode:e.isDemo?"thumbnail":"literal"},r.literalActionProps={onExpand:r.handleScreenMetaExpand,onSelect:r.handleSelectScreenMeta},r.thumbnailActionProps={onClick:r.handleSelectScreenMeta},r}return h()(n,[{key:"componentDidUpdate",value:function(e){
var t=this.props,n=t.activeCid,r=t.screenTreeData,i=t.screenCommentThreadCountMap
if(e.activeCid!==n){var o=Object(H.e)(n,r),a=this.state.collapseKeySet,s=new Set(a)
o.forEach((function(e){var t=e.cid
return a.has(t)&&s.delete(t)})),s.size!==a.size&&this.setState({collapseKeySet:s})}e.screenCommentThreadCountMap!==i&&this.setState({collapseKeySet:new Set(this.state.collapseKeySet)})}},{key:"render",value:function(){var e=this.props,t=e.screenTreeData,n=e.activeCid,r=e.isHTMLZip,i=e.designOptions,o=e.experienceSnapshotUrlMap,s=this.state,c=s.viewMode,l=s.keyword,u=s.collapseKeySet,d=u.size>0,p=l.length>0,f=Object(H.b)(t,l),h=Object(H.h)(f)
return Object(a.jsxs)(X,{className:"screen-panel",children:[Object(a.jsxs)("div",{className:"screen-header",children:[Object(a.jsx)(D.a,{value:l,placeholder:I18N.pPreviewPanel.search,onChange:this.handleSearch}),Object(a.jsx)(N.a,{className:"header-icon fold-button",hasFoldedScreen:d,onClick:this.handleToggleExpanded}),!r&&Object(a.jsx)(A.a,{className:"header-icon",viewMode:c,onViewModeChange:this.handleViewModeChange})]}),Object(a.jsx)("div",{className:T()("screen-list-container",c),ref:this.setElementRef,
children:"literal"===c?Object(a.jsx)(P.a,{screenTreeData:f,isExpandTree:p,activeScreenMetaCid:n,collapseScreenMetaCidSet:u,renderScreenMetaItem:this.renderScreenMetaItem}):Object(a.jsx)(q.a,{screenMetaList:h,activeScreenMetaCid:n,thumbnailActionProps:this.thumbnailActionProps,designOptions:i,experienceSnapshotUrlMap:o})}),Object(a.jsx)(E.a,{target:document,onKeyDown:this.handleKeyDown})]})}}]),n}(S.PureComponent)
j()(J,"propTypes",{isHTMLZip:C.a.bool,activeCid:C.a.string,toolbarActiveItem:C.a.string,isDemo:C.a.bool,screenTreeData:C.a.object,screenCommentThreadCountMap:C.a.object,designOptions:C.a.object,experienceSnapshotUrlMap:C.a.object,dispatch:C.a.func})
var K=Object(r.connect)((function(e){return{isHTMLZip:Object(o.D)(e).isHTMLZip,designOptions:Object(o.i)(e),experienceSnapshotUrlMap:Object(o.P)(e),layout:Object(o.A)(e),toolbarActiveItem:Object(o.b)(e),isDemo:Q.has(Object(o.c)(e).access_token),screenTreeData:Object(o.H)(e),screenCommentThreadCountMap:Object(o.K)(e),activeCid:Object(o.g)(e).cid}
}))(J),Q=new Set(["demo","cS1AXKF5jtrJePbEKiYcdcHosQPdzrk","workout","sI3GY2tDz76RrZ4MGFiIcZTZpAHyluC","UMQzYmknxWeHNvvVyeyJDuSkgyvi6Xw","9Py1L5RdC8ZPRSmnWEt4uuUUSDUAxkM"]),$=n(11),ee=n.n($),te=n(14),ne=n.n(te),re=n(74),ie=n.n(re),oe=n(32),ae=n(173),se=n(28),ce=n(169),le=Object(ce.createAsyncFuncQueue)().push,ue=function(e,t){return new Promise((function(n){e.src=t,e.onload=function(){return n(e)},e.onerror=function(){return n()}}))},de=function(e){v()(n,e)
var t=x()(n)
function n(){var e
p()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),j()(g()(e),"setElementRef",(function(t){return e.imageRef=t})),e}return h()(n,[{key:"componentDidMount",value:function(){var e=this
le(ne()(ee.a.mark((function t(){var n,r,i,o
return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.src,i=n.adjustImage,t.next=3,ue(e.imageRef,r)
case 3:o=t.sent,i&&o&&Object(se.b)({image:o,adjust:i})
case 5:case"end":return t.stop()}}),t)})))).catch((function(e){return console.error(e)}))}},{key:"render",value:function(){var e=this.props,t=(e.src,e.adjustImage,u()(e,["src","adjustImage"]))
return Object(a.jsx)("img",c()({alt:"",ref:this.setElementRef},t))}}]),n}(S.PureComponent)
de.propTypes={src:C.a.string,adjustImage:C.a.number}
var pe=n(213),fe=n.n(pe),he=V.a.div.withConfig({displayName:"styles__StyledSliceItem",componentId:"sc-19wio3-0"
})(["display:flex;align-items:center;width:220px;height:60px;padding:10px;margin:10px;cursor:pointer;border-radius:2px;color:",";.slice-export-icon{display:none;}&:hover{background:",";.slice-export-icon{display:unset;}}&.active{background:",";}> img{margin-right:10px;}.slice-item-wrap{width:40px;height:40px;min-width:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;> img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}"],(function(e){
return e.theme.common.text_5.cr}),(function(e){return e.theme.listItem.hover.bg}),(function(e){return e.theme.listItem.active.slice_item_bg})),me=function(e){v()(n,e)
var t=x()(n)
function n(){var e
return p()(this,n),e=t.call(this),j()(g()(e),"delaySingleDownload",fe()((function(){var t=e.props,n=t.imageSet,r=t.name
Object(se.g)({url:n,name:r,type:"zip"}),MB.event("preview","在切图列表中下载单张切图")}),500,{leading:!0})),j()(g()(e),"isIncurrentScreen",(function(){return e.props.artboardId===e.props.currentArtboardId})),j()(g()(e),"handleClick",(function(){var t=e.props,n=t.id,r=t.requestLayer;(0,t.activeLayer)(n),e.isIncurrentScreen()?r(n):console.warn("Not in current Screen")})),j()(g()(e),"handleOnload",(function(){e.setState({imageLoad:!0})})),j()(g()(e),"handleError",(function(){console.error("image load fail")})),
j()(g()(e),"handleSingleDownload",(function(t){t.persist(),t.stopPropagation(),e.delaySingleDownload()})),e.state={imageLoad:!1},e}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.src,r=e.activeLayerId,i=e.id,o=this.state.imageLoad,s=o?"opacity-1":"opacity-0",c={display:o?"block":"none"},l=r===i
return Object(a.jsx)(ie.a,{type:"block",content:{click:this.isIncurrentScreen()?null:I18N.pPreviewPanel.not_incurrent_screen},children:Object(a.jsxs)(he,{className:T()("slice-item",{active:l}),onClick:this.handleClick,children:[Object(a.jsxs)("div",{className:"slice-item-wrap",style:{background:"url(/mb-workspace/images/preview/slice-bg.png) left top",backgroundSize:"cover"},children:[!o&&Object(a.jsx)("img",{src:"/mb-workspace/images/preview/image-load-gif.gif",alt:"Loading..."}),Object(a.jsx)(de,{style:c,
src:n,alt:t,adjustImage:38,className:"".concat(s),onLoad:this.handleOnload,onError:this.handleError})]}),Object(a.jsxs)("div",{className:"slice-item-content",children:[Object(a.jsx)("span",{className:"slice-item-name textEllipsis",children:t}),o&&Object(a.jsx)(L.a,{className:"slice-export-icon",name:"export",type:"dora",onClick:this.handleSingleDownload})]})]})})}}]),n}(S.PureComponent)
j()(me,"propTypes",{artboardId:C.a.number,currentArtboardId:C.a.number,name:C.a.string,src:C.a.string.isRequired,id:C.a.number.isRequired,imageSet:C.a.array.isRequired,requestLayer:C.a.func.isRequired,activeLayer:C.a.func,activeLayerID:C.a.oneOfType([C.a.number,C.a.string])})
var ge=Object(G.keyframes)(["from{transform:rotate(0);}to{transform:rotate(720deg);}"]),be=V.a.div.withConfig({displayName:"styles__StyledSlicePanel",componentId:"sc-1dk118f-0"
})(["&{width:100%;height:calc(100% - 90px);overflow-x:hidden;overflow-y:scroll;}.opacity-0{opacity:0;}.opacity-1{opacity:1;}.slice-item-content{display:flex;justify-content:space-between;width:160px;.slice-item-name{margin-left:8px;width:130px;}.textEllipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.download{position:fixed;bottom:0;display:flex;justify-content:center;align-items:center;width:210px !important;height:40px;margin:0 15px;border-top:1px solid ",";cursor:pointer;color:#8d9ea7;}.download-slice-icon{margin-left:10px;color:#8d9ea7;font-size:13px;}.spinner{display:block;width:50px;height:50px;border:4px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;border-radius:50%;animation:"," 2s ease-in-out infinite;}.download-slice-load{margin-left:10px;.spinner{width:20px;height:20px;border:2px solid #f55d54;border-color:rgb(245,94,86,0.3) transparent;}}"],(function(e){
return e.theme.common.divider.divider_4}),ge),ve=V.a.div.withConfig({displayName:"styles__StyledSliceLoadWrap",componentId:"sc-1dk118f-1"})(["width:100%;height:calc(100% - 33px);display:flex;justify-content:center;align-items:center;.layer-load{.spinner{color:",";}}"],(function(e){return e.theme.preview.comment.layer.load_color})),ye=function(e){v()(n,e)
var t=x()(n)
function n(e){var r
return p()(this,n),r=t.call(this,e),j()(g()(r),"handleActiveLayer",(function(e){r.setState({activeLayerId:e})})),j()(g()(r),"handleDownloadZip",ne()(ee.a.mark((function e(){var t,n,i,o
return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.currentArtboardId,i=t.currentScreenName,o=t.accessToken,!r.state.isDownloading){e.next=4
break}return e.abrupt("return")
case 4:return r.setState({isDownloading:!0}),e.next=7,Se(n,i,o)
case 7:MB.event("zhuge","Download_all_slices_click"),r.setState({isDownloading:!1})
case 9:case"end":return e.stop()}}),e)})))),j()(g()(r),"requestLayer",(function(e){var t=r.props.dispatch
t({type:"REQUEST_SELECT_LAYER",payload:{layerID:e}}),t({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!0}})})),r.state={isDownloading:!1,activeLayerId:null},r}return h()(n,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"entry:image-slice:init"})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentArtboardId,r=t.dispatch
n!==e.currentArtboardId&&r({type:"reducer:slice:init"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.slicesList,r=t.loading,i=t.error,o=t.currentArtboardId,s=t.isWonderShare,c=this.state,l=c.isDownloading,u=c.activeLayerId
return i||r?Object(a.jsx)(ve,{className:T()("slice-load-wrap"),children:Object(a.jsx)(xe,{})}):0===n.length?Object(a.jsx)(we,{isWonderShare:s}):Object(a.jsxs)(be,{className:T()("slice-container"),children:[n.map((function(t){var n=t.id,r=t.artboard_id,i=t.name,s=t.image,c=t.image_set
return Object(a.jsx)(me,{id:n,src:s,name:i,currentArtboardId:o,imageSet:c,artboardId:r,requestLayer:e.requestLayer,activeLayer:e.handleActiveLayer,activeLayerId:u},n)})),Object(a.jsx)(je,{onClick:this.handleDownloadZip,isLoading:l})]})}}]),n}(S.PureComponent)
j()(ye,"propTypes",{accessToken:C.a.string,currentScreenName:C.a.string,currentArtboardId:C.a.number,slicesList:C.a.array,error:C.a.bool,loading:C.a.bool,dispatch:C.a.func,isWonderShare:C.a.bool})
var xe=function(){return Object(a.jsx)("div",{className:T()("layer-load"),children:Object(a.jsx)("span",{className:T()("spinner")})})},we=function(e){var t=e.isWonderShare
return Object(a.jsxs)("div",{className:T()("no-slice"),children:[Object(a.jsx)("img",{src:MB.preference()&&"dark"===MB.preference().theme?"/mb-workspace/images/preview/no-slice-dark.png":"/mb-workspace/images/preview/no-slice-light.png"}),Object(a.jsx)("span",{children:I18N.pPreviewPanel.no_slice}),Object(a.jsx)("span",{children:I18N.pPreviewPanel.slice_in_sketch}),Object(a.jsx)("span",{children:I18N.pPreviewPanel.suport_mac}),!t&&Object(a.jsxs)("a",{href:window.MBSketchPluginDownloadURL,
children:[Object(a.jsx)("img",{src:"/mb-workspace/images/preview/ic_sketch@2x.png",alt:"sketch"}),I18N.pPreviewPanel.download_sketch]})]})}
we.propTypes={isWonderShare:C.a.bool}
var je=function(e){var t=e.onClick,n=e.isLoading
return Object(a.jsxs)(ie.a,{content:{click:null},type:"block",position:"top",arrowed:!1,className:T()("download"),onClick:t,children:[I18N.pPreviewPanel.download,n?Object(a.jsx)("div",{className:T()("download-slice-load"),children:Object(a.jsx)(xe,{})}):Object(a.jsx)(L.a,{type:"dora",name:"export",className:"download-slice-icon"})]})}
je.propTypes={onClick:C.a.func,isLoading:C.a.bool}
var Se=function(){var e=ne()(ee.a.mark((function e(t,n,r){var i,o,a,s,c,l
return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new URLSearchParams(location.search).get("password")||Object(ae.c)(r),o=!0,s=1
case 3:if(!o){e.next=21
break}return e.next=6,oe.a.api.requestSliceZipByArtboardId({artboardId:t,encryptedPassword:i})
case 6:if(c=e.sent,l=c.url,"ok"!==c.status){e.next=14
break}o=!1,a=l,e.next=16
break
case 14:return e.next=16,Object(se.l)(Math.min(2e3*s++,1e4))
case 16:if(!(s>20)){e.next=19
break}return Object(se.f)(),e.abrupt("return",!1)
case 19:e.next=3
break
case 21:return Object(se.g)({url:"/".concat(a),name:n,type:"zip"}),e.abrupt("return",!0)
case 23:case"end":return e.stop()}}),e)})))
return function(t,n,r){return e.apply(this,arguments)}}(),_e=Object(r.connect)((function(e){var t=e.container.slices,n=t.slices,r=t.loading,i=t.error,a=Object(o.c)(e),s=a.cid,c=a.access_token,l=Object(o.g)(e),u=Object(o.i)(e).isWonderShare
return{projectCid:s,currentScreenName:l.name,currentArtboardId:l.artboard_id,slicesList:n,loading:r,error:i,accessToken:c,isWonderShare:u}}))(ye),Ce=n(67),Oe=n(26),ke=n.n(Oe),Ee=n(218),Me=Object(S.memo)((function(e){var t=e.layer,n=e.isExpanded
switch(t.value.type){case"rectangle":return Object(a.jsx)(B.a,{className:T()("design-rectangle-new"),name:"design/rectangle/new"})
case"oval":return Object(a.jsx)(B.a,{className:"design-circle-new",name:"design/circle/new"})
case"rounded":case"line":case"arrow":case"triangle":case"polygon":case"star":case"pencil":case"vector":case"shapePath":return Object(a.jsx)(B.a,{className:"design-shape-path",name:"design/shape/path"})
case"shapeGroup":case"group":var r=n?"design/group_open":"design/group_close"
return Object(a.jsx)(B.a,{className:"group-icon",name:r})
case"text":return Object(a.jsx)(B.a,{className:"design-text-new",name:"design/text/new"})
case"bitmap":return Object(a.jsx)(B.a,{className:"design-image-new",name:"design/image/new"})
case"symbol":case"symbolInstance":return Object(a.jsx)(B.a,{className:"design-symbol",name:"design/symbol"})
default:return Object(a.jsx)(B.a,{className:"design-mask-none",name:"design/mask/none"})}}))
Me.propTypes={layer:C.a.object,isExpanded:C.a.bool}
var Te=Me,De=n(171),Ae=V.a.span.withConfig({displayName:"style__StyledLayerItemText",componentId:"u1w3u3-0"})(["width:fit-content;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Ne=function(e){v()(n,e)
var t=x()(n)
function n(e){var r
return p()(this,n),r=t.call(this,e),j()(g()(r),"handleClick",(function(e){e.stopPropagation()
var t=r.props,n=t.layer,i=t.sketchAction,o=i.onRequestSelectLayer,a=i.onShowlayerInfo
o(n.value.id),a(!0)})),j()(g()(r),"onMouseEnter",(function(e){e.stopPropagation()
var t=r.props,n=t.layer;(0,t.sketchAction.onEnterLayer)(n.value.id)})),j()(g()(r),"onMouseLeave",(function(e){e.stopPropagation(),(0,r.props.sketchAction.onEnterLayer)(-1)})),j()(g()(r),"handleToggleExpand",(function(e){e.stopPropagation()
var t=r.props,n=t.layer;(0,t.sketchAction.onUpdateExpandCidSet)(n.value.id)})),r.state={isExpand:!1},r}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.layer,n=e.isExpanded,r=e.nodeDepth,i=e.isActive,o=t.value,s=o.name,c=o.type,l=o.mask,u=o.maskedID,d=o.imageSet,p=!!l,f=!!u,h=14*(r+1),m=d&&!!d.length
return Object(a.jsxs)("div",{onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{paddingLeft:h},className:T()("sketch-layer-item",{active:i}),children:[Object(De.b)(c)&&Object(a.jsx)("a",{className:"expander",onClick:this.handleToggleExpand,children:Object(a.jsx)(B.a,{className:T()("arrow-icon",{"is-expand":n}),name:"new/arrow"})}),f&&Object(a.jsx)(B.a,{className:"mask-line",name:"design/mask/line"}),!f&&p?Object(a.jsx)(B.a,{className:"mask",name:"design/mask"
}):Object(a.jsxs)("div",{className:"layer-item-icon",children:[Object(a.jsx)(Te,{layer:t,isExpanded:n}),m&&Object(a.jsx)(B.a,{className:"mask-slice",name:"preview/mask/slice"})]}),Object(a.jsx)(Ae,{className:"editable-name",children:s})]})}}]),n}(S.PureComponent)
j()(Ne,"propTypes",{layer:C.a.object,nodeDepth:C.a.number,isExpanded:C.a.bool,isActive:C.a.bool,sketchAction:C.a.object})
var Pe=function(e){v()(n,e)
var t=x()(n)
function n(){return p()(this,n),t.apply(this,arguments)}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.layer,r=e.nodeDepth,i=e.expandCidSet,o=e.activeLayerID,s=e.sketchAction,c=t.value.id,l=i.has(c),u=c===o
return Object(a.jsxs)("li",{"data-cid":c,className:"layer-item",children:[Object(a.jsx)(Ne,{nodeDepth:r,layer:t,isExpanded:l,isActive:u,sketchAction:s}),"compound"===t.type&&l&&Object(a.jsx)("ul",{className:"children",children:t.children.map((function(e){return Object(a.jsx)(n,{nodeDepth:r+1,layer:e,expandCidSet:i,activeLayerID:o,sketchAction:s},e.value.id)}))})]})}}]),n}(S.PureComponent)
j()(Pe,"propTypes",{layer:C.a.object,nodeDepth:C.a.number,expandCidSet:C.a.object,activeLayerID:C.a.oneOfType([C.a.number,C.a.string]),sketchAction:C.a.object})
var Ie=n(255),Le=V.a.header.withConfig({displayName:"styles__StyledLayerHeader",componentId:"sc-16glk6d-0"
})(["padding-left:10px;padding-right:5px;color:#415058;border-top:1px solid ",";border-bottom:1px solid ",";height:36px;display:flex;align-content:center;&:not(.is-search-mode){cursor:grab;}.header-left{display:flex;align-items:center;flex-shrink:0;transition:flex 0.2s ease-in-out;p{font-weight:600;color:","}&.is-search-mode{flex:0 0 12px;margin-left:-6px;}}.header-right{display:flex;align-items:center;margin-left:auto;transition:flex 0.2s ease-in-out;.header-icon{width:22px;height:34px;display:flex;justify-content:center;align-items:center;color:",";&:hover{color:",";}}.arrow-icon{.svg-icon{transform:rotate(-180deg);}&.expanded .svg-icon{transform:rotate(0);}}&.is-search-mode{flex:1;}.layer-search{width:100%;}}"],(function(e){
return e.theme.palette.hr_color}),(function(e){return e.theme.palette.hr_color}),(function(e){return e.theme.palette.panel_title_color}),(function(e){return e.theme.common.text_18.cr}),(function(e){return e.theme.common.text_18.hover})),Be=MB.config,Fe=Be.componentsListDefaultMinHeight,Re=Be.componentsListDefaultMaxHeight,ze=function(e){v()(n,e)
var t=x()(n)
function n(e){var r
return p()(this,n),r=t.call(this,e),j()(g()(r),"setSearchBarRef",(function(e){return r.searchBar=e})),j()(g()(r),"handleOpenSearch",(function(){r.setState({isSearching:!0},(function(){r.searchBar&&r.searchBar.focus()}))})),j()(g()(r),"handleExitSearch",(function(e){e.stopPropagation(),r.setState({isSearching:!1})})),j()(g()(r),"handleToogleLayerPanel",(function(){var e=r.props,t=e.height,n=e.dispatch,i=t!==Fe
i&&(Re=t),n({type:"preview:panel:set:height",payload:{panelHeight:i?Fe:Re}})})),j()(g()(r),"handleDown",(function(e){e.stopPropagation()
var t=r.props,n=t.height,i=t.dispatch
if(!r.state.isSearching){var o=window.innerHeight-310,a=e.clientY,s=function(e){var t=-1*(e.clientY-a),r=Math.max(Math.min(n+t,o),Fe)
i({type:"preview:panel:set:height",payload:{panelHeight:r}})}
document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)}))}})),r.state={isSearching:!1},r}return h()(n,[{key:"handStopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.keyword,n=e.height,r=e.onKeywordChange,i=this.state.isSearching,o=n!==Fe
return Object(a.jsxs)(Le,{className:T()({"is-search-mode":i}),onMouseDown:this.handleDown,children:[Object(a.jsx)("div",{className:T()("header-left",{"is-search-mode":i}),children:i?Object(a.jsx)(Ie.a,{name:"design/back",onClick:this.handleExitSearch}):Object(a.jsx)("p",{children:I18N.pPreviewPanel.layer})}),Object(a.jsx)("div",{className:T()("header-right",{"is-search-mode":i}),children:i?Object(a.jsx)(D.a,{className:"layer-search",ref:this.setSearchBarRef,value:t,
placeholder:I18N.pPreviewPanel.search_widgets,onChange:r}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.b,{content:I18N.pPreviewPanel.element_search,direction:"up",children:Object(a.jsx)("a",{className:"header-icon",onMouseDown:this.handStopPropagation,onClick:this.handleOpenSearch,children:Object(a.jsx)(B.a,{name:"design/search"})})}),Object(a.jsx)(z.b,{content:o?I18N.pPreviewPanel.fold:I18N.pPreviewPanel.expand,direction:"up",children:Object(a.jsx)("a",{className:T()("header-icon","arrow-icon",{
expanded:o}),onMouseDown:this.handStopPropagation,onClick:this.handleToogleLayerPanel,children:Object(a.jsx)(B.a,{name:"angle_up"})})})]})})]})}}]),n}(S.PureComponent)
j()(ze,"propTypes",{keyword:C.a.string,height:C.a.number,onKeywordChange:C.a.func,dispatch:C.a.func})
var Ue=V.a.div.withConfig({displayName:"styles__StyledMaskContainer",componentId:"sc-19bf196-0"
})(["height:100%;display:flex;flex-direction:column;overflow:hidden;.sketch-layer-list{overflow:auto;}li{list-style:none;}.sketch-layer-item{",";background-color:",";.mask-line{width:6px;height:9px;margin-right:3px;}.mask{width:12px;height:12px;margin-right:3px;}&:hover,&.active{.icon{color:inherit;}.arrow-icon{color:",";}}.expander{display:flex;align-items:center;justify-content:center;.arrow-icon{margin-right:0;color:",";&.is-expand{transform:rotate(90deg);}}}.layer-item-icon{width:14px;height:14px;display:flex;align-items:center;justify-content:center;margin-right:8px;position:relative;.group-icon{.main{fill:#298df8;}.secondary{fill:#76b8ff;}}.icon{font-size:14px;&.design-circle-new{width:13px;height:13px;}&.design-rectangle-new,&.design-line-new,&.design-shape-path,&.design-image-new,&.design-symbol{width:12px;height:12px;}&.design-text-new{width:11px;height:11px;}&.design-mask-none{width:7px;height:12px;}}}.mask-slice{position:absolute;width:9px;height:10px;right:0;bottom:0;}}"],W.c,(function(e){
return e.theme.palette.panel_bg}),(function(e){return e.theme.listItem.icon_expander}),(function(e){return e.theme.listItem.icon_expander})),He=V.a.div.withConfig({displayName:"styles__StyledComponentPanel",componentId:"sc-19bf196-1"})(["position:relative;overflow:hidden;"]),Ge=n(54),Ve=n(49),We=n(27),Ye=function(e){v()(n,e)
var t=x()(n)
function n(e){var r
p()(this,n),r=t.call(this,e),j()(g()(r),"handleKeywordkChange",(function(e){r.setState({keyword:e})})),j()(g()(r),"handleShowlayerInfo",(function(e){(0,r.props.dispatch)({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:e}})})),j()(g()(r),"handleRequestSelectLayer",(function(e){(0,r.props.dispatch)(Object(Ge.q)(e))})),j()(g()(r),"handleEnterLayer",(function(e){(0,r.props.dispatch)(Object(Ge.n)(e))})),j()(g()(r),"handleUpdateExpandCidSet",(function(e){var t=r.state.expandCidSet,n=new Set(t)
n.has(e)?n.delete(e):n.add(e),Object(We.e)(r.expandStatusKey,JSON.stringify(ke()(n.values()))),r.setState({expandCidSet:n})})),j()(g()(r),"handleHeightChange",(function(e){r.props.dispatch({type:"preview:panel:set:height",payload:{panelHeight:e}})}))
var i=r.props.activeScreenCid
r.expandStatusKey="preview-inspect-expand-status-".concat(i)
var o=Object(We.b)(r.expandStatusKey)
return r.state={expandCidSet:o?new Set(JSON.parse(o)):new Set,keyword:""},r.sketchAction={onUpdateExpandCidSet:r.handleUpdateExpandCidSet,onShowlayerInfo:r.handleShowlayerInfo,onRequestSelectLayer:r.handleRequestSelectLayer,onEnterLayer:r.handleEnterLayer},r}return h()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sketchLayerList,r=t.activeLayerID,i=t.panelHeight,o=t.dispatch,s=this.state,c=s.expandCidSet,l=s.keyword,u=Object(Ve.a)(n,l)
return Object(a.jsxs)(He,{style:{flexBasis:i},children:[Object(a.jsxs)(Ue,{className:"mask-panel",children:[Object(a.jsx)(ze,{keyword:l,height:i,onKeywordChange:this.handleKeywordkChange,dispatch:o}),Object(a.jsx)("div",{className:"sketch-layer-list",children:u.map((function(t){return Object(a.jsx)(Pe,{layer:t,nodeDepth:0,expandCidSet:c,activeLayerID:r,sketchAction:e.sketchAction},t.value.id)}))})]}),Object(a.jsx)(Ee.a,{placement:"top",value:i,min:36,max:window.innerHeight-310,
onChange:this.handleHeightChange})]})}}]),n}(S.PureComponent)
j()(Ye,"propTypes",{activeScreenCid:C.a.string,activeLayerID:C.a.oneOfType([C.a.number,C.a.string]),sketchLayerList:C.a.array,dispatch:C.a.func,panelHeight:C.a.number})
var Ze=Object(i.createSelector)([o.g,Ce.f,Ce.a,function(e){return e.container.common.panelHeight}],(function(e,t,n,r){var i=e.name,o=e.artboard_id
return{activeScreenCid:"".concat(i,"-").concat(o),activeLayerID:n,sketchLayerList:t,panelHeight:r}})),qe=Object(r.connect)((function(e){return Ze(e)}))(Ye),Xe=V.a.div.withConfig({displayName:"styles__StyledPreviewPanel",componentId:"usbv2l-0"
})(["position:relative;width:240px;height:100%;display:flex;flex-direction:column;font-size:12px;color:#525e71;background-color:",";box-shadow:",";&.is-uichina{box-shadow:none;}header{height:33px;padding-left:10px;padding-right:14px;display:flex;flex-shrink:0;justify-content:space-between;align-items:center;border-bottom:1px solid ",";overflow:hidden;.screen-count{color:",";padding:0 3px;font-weight:600;}.toggle-icon{width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:#8d9ea7;cursor:pointer;.icon{height:12px;}}}.no-slice{display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - 50px);> img{width:93px;margin:-100px 10px 0;}span{color:",";font-size:14px;&:nth-child(2){padding-top:21px;}&:nth-child(3){font-size:12px;padding-top:8px;}&:nth-child(4){padding-top:4px;font-size:12px;}}a{margin-top:31px;text-decoration:none;padding:4px 13px;font-size:12px;color:",";border:1px solid ",";border-radius:3px;background-color:",";&:hover{color:",";box-shadow:0 2px 4px 0 rgba(39,54,78,0.1);background-color:",";}&:active{color:",";background:",";}img{width:14px;display:inline-block;vertical-align:middle;margin-right:5px;}}}"],(function(e){
return e.theme.common.bg.input_bg}),(function(e){return e.theme.preview.panel.box_shadow}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.common.text_12.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.preview.panel.no_slice_text.cr}),(function(e){return e.theme.preview.panel.no_slice_btn_border}),(function(e){return e.theme.preview.panel.no_slice_btn_bg}),(function(e){return e.theme.preview.panel.no_slice_text.hover}),(function(e){
return e.theme.preview.panel.no_slice_btn_bg_hover}),(function(e){return e.theme.preview.panel.no_slice_text.active}),(function(e){return e.theme.preview.panel.no_slice_btn_bg_active})),Je=n(40),Ke=function(e){v()(n,e)
var t=x()(n)
function n(){var e
p()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),j()(g()(e),"handleTabChange",(function(t){e.props.dispatch({type:"preview:previewPanel:navindex",payload:{previewPanelNavIndex:t}})})),e}return h()(n,[{key:"render",value:function(){var e=this.props,t=e.screensCount,n=e.showSliceTab,r=e.previewPanelNavIndex,i=e.isHTMLZip,o=Qe(t),s=0===r,l=1===r,d=n&&s
return Object(a.jsxs)(Xe,{className:T()("preview-panel",{"is-uichina":Object(Je.l)()||Object(Je.f)()}),screensCount:t,children:[Object(a.jsx)("header",{children:n?Object(a.jsx)(O.b,{className:"preview-panel-nav",activeIndex:r,onTabChange:this.handleTabChange,children:o.map((function(e){var t=e.key,n=u()(e,["key"])
return Object(a.jsx)(O.a,c()({},n),t)}))}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("span",{className:"screen-count",children:"".concat(I18N.pPreviewPanel.screen,"（").concat(t,"）")})})}),s&&Object(a.jsx)(K,{isHTMLZip:i}),l&&Object(a.jsx)(_e,{}),s&&d&&Object(a.jsx)(qe,{})]})}}]),n}(S.PureComponent)
j()(Ke,"propTypes",{isMinimized:C.a.bool,showSliceTab:C.a.bool,isHTMLZip:C.a.bool,screensCount:C.a.number,previewPanelNavIndex:C.a.number,dispatch:C.a.func})
var Qe=Object(se.i)((function(e){return[{key:"screen",label:"".concat(I18N.pPreviewPanel.pages,"（").concat(e,"）")},{key:"images",label:I18N.pPreviewPanel.images}]})),$e=Object(i.createSelector)([o.F],(function(e){return e.filter((function(e){return!Object(H.a)(e)})).length})),et=Object(i.createSelector)([o.D,o.A,o.b,$e,function(e){return e.container.common.previewPanelNavIndex}],(function(e,t,n,r,i){var o=e.isHTMLZip
return{layout:t,screensCount:r,showSliceTab:"inspect"===n&&!o,previewPanelNavIndex:i,isHTMLZip:o}}))
t.a=Object(r.connect)((function(e){return et(e)}))(Ke)},function(e,t,n){"use strict"
var r=n(4),i=n.n(r),o=n(21),a=n(26),s=n.n(a),c=n(184),l=n.n(c),u=n(392),d=n.n(u),p=n(28),f=n(98),h=n(22),m=n.n(h),g=n(260),b=n.n(g),v=n(175),y=n(56),x=function(e){if(O(e)!==H)return console.warn("Not rgbacolor but use rgba2hexWithA"),e
var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d+)?)[\s+]?/i)
return t&&t.length>=4?{hex:("#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2)).toUpperCase(),o:Number((+t[4]).toFixed(2))}:e},w=function(e){var t=j(e)
if(!t)return q
var n=C(t)
return n?k(n,H):t},j=function(e){var t=null
return e&&"string"==typeof e?t=e:e&&e.background&&(t=Array.isArray(e.background)?"#".concat(Object(y.hex8StringFromJSON)(Object(v.backgroundJSONFromBase)(e.background).color)):null),t},S=/rgba?\(\s*([\w.+]+)\s*,\s*([\w.+]+)\s*,\s*([\w.+]+)\s*(?:,\s*([\w%.+]+)\s*)?\)/,_=function(e){return Math.min(Math.max(Math.round(e),0),255)},C=function(e){var t,n,r,i,o,a,s,c,l,u,d,p,f=(t=e,r=S.exec(t.toLowerCase())||[],i=m()(r,5),o=i[1],a=void 0===o?"255":o,s=i[2],c=void 0===s?"255":s,l=i[3],u=void 0===l?"255":l,d=i[4],
p=void 0===d?"1":d,a<=1&&c<=1&&u<=1?{R:parseInt(b()(255*a),10),G:parseInt(b()(255*c),10),B:parseInt(b()(255*u),10),A:Number(Number(p).toFixed(2))}:{R:_(Number(a)),G:_(Number(c)),B:_(Number(u)),A:(n=p.endsWith("%")?Number(p.slice(0,-1)):100*Number(p),Math.min(Math.max(Math.round(n),0),100))}),h=f.G,g=f.B,v=f.A
return"rgba(".concat(f.R,", ").concat(h,", ").concat(g,", ").concat(v,")")},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q
return e.includes(H)?H:e.includes(V)?V:e.includes("#")&&9===e.length?G:e.includes("#")?W:!!e.includes(Y)&&Y},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H
if(!e)return q
var n=O(e)
if(!n)return q
switch(n){case H:if(t===n)return e
if(t===V)return T(e)
if(t===W)return D(e)
if(t===G)return A(e)
break
case V:if(t===n)return e
if(t===H)return N(e)
if(t===W)return P(e)
if(t===G)return I(e)
break
case W:if(t===n)return e
if(t===H)return B(e)
if(t===V)return M(e)
if(t===G)return L(e)
break
case G:if(t===n)return e
if(t===H)return F(e)
if(t===V)return R(e)
if(t===W)return z(e)
break
case Y:if(t===H)return Z
if(t===V)return T(Z)
if(t===W)return D(Z)
if(t===G)return A(Z)
break
default:return e}},E=function(e){if(O(e)!==H)return console.warn("Not rgbacolor but use rgba2rgbWithA"),e
var t=x(e),n=t.hex,r=t.o
return n?{rgb:M(n),o:r}:q},M=function(e){if(O(e)!==W)return console.warn("Not hexcolor but use hex2rgb"),e
if(3===(e=e.replace("#","")).length){var t=e.split(""),n=m()(t,3),r=n[0],i=n[1],o=n[2]
e="".concat(r).concat(r).concat(i).concat(i).concat(o).concat(o)}var a=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),c=parseInt(e.substring(4,6),16)
return"rgb(".concat(a,", ").concat(s,", ").concat(c,")")},T=function(e){var t=E(e),n=t.rgb,r=t.o
return n?"".concat(n," ").concat(Math.round(100*r),"%"):e},D=function(e){var t=x(e),n=t.hex,r=t.o
return n?"".concat(n.toUpperCase()," ").concat(Math.round(100*r),"%"):e},A=function(e){if(O(e)!==H)return console.warn("Not rgbacolor but use rgba2argb"),e
var t=x(e),n=t.hex,r=t.o
if(!n)return e
var i=("0"+parseInt(255*r,10).toString(16)).slice(-2).toUpperCase()
return"#".concat(i).concat(n.slice(1))},N=function(e){return O(e)!==V?(console.warn("Not rgbcolor but use rgb2rgba"),e):"rgba(".concat(e.slice(4,-1),", 1)")},P=function(e){if(O(e)!==V)return console.warn("Not rgbcolor but use rgb2hex"),e
var t=e.match(/^rgb?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i)
if(t&&4===t.length){var n=("0"+parseInt(t[1],10).toString(16)).slice(-2),r=("0"+parseInt(t[2],10).toString(16)).slice(-2),i=("0"+parseInt(t[3],10).toString(16)).slice(-2)
return"#".concat(n).concat(r).concat(i).toUpperCase()}},I=function(e){return O(e)!==V?(console.warn("Not rgbcolor but use rgb2argb"),e):L(P(e))},L=function(e){return O(e)!==W?(console.warn("Not hexcolor but use hex2argb"),e):"#FF".concat(e.slice(1))},B=function(e){return O(e)!==W?(console.warn("Not hexcolor but use hex2rgba"),e):N(M(e))},F=function(e){if(O(e)!==G)return console.warn("Not argbcolor but use argb2rgba"),e
for(var t=[],n=1;n<e.length;n+=2)t.push(e.slice(n,n+2))
var r=t[0],i=t[1],o=t[2],a=t[3]
return i=parseInt(i,16),o=parseInt(o,16),a=parseInt(a,16),r=Number((parseInt(r,16)/255).toString().slice(0,4)),"rgba(".concat(i,", ").concat(o,", ").concat(a,", ").concat(r,")")},R=function(e){if(O(e)!==G)return console.warn("Not argbcolor but use argb2rgbWithA"),e
var t=F(e),n=E(t),r=n.rgb,i=n.o
return r?"".concat(r," ").concat(Math.round(100*i),"%"):e},z=function(e){if(O(e)!==G)return console.warn("Not argbcolor but use argb2hexWithA"),e
var t=F(e),n=x(t),r=n.hex,i=n.o
return r?"".concat(r.toUpperCase()," ").concat(Math.round(100*i),"%"):e},U=function(e){if(!e)return q
var t=k(e,"rgba"),n=Object(y.hex8JSONFromNumber)(Object(y.hex8NumberFromRgbaCSS)(t)),r=n.R,i=n.G,o=n.B,a=n.A
return r=Object(p.j)(r/255),i=Object(p.j)(i/255),o=Object(p.j)(o/255),"UIColor(red:".concat(r,", green:").concat(i,", blue:").concat(o,", alpha:").concat(a,")")},H="rgba",G="argb",V="rgb",W="hex",Y="transparent",Z="rgba(255, 255, 255, 0)",q="#FFFFFF",X=function(e){return Object(f.a)(e)?(t=e.text,JSON.parse(t).reduce((function(e,t,n,r){return e+(0===n?"":"\n")+t.children.reduce((function(e,t,n){return e+t.text}),"")}),"")):function(e){return!!e&&e.replace(/<[^>]+>/gi,"")}(e.text)
var t},J=function(e){return null===e||isNaN(e)||0===e},K=function(e){var t
return(t=[]).concat.apply(t,s()(e))},Q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.length
return e.reduce((function(e,o,a){var s=o.color,c=o.offset_x,l=void 0===c?0:c,u=o.offset_y,d=void 0===u?0:u,f=o.blur_radius,h=void 0===f?0:f,m=o.spread,g=void 0===m?0:m,b=Object(p.a)(l,n,t),v=Object(p.a)(d,n,t),y=Object(p.a)(h,n,t)
g=Object(p.a)(g,n,t),s=w(s)
var x=a<i-1?", ":"",j=r?"inset ":""
return e.concat("".concat(j).concat(b," ").concat(v," ").concat(y," ").concat(g," ").concat(s).concat(x))}),"")},$=function(e){return e&&e.color_stops?e.color_stops.map((function(e){var t=e.color
return w(t)})):q},ee=function(e){switch(e){case"swift":return"pt"
case"android":return"dp"
default:return"px"}},te=n(16),ne=n(67),re=n(97),ie=n(0),oe=n(7),ae=n.n(oe),se=n(6),ce=n.n(se),le=n(3),ue=n.n(le),de=n(8),pe=n.n(de),fe=n(9),he=n.n(fe),me=n(2),ge=n.n(me),be=n(1),ve=n.n(be),ye=n(5),xe=n.n(ye),we=n(139),je=n.n(we),Se=n(103),_e=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3]
return e=e.toString(),"pt"!==n?e.replace(t,n):r?U(e):e.replace(t,"")},Ce={px:{x:"left",y:"top",width:"width",height:"height",lineHeight:"line-height",opacity:"opacity",border:"border",borderRadius:"border-radius",borderColor:"border-color",borderWidth:"border-width",backgroundColor:"background-color",color:"color",fontSize:"font-size",fontFamily:"font-family",fontStyle:"font-style",textAlign:"text-align",shadows:"box-shadow",innerShadows:"inner-shadow"},dp:{x:"left",y:"top",width:"layout_width",
height:"layout_height",border:"border",opacity:"opacity",color:"textColor",fontSize:"textSize",fontFamily:"font-family",fontStyle:"font-style",textAlign:"gravity",backgroundColor:"background",borderRadius:"radius",borderColor:"border-color",lineHeight:"line-height",borderWidth:"border-width",shadows:"box-shadow",innerShadows:"inner-shadow"},pt:{x:"x",y:"y",width:"width",height:"height",opacity:"opacity",border:"border",backgroundColor:"backgroundColor",color:"text-color",textAlign:"alignment",
fontSize:"fontSize",fontFamily:"fontFamily",fontStyle:"font-style",borderRadius:"cornerRadius",borderColor:"borderColor",borderWidth:"border-width",lineHeight:"lineSpacing"}},Oe=n(116),ke=n(128),Ee=n(74),Me=n.n(Ee),Te=n(13),De=n.n(Te),Ae=function(e){var t=e.title,n=e.dataValue,r=void 0===n?[]:n,i=e.data,o=void 0===i?[]:i,a=e.text,s=e.color,c=e.className,l=e.colorUnit,u=e.first,d=e.i18n,p=k(s,"rgba"),f=k(s,l),h=r.length>0,m=4===r.length,g=De()("panel","".concat(c),{"panel-bottom-8":!h,"panel-item-text":!!a,
"shadow-panel":m})
return s?Object(ie.jsx)(Ne,{title:t,rgbaColor:p,stateColor:f}):Object(ie.jsx)("div",{className:g,"data-value":t,children:a?Object(ie.jsx)(Me.a,{arrowed:!1,className:"panel-item item-flex-1",content:{click:I18N.pInspect.copied},duration:1e3,children:Object(ie.jsx)("pre",{"data-type":"copy","data-placement":"top","data-clipboard-text":a,className:"panel-item-value text-content",dangerouslySetInnerHTML:{__html:a}})}):Object(ie.jsx)("div",{className:"".concat(o.length<2?"single-panel-box":"mult-panel-box"),
children:(u?o.slice(0,1):o).map((function(e,t){return Object(ie.jsx)(Me.a,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"panel-item","data-value":r[t],children:Object(ie.jsx)("div",{"data-type":"copy","data-clipboard-text":e,className:"panel-item-value",children:d?I18N.pInspect[e]:e})},t)}))})})}
Ae.propTypes={title:ve.a.string,data:ve.a.array,dataValue:ve.a.array,text:ve.a.string,color:ve.a.string,colorUnit:ve.a.string,first:ve.a.bool,className:ve.a.string}
var Ne=function(e){pe()(n,e)
var t=he()(n)
function n(e){var r
return ae()(this,n),r=t.call(this,e),ge()(ue()(r),"handleClick",(function(){r.setState((function(e){return{activeColor:e.colorList[e.index%4],index:e.index+1}}))})),r.state={index:0,activeColor:e.stateColor,colorList:"transparent"===e.rgbaColor?Array(4).fill("transparent"):Pe(e.rgbaColor)||[]},r}return ce()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.stateColor
this.setState((function(e){return{activeColor:t}}))}},{key:"render",value:function(){var e=this.state.activeColor,t=this.props,n=t.title,r=t.rgbaColor,i=De()("panel","panel-bottom-8"),o=r.split(","),a=o.length,s=a>3&&1!=+o[a-1].replace(")","")
return Object(ie.jsx)("div",{className:i,"data-value":n,children:Object(ie.jsxs)("div",{className:"panel-item panel-item-color item-flex-1",children:[Object(ie.jsx)(Me.a,{className:"panel-item-value textEllipsis",content:{click:I18N.pInspect.copied},"data-type":"copy",arrowed:!1,"data-clipboard-text":e,children:e}),Object(ie.jsx)("div",{className:"panel-item-color-block-wrap ".concat(s?"panel-item-color-block-imageback-wrap":""),children:Object(ie.jsx)("div",{className:"panel-item-color-block",style:{
backgroundColor:r},onClick:this.handleClick})})]})})}}]),n}(ye.PureComponent),Pe=function(e){if(e)return[k(e,"rgba"),k(e,"rgb"),k(e,"argb"),k(e,"hex")]}
Ne.propTypes={rgbaColor:ve.a.string.isRequired,stateColor:ve.a.string,title:ve.a.string}
var Ie=function(e){var t=e.textStyles,n=void 0===t?[]:t,r=e.hiddSpacing,i=e.ratio,o=e.alignment,a=e.vertical_alignment,s=e.lineHeight,c=e.letterSpacing,l=e.unit,u=e.text,d=(e.o,e.colorUnit),f=e.fontStyle
e.padding
return Object(ie.jsxs)(Pt,{children:[I18N.pInspect.font,(n.length>0&&n.slice(0,1)).map((function(e,t){var n=e.color,r=e.font_size,o=e.location,a=e.font_face,s=e.fontStyle,c=C(n),u=k(c,"rgba"),h=Object(p.a)(r,i,l),m=k(c,d)
return Object(ie.jsxs)("div",{children:[a&&Object(ie.jsx)(Ae,{title:I18N.pInspect.type_face,data:[a]}),(s||f)&&Object(ie.jsx)(Ae,{title:I18N.pInspect.font_style,data:[s||f]}),u&&Object(ie.jsx)(Ne,{stateColor:m,title:I18N.pInspect.color,rgbaColor:u}),h&&Object(ie.jsx)(Ae,{title:I18N.pInspect.font_size,data:[h]})]},"".concat(r).concat(o).concat(t))})),o&&Object(ie.jsx)(Ae,{title:I18N.pInspect.align,data:[o,a||"auto"],dataValue:[I18N.pInspect.horizontal_align,I18N.pInspect.vertical_align]
}),void 0!==n[0].paraSpacing?Object(ie.jsx)(Ae,{title:I18N.pInspect.graph,data:[n[0].letterSpacing,n[0].lineHeight,n[0].paraSpacing],dataValue:[I18N.pInspect.letter_spacing,I18N.pInspect.text_line_height,I18N.pInspect.para_spacing]}):s&&Object(ie.jsx)(Ae,{title:I18N.pInspect.graph,data:[s,c||"auto"],dataValue:[I18N.pInspect.line_height,I18N.pInspect.letter_spacing],first:r}),u&&Object(ie.jsx)(Ae,{text:u,title:I18N.pInspect.content})]})}
Ie.propTypes={textStyles:ve.a.array,fontStyle:ve.a.string,alignment:ve.a.string,vertical_alignment:ve.a.string,hiddSpacing:ve.a.bool,letterSpacing:ve.a.oneOfType([ve.a.string,ve.a.bool]),lineHeight:ve.a.oneOfType([ve.a.string,ve.a.bool]),paraSpacing:ve.a.number,ratio:ve.a.number,unit:ve.a.string,text:ve.a.string,o:ve.a.number,padding:ve.a.number,colorUnit:ve.a.string}
var Le=function(e){var t=e.adapterLeft,n=e.adapterTop,r=e.adapterWidth,i=e.adapterHeight,o=e.opacity,a=e.radius,s=e.rotate,c=e.mask,l=e.ignore_underlying_mask
return Object(ie.jsxs)(Pt,{children:[I18N.pInspect.basic_attribute,t&&Object(ie.jsx)(Ae,{title:I18N.pInspect.position,dataValue:[I18N.pInspect._x,I18N.pInspect._y],data:[t,n]}),r&&Object(ie.jsx)(Ae,{title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[r,i]}),s&&Object(ie.jsx)(Ae,{title:I18N.pInspect.rotation,data:[s]}),a&&Object(ie.jsx)(Ae,{title:I18N.pInspect.border_radius,data:[a]}),o&&Object(ie.jsx)(Ae,{title:I18N.pInspect.opacity,data:[o]}),c&&Object(ie.jsx)(Ae,{
title:I18N.pInspect.mask,data:[c],i18n:!0}),l&&Object(ie.jsx)(Ae,{title:I18N.pInspect.underlying_mask,data:["ignore_underlying_mask"],i18n:!0})]})}
Le.propTypes={adapterLeft:ve.a.string,adapterHeight:ve.a.string,adapterTop:ve.a.string,adapterWidth:ve.a.string,opacity:ve.a.oneOfType([ve.a.string,ve.a.bool]),rotate:ve.a.oneOfType([ve.a.string,ve.a.bool]),radius:ve.a.oneOfType([ve.a.string,ve.a.number]),mask:ve.a.string,ignore_underlying_mask:ve.a.bool}
var Be=n(132),Fe=n.n(Be),Re=n(35),ze=n(36),Ue=n.n(ze),He=function(){return Object(ie.jsx)("div",{children:"Error in GlobalAttributes"})},Ge=function(e){pe()(n,e)
var t=he()(n)
function n(){var e
ae()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),ge()(ue()(e),"handleDelColor",(function(t){var n=Object(p.e)(k(t,"rgba"))
e.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:n}}),MB.event("preview","删除了自选颜色")})),ge()(ue()(e),"handleClick",(function(e){var t=e.target.dataset.trackId
t&&MB.event("preview","标注模式: 复制".concat(t))})),e}return ce()(n,[{key:"componentDidCatch",value:function(e,t){return console.log(e,t),Object(ie.jsx)(He,{})}},{key:"render",value:function(){var e=this.props,t=e.adapterWidth,n=e.adapterHeight,r=e.screenColor,i=void 0===r?[]:r,o=(e.documentColor,e.globalText),a=void 0===o?[]:o,s=(e.globalColor,e.userPickColor),c=void 0===s?[]:s,l=e.colorUnit
return Object(ie.jsxs)("div",{className:De()("global-attributes"),onClick:this.handleClick,children:[Object(ie.jsx)("div",{className:De()("container","global-layer","layer-size"),children:Object(ie.jsx)(Ae,{trackId:I18N.pInspect.size,title:I18N.pInspect.size,dataValue:[I18N.pInspect.width,I18N.pInspect.height],data:[t,n]})}),Object(ie.jsxs)(Pt,{children:[I18N.pInspect.color_title,Object(ie.jsx)(Ye,{trackId:I18N.pInspect.pick_color,title:I18N.pInspect.pick_color,handleDelColor:this.handleDelColor,
colorBlockMap:c,colorUnit:l,canDel:!0}),Object(ie.jsx)(We,{trackId:I18N.pInspect.screen_color,title:I18N.pInspect.screen_color,handleDelColor:this.handleDelColor,colorBlockMap:i,colorUnit:l})]}),a.length>0&&Object(ie.jsxs)(Pt,{children:[I18N.pInspect.font_title,Object(ie.jsx)(Ve,{globalText:a})]})]})}}]),n}(ye.PureComponent)
Ge.propTypes={adapterWidth:ve.a.string.isRequired,adapterHeight:ve.a.string.isRequired,colorUnit:ve.a.string.isRequired,screenColor:ve.a.array,userPickColor:ve.a.array,documentColor:ve.a.array,globalText:ve.a.array,globalColor:ve.a.array,dispatch:ve.a.func}
var Ve=function(e){return e.globalText.map((function(e){return Object(ie.jsx)(Ae,{className:"global-font",data:[e]},e)}))}
Ve.propTypes={globalText:ve.a.array}
var We=function(e){var t=e.trackId,n=e.title,r=e.colorBlockMap,i=e.fromSketch,o=e.handleDelColor,a=e.canDel,s=e.colorUnit,c=e.focusColor
return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{className:"second-title",children:n}),Object(ie.jsx)("div",{className:"panel-row",children:r.length?r.map((function(e,n){var r=Ze(i,e,"rgba"),l=k(r,s)
return Object(ie.jsx)(qe,{canDel:a,trackId:t,handleDelColor:o,color:l,rgbaColor:r,colorUnit:s,focusColor:c},"".concat(n).concat(e))})):Object(ie.jsx)(Xe,{})})]})}
We.propTypes={trackId:ve.a.string,title:ve.a.string.isRequired,colorBlockMap:ve.a.array.isRequired,handleDelColor:ve.a.func.isRequired,fromSketch:ve.a.bool,canDel:ve.a.bool,colorUnit:ve.a.string,focusColor:ve.a.string}
var Ye=Object(o.connect)((function(e){var t=e.container.previewSetting
return{userPickColor:t.userPickColor,focusColor:t.focusColor}}))(We),Ze=function(e,t,n){return k(e?C(t):t,n)},qe=function(e){var t=e.color,n=e.rgbaColor,r=e.colorUnit,i=e.handleDelColor,o=e.canDel,a=e.trackId,s=e.focusColor,c=t===k(s,r)
return Object(ie.jsx)(Fe.a,{shouldOpenOnHover:!0,className:De()("color-dropdown",{"is-focus":c}),opener:Object(ie.jsx)(Me.a,{arrowed:!1,"data-type":"copy","data-track-id":a,"data-clipboard-text":t,className:"row-item color-block",style:{background:n},duration:1e3,content:{click:I18N.pInspect.copied}}),inflexible:!0,arrowed:!0,menuX:"left",menuY:"top",menu:Object(ie.jsx)(Je,{color:t,rgbaColor:n,canDel:o,handleDelColor:i}),menuClassName:Object(Re.trimList)(["palette-dropdown-menu",r])})}
qe.propTypes={color:ve.a.string.isRequired,trackId:ve.a.string,handleDelColor:ve.a.func,colorUnit:ve.a.string,rgbaColor:ve.a.string,canDel:ve.a.bool,focusColor:ve.a.string}
var Xe=function(){return Object(ie.jsx)("div",{className:"forbid-color",children:Object(ie.jsx)("div",{className:"transparent"})})},Je=function(e){pe()(n,e)
var t=he()(n)
function n(){var e
ae()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),ge()(ue()(e),"handleClick",(function(t){var n=e.props,r=n.rgbaColor;(0,n.handleDelColor)(r)})),e}return ce()(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.canDel
return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("span",{children:t}),n&&Object(ie.jsx)(Ue.a,{type:"dora",name:"trash",className:"trash",onClick:this.handleClick})]})}}]),n}(ye.PureComponent)
Je.propTypes={color:ve.a.string.isRequired,rgbaColor:ve.a.string,handleDelColor:ve.a.func.isRequired,canDel:ve.a.bool}
var Ke=n(89),Qe=n.n(Ke),$e=n(136),et=n.n($e),tt=n(393),nt=n.n(tt),rt=n(394),it=n.n(rt),ot=n(395),at=n.n(ot),st=n(396),ct=n.n(st),lt=n(397),ut=n.n(lt),dt=n(398),pt=n.n(dt)
et.a.registerLanguage("css",nt.a),et.a.registerLanguage("less",it.a),et.a.registerLanguage("scss",at.a),et.a.registerLanguage("stylus",ct.a),et.a.registerLanguage("swift",ut.a),et.a.registerLanguage("xml",pt.a)
var ft={css:"css",less:"less",sass:"scss",stylus:"stylus",swift:"swift",android:"xml"},ht=[{value:"swift",label:"Swift"},{value:"android",label:"Android"},{value:"css",label:"CSS"},{value:"less",label:"Less"},{value:"sass",label:"Sass"},{value:"stylus",label:"Stylus"}],mt=function(e){pe()(n,e)
var t=he()(n)
function n(e){var r
return ae()(this,n),r=t.call(this,e),ge()(ue()(r),"highlight",(function(){r.hljsRef&&r.hljsRef.current.querySelectorAll("pre code").forEach((function(e){et.a.highlightBlock(e)}))})),ge()(ue()(r),"updateLanguage",(function(e){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{language:e}})})),ge()(ue()(r),"renderCode",(function(e){return{px:r.renderCss,dp:r.renderAndroidCode,pt:r.renderIos}[ee(e)]()})),ge()(ue()(r),"renderIos",(function(){var e=r.props,t=e.code,n=e.language,i=e.text
return Object(ie.jsx)(bt,{code:t,language:n,text:i})})),ge()(ue()(r),"renderCss",(function(){var e=r.props,t=e.code,n=e.language
return Object(ie.jsx)(gt,{language:n,code:t})})),ge()(ue()(r),"renderAndroidCode",(function(){var e=r.props,t=e.whichAndView,n=e.code,i=e.text
return Object(ie.jsx)(vt,{code:n,text:i,whichAndView:t})})),r.hljsRef=xe.a.createRef(),r}return ce()(n,[{key:"componentDidMount",value:function(){this.highlight()}},{key:"componentDidUpdate",value:function(e){e.code===this.props.code&&e.language===this.props.language||this.highlight()}},{key:"render",value:function(){var e=this.props,t=e.language,n=e.theme
return Object(ie.jsxs)(Pt,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Qe.a,{menuClassName:"CodeBoxSelectMenu",placeholder:" ",unstyled:!0,menuX:"center",optionList:ht,value:t,onChange:this.updateLanguage}),Object(ie.jsx)(kt,{text:"#code-content"})]}),Object(ie.jsx)("div",{ref:this.hljsRef,className:De()("code-content",{"is-dark-theme":"dark"===n}),id:"code-content",children:Object(ie.jsx)("pre",{children:this.renderCode(t)})})]})}}]),n}(ye.PureComponent)
ge()(mt,"propTypes",{code:ve.a.object,theme:ve.a.string,whichAndView:ve.a.string,language:ve.a.string,text:ve.a.string,dispatch:ve.a.func})
var gt=function(e){var t=e.language,n=e.code,r=yt(t),i=xt(t),o=jt(n)
return Object.entries(o).map((function(e){var n=m()(e,2),o=n[0],a=n[1]
return Object(ie.jsx)("code",{className:ft[t],children:"".concat(o).concat(i).concat(a).concat(r)},o)}))}
gt.propTypes={code:ve.a.object.isRequired,language:ve.a.string}
var bt=function(e){var t=e.code,n=e.text
return wt({code:t,text:n}).map((function(e){return Object(ie.jsx)("code",{className:"swift",children:e},e)}))}
bt.propTypes={code:ve.a.object.isRequired,text:ve.a.string}
var vt=function(e){var t=e.code,n=e.text,r=e.whichAndView
return Object(ie.jsxs)("code",{className:"xml",children:[Object(ie.jsx)("div",{className:"highlight-row",children:"<".concat(r)}),Object.entries(t).map((function(e){var t=m()(e,2),n=t[0],r=t[1]
return Object(ie.jsx)("div",{children:"android:".concat(n,'="').concat(r,'"')},n)})),n.length>0&&Object(ie.jsx)("div",{children:'android:text="'.concat(n,'"')}),Object(ie.jsx)("div",{className:"highlight-row",children:"/>"})]})}
vt.propTypes={code:ve.a.object.isRequired,text:ve.a.string,whichAndView:ve.a.string}
var yt=function(e){switch(e){case"stylus":case"sass":return""
default:return";"}},xt=function(e){switch(e){case"stylus":return" "
default:return": "}},wt=function(e){var t=e.code,n=e.text,r=t.width,i=t.height,o=t.x,a=t.y,s=t.fontFamily,c=t.cornerRadius,l=t.fontSize,u=t.opacity,d=t.borderWidth,p=t.borderColor,f=t.alignment,h=t.backgroundColor,m=n?"textLayer":"layer",g=n?"UILabel":"UIView",b=[]
return b.push("let ".concat(m," = ").concat(g,"(frame: CGRect(x: ").concat(o,", y:").concat(a,", width: ").concat(r,", height: ").concat(i,"))")),h&&b.push("".concat(m,".backgroundColor = ").concat(h)),u&&b.push("".concat(m,".alpha = ").concat(u)),c&&b.push("layer.layer.cornerRadius = ".concat(c)),d&&b.push("layer.layer.borderWidth = ".concat(d)),p&&b.push("layer.layer.borderColor = ".concat(p,".cgColor")),n&&(b.push('let textContent = "'.concat(n,'"')),
b.push('let textString = NSMutableAttributedString(string: textContent, attributes: [\n      NSAttributedStringKey.font: UIFont(name: "'.concat(s,'", size: ').concat(l,")!\n      ])")),b.push("let textRange = NSRange(location:0, length: textString.length)"),b.push("let paragraphStyle = NSMutableParagraphStyle()"),b.push("paragraphStyle.alignment = .".concat(f)),b.push("textString.addAttribute(NSAttributedStringKey.paragraphStyle, value: paragraphStyle, range: textRange)"),
b.push("textLayer.attributedText = textString")),b},jt=function(e){if(e["border-color"]&&e["border-width"]){var t={border:"".concat(e["border-width"]," solid ").concat(e["border-color"])}
return delete e["border-color"],delete e["border-width"],Object.assign(e,t)}return e},St=n(213),_t=n.n(St),Ct=function(e){pe()(n,e)
var t=he()(n)
function n(){var e
ae()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),ge()(ue()(e),"imageRef",(function(t){return e.$image=t})),ge()(ue()(e),"handleClick",(function(){var t=e.props,n=t.imageSetZip,r=t.name
Object(p.g)({url:n,name:r,type:"zip"})})),ge()(ue()(e),"handleOnload",(function(){Object(p.b)({image:e.$image,adjust:38}),e.setState({imageLoad:!0})})),ge()(ue()(e),"handleError",(function(){console.error("image info error")})),ge()(ue()(e),"debounceClick",_t()(e.handleClick,500,{leading:!0})),e}return ce()(n,[{key:"render",value:function(){var e=this.props,t=e.imageSet,n=e.name,r=t[0].src,i={background:"url(".concat(Ot,") left top"),backgroundSize:"cover"}
return Object(ie.jsxs)(Pt,{children:[Object(ie.jsxs)("div",{className:"slice-title",children:[I18N.pInspect.export,Object(ie.jsx)("span",{onClick:this.debounceClick,children:I18N.pInspect.download_single})]}),Object(ie.jsxs)("div",{className:"slice-panel",children:[Object(ie.jsx)("div",{className:"slice-item-wrap",style:i,children:Object(ie.jsx)("img",{src:r,alt:n,ref:this.imageRef,onLoad:this.handleOnload,onError:this.handleError})}),Object(ie.jsx)("p",{className:"slice-item-name",children:n})]})]})}}]),n
}(ye.PureComponent)
ge()(Ct,"propTypes",{imageSetZip:ve.a.string,imageSet:ve.a.array,name:ve.a.string})
var Ot="/mb-workspace/images/preview/slice-bg.png",kt=function(e){pe()(n,e)
var t=he()(n)
function n(){var e
return ae()(this,n),(e=t.call(this)).onClipboardEvent=e.onClipboardEvent.bind(ue()(e)),e}return ce()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.target,r=t.text
this.clipboard=r?new je.a(this.$copyBtn,{text:function(){return Object(p.m)(document.querySelector(r).innerText)}}):new je.a(this.$copyBtn,{target:function(){return document.querySelector(n)}}),this.clipboard.on("success",(function(t){e.error=!1,window.getSelection().removeAllRanges(),e.onClipboardEvent()})),this.clipboard.on("error",(function(t){e.error=!0,e.onClipboardEvent()}))}},{key:"componentWillUnmount",value:function(){this.clipboard.destroy()}},{key:"onClipboardEvent",value:function(){
MB.event("preview","使用了代码复制")}},{key:"render",value:function(){var e=this
return Object(ie.jsx)(Me.a,{arrowed:!1,content:{click:I18N.pInspect.copied},duration:1e3,className:"copyBtn",children:Object(ie.jsx)("span",{ref:function(t){return e.$copyBtn=t},children:I18N.pInspect.copy})})}}]),n}(ye.Component)
ge()(kt,"propTypes",{target:ve.a.string,text:ve.a.string})
var Et=function(e){var t=e.value,n=e.title
return Object(ie.jsx)("div",{className:"".concat(De()("container")," ").concat(De()("layer-name")),children:Object(ie.jsx)(Ae,{title:n||I18N.pInspect.layer_name,data:[t]})})}
Et.propTypes={title:ve.a.string,value:ve.a.string}
var Mt=function(e){var t=e.colorUnit,n=e.backgroundColorSort
return Object(ie.jsxs)(Pt,{children:[I18N.pInspect.fills,n.map((function(e,n){var r=e.value,i=e.type,o=void 0===i?"color":i,a=e.opacity,s=e.gradient,c=w(r),l=c&&k(c,t)
return"color"===o?Object(ie.jsx)(Ne,{stateColor:l,rgbaColor:c,title:I18N.pInspect.color},n):Object(ie.jsx)(Tt,{gradient:s,colorUnit:t,opacity:a},n)}))]})}
Mt.propTypes={backgroundColorSort:ve.a.array,colorUnit:ve.a.string}
var Tt=function(e){var t=e.gradient,n=t.color_stops,r=void 0===n?[]:n,i=(t.from,t.to,t.type),o=e.opacity,a=e.colorUnit
return Object(ie.jsxs)("div",{children:[r.length>0&&r.map((function(e,t){var n=e.color
e.position
return Object(ie.jsx)("div",{children:Object(ie.jsx)(Ae,{colorUnit:a,color:w(n),title:0===t?I18N.pInspect.gradient:""})},"".concat(n).concat(t))})),o&&Object(ie.jsx)(Ae,{title:I18N.pInspect.opacity,data:["".concat(100*o,"%")]}),i&&Object(ie.jsx)(Ae,{data:[i],title:I18N.pInspect.type})]})}
Tt.propTypes={gradient:ve.a.object.isRequired,opacity:ve.a.number,colorUnit:ve.a.string.isRequired}
var Dt=function(e){var t=e.shadows,n=void 0===t?[]:t,r=e.isInnerShaow,i=void 0!==r&&r,o=e.unit,a=e.ratio,s=e.colorUnit,c=e.textShadows,l=void 0===c?[]:c
return Object(ie.jsxs)(Pt,{children:[i?I18N.pInspect.inner_shadow:I18N.pInspect.shadow,n.length>0&&Object(ie.jsx)(At,{shadows:n,unit:o,ratio:a,colorUnit:s}),l.length>0&&Object(ie.jsx)(At,{shadows:l,unit:o,ratio:a,colorUnit:s})]})}
Dt.propTypes={shadows:ve.a.array,textShadows:ve.a.array,isInnerShaow:ve.a.bool,unit:ve.a.string.isRequired,ratio:ve.a.number.isRequired,colorUnit:ve.a.string.isRequired}
var At=function(e){var t=e.shadows,n=e.unit,r=e.ratio,i=e.colorUnit
return t.map((function(e,t){var o=e.color,a=e.offset_x,s=void 0===a?0:a,c=e.offset_y,l=void 0===c?0:c,u=e.blur_radius,d=void 0===u?0:u,f=e.spread,h=void 0===f?0:f,m=Object(p.a)(s,r,n),g=Object(p.a)(l,r,n),b=Object(p.a)(d,r,n),v=Object(p.a)(h,r,n)
return Object(ie.jsxs)("div",{className:"shadow-item-gap",children:[o&&Object(ie.jsx)(Ae,{title:I18N.pInspect.color,color:w(o),colorUnit:i}),Object(ie.jsx)(Ae,{data:[m,g,b,v],dataValue:[I18N.pInspect._x,I18N.pInspect._y,I18N.pInspect.blur,I18N.pInspect.spread]})]},t)}))}
At.propTypes={shadows:ve.a.array,unit:ve.a.string,ratio:ve.a.number,colorUnit:ve.a.string}
var Nt=function(e){var t=e.colorUnit,n=e.borderSort,r=e.unit,i=e.ratio,o=e.isStroke
return Object(ie.jsxs)(Pt,{children:[o?I18N.pInspect.stroke:I18N.pInspect.borders,n.reverse().map((function(e,n){var o=e.position,a=void 0===o?"inside":o,s=e.color,c=e.thickness,l=e.gradient,u=s&&w(s),d=c&&Object(p.a)(c,i,r)
return[s?Object(ie.jsx)(Ae,{color:u,title:I18N.pInspect.color,colorUnit:t},"".concat(n).concat(u)):Object(ie.jsx)(Tt,{gradient:l,colorUnit:t}),a&&Object(ie.jsx)(Ae,{title:I18N.pInspect.position,data:[a]},"".concat(n).concat(a)),d&&Object(ie.jsx)(Ae,{title:I18N.pInspect.thickness,data:[d]},"".concat(n).concat(d))]}))]})}
Nt.propTypes={isStroke:ve.a.bool,borderSort:ve.a.array.isRequired,colorUnit:ve.a.string.isRequired,unit:ve.a.string.isRequired,ratio:ve.a.number.isRequired}
var Pt=function(e){var t=e.children
return Object(ie.jsxs)("section",{children:[Object(ie.jsx)("div",{className:De()("header"),children:t[0]}),Object(ie.jsx)("div",{className:De()("container"),children:t.slice(1)})]})}
Pt.propTypes={children:ve.a.array}
var It=function(e){
var t=e.theme,n=e.layer,r=e.unit,o=e.ratio,a=e.showGlobal,s=e.userPickColor,c=void 0===s?[]:s,l=e.globalColor,u=void 0===l?[]:l,d=e.globalText,f=void 0===d?[]:d,h=e.documentColor,m=void 0===h?[]:h,g=e.screenColor,b=void 0===g?[]:g,v=e.language,y=e.colorUnit,x=e.dispatch,j=n.widget,S=j.src_left,_=j.src_top,C=j.src_width,O=j.src_height,k=j.o,E=j.origin_width,M=j.origin_height,T=j.bd_radius,D=j.line_height,A=j.bg_colors,N=void 0===A?[]:A,P=j.borders,I=void 0===P?[]:P,L=j.i,B=j.padding,F=void 0===B?0:B,R=j.hiddSpacing,z=void 0!==R&&R,U=j.text_styles,H=void 0===U?[]:U,G=j.alignment,V=j.vertical_alignment,W=j.image,Y=j.text,Z=j.letter_spacing,q=j.image_set_zip,K=j.shadows,$=void 0===K?[]:K,te=j.inner_shadows,ne=void 0===te?[]:te,re=j.rotation,oe=j.rect_height,ae=j.rect_width,se=j.textShadows,ce=void 0===se?[]:se,le=j.image_set,ue=void 0===le?[]:le,de=j.mask,pe=void 0===de?null:de,fe=j.ignore_underlying_mask,he=void 0!==fe&&fe,me=I.length>0,be=N.length>0,ve=!!W,ye=H.length>0&&Y&&X(j).length,we=$.length>0||ce.length>0,je=ne.length>0,Se=q,Ee={
left:S,top:_,width:E||C,height:M||O,rectHeight:oe,rectWidth:ae,borderRadius:T,opacity:k,rotation:re,ratio:o,unit:r}
if("line"===j.name||"arrow"===j.name){var Me=Object(Oe.h)(j,!0),Te=Me.length,De=Me.thickness,Ae=Me.angle
Ee.width=Te,Ee.height=De,Ee.rotation=Ae}var Ne=function(e){var t=e.width,n=e.height,r=e.left,i=e.top,o=e.opacity,a=e.borderRadius,s=e.rotation,c=e.ratio,l=e.unit,u=e.rectHeight,d=e.rectWidth,f=Object(p.a)(r,c,l),h=Object(p.a)(i,c,l),m=Object(p.a)(d||t,c,l),g=Object(p.a)(u||n,c,l),b=a?String(a).split(",").map((function(e){return Object(p.a)(parseInt(e)||0,c,l)})).join(" "):null,v=J(s)?null:"".concat(s,"°")
return{adapterLeft:f,adapterTop:h,adapterWidth:m,adapterHeight:g,radius:b,opacity:J(o)?null:"".concat(o,"%"),rotate:v}}(Ee),Pe=Ne.adapterTop,Be=Ne.adapterLeft,Fe=Ne.adapterWidth,Re=Ne.adapterHeight,ze=Ne.radius,Ue=Ne.opacity,He=Ne.rotate,Ve=function(e){var t=e.lineHeight,n=e.letterSpacing,r=e.unit,i=e.ratio
return{lineHeight:t=J(t)?null:Object(p.a)(t,i,r),letterSpacing:n=J(n)?null:Object(p.a)(n,i,r)}}({lineHeight:D,letterSpacing:Z,unit:r,ratio:o}),We=Ve.lineHeight,Ye=Ve.letterSpacing,Ze="number"==typeof L?L?"italic":"normal":void 0,qe=function(e){var t,n,r,i,o,a,s,c,l,u=e.textStyles,d=e.borders,f=e.background,h=e.shadows,m=e.innerShadows,g=(e.colorUnit,e.unit),b=e.ratio
if(u.length){var v=u[0],y=v.color,x=v.font_size,j=v.font_face
t=y&&w(y),n=Object(p.a)(x,b,g),r=j}if(d.length){var S=d[0],_=S.position,C=void 0===_?"inside":_,O=S.color,k=S.thickness
i=Object(p.a)(k,b,g),a=C,O&&(o=w(O))}return f.length&&(s=w(f[0].value)),h.length&&(c=Q(h,g,b)),m.length&&(l=Q(m,g,b,!0),c="".concat(c,", ").concat(l)),{fontFamily:r,fontSize:n,color:t,borderWidth:i,borderColor:o,borderPosition:a,backgroundColor:s,boxShadow:c}}({textStyles:H,background:N,borders:I,shadows:$,innerShadows:ne,colorUnit:y,ratio:o,unit:r}),Xe=k&&100!==k?k/100:null,Je=function(e){
var t=e.attr,n=e.language,r=e.unit,i=ee(n),o=t.width,a=t.height,s=t.lineHeight,c=t.opacity,l=t.borderRadius,u=t.borderWidth,d=t.borderColor,p=t.backgroundColor,f=t.color,h=t.fontSize,m=t.fontFamily,g=t.fontStyle,b=t.boxShadow,v=t.textAlign,y=t.x,x=t.y,w=y&&ge()({},Ce[i].x,_e(y,r,i)),j=x&&ge()({},Ce[i].y,_e(x,r,i)),S=o&&ge()({},Ce[i].width,_e(o,r,i)),_=a&&ge()({},Ce[i].height,_e(a,r,i)),C=s&&ge()({},Ce[i].lineHeight,_e(s,r,i)),O=c&&ge()({},Ce[i].opacity,_e(c,r,i)),k=l&&ge()({},Ce[i].borderRadius,_e(l,r,i)),E=p&&ge()({},Ce[i].backgroundColor,_e(p,r,i,!0)),M=f&&ge()({},Ce[i].color,_e(f,r,i,!0)),T=h&&ge()({},Ce[i].fontSize,_e(h,r,i)),D=m&&ge()({},Ce[i].fontFamily,_e(m,r,i)),A=g&&ge()({},Ce[i].fontStyle,_e(g,r,i)),N=b&&ge()({},Ce[i].shadows,b),P=u&&ge()({},Ce[i].borderWidth,_e(u,r,i)),I=d&&ge()({},Ce[i].borderColor,_e(d,r,i,!0)),L=v&&ge()({},Ce[i].textAlign,v)
return Object.assign({},w,j,S,_,C,O,k,P,I,E,M,T,A,L,N,D)}({attr:i()({x:Be,y:Pe,width:Fe,height:Re,lineHeight:We,textAlign:G,opacity:Xe,borderRadius:ze},qe),language:v,unit:r}),Ke=ve?"ImageView":ye?"TextView":"View",Qe=j.kind?j.name:Object(ke.b)(j),$e="line"===j.name||"arrow"===j.name
return a?Object(ie.jsxs)(xe.a.Fragment,{children:[Object(ie.jsx)(Et,{title:I18N.pInspect.screen_name,value:Qe}),Object(ie.jsx)(Ge,{adapterWidth:Fe,adapterHeight:Re,documentColor:m,globalText:f,globalColor:u,screenColor:b,userPickColor:c,colorUnit:y,dispatch:x})]}):Object(ie.jsxs)("div",{children:[Object(ie.jsx)(Et,{value:Qe}),Object(ie.jsx)(Le,{adapterTop:Pe,adapterLeft:Be,adapterWidth:Fe,adapterHeight:Re,rotate:He,radius:ze,opacity:Ue,mask:pe,ignore_underlying_mask:he,unit:r,colorUnit:y
}),ye&&Object(ie.jsx)(Ie,{textStyles:H,alignment:G,vertical_alignment:V,lineHeight:We,letterSpacing:Ye,ratio:o,unit:r,o:k,padding:F,fontStyle:Ze,colorUnit:y,hiddSpacing:z,text:X(j)}),be&&Object(ie.jsx)(Mt,{backgroundColorSort:N,colorUnit:y}),me&&Object(ie.jsx)(Nt,{isStroke:$e,borderSort:I,ratio:o,unit:r,colorUnit:y}),we&&Object(ie.jsx)(Dt,{shadows:$,textShadows:ce,colorUnit:y,unit:r,ratio:o}),je&&Object(ie.jsx)(Dt,{shadows:ne,colorUnit:y,unit:r,ratio:o,isInnerShaow:!0}),Se&&Object(ie.jsx)(Ct,{imageSetZip:q,
name:Qe,imageSet:ue}),Object(ie.jsx)(mt,{theme:t,code:Je,whichAndView:Ke,language:v,text:X(j)||"",dispatch:x})]})}
It.propTypes={userPickColor:ve.a.array,screenColor:ve.a.array,documentColor:ve.a.array,globalText:ve.a.array,globalColor:ve.a.array,theme:ve.a.string,colorUnit:ve.a.string,layer:ve.a.object,showGlobal:ve.a.bool,unit:ve.a.string,ratio:ve.a.number,language:ve.a.string,dispatch:ve.a.func}
var Lt=It,Bt=n(45),Ft=n.n(Bt),Rt=n(10)
function zt(){
var e=Ft()(["\n  #IBOT_TOOLTIP_ROOT {\n    .content {\n      background-color: ",";\n      color: ",";\n    }\n  }\n\n  #IBOT_DROPDOWN_MENU_ROOT {\n    .palette-dropdown-menu {\n      color: #415058;\n      width: auto;\n\n      &.hex,\n      &.argb {\n        text-transform: uppercase;\n      }\n\n      .content {\n        opacity: 0.9;\n        background-color: ",";\n\n        & > div {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n\n          > span {\n            display: block;\n            width: -moz-max-content;\n            width: -webkit-max-content;\n            width: max-content;\n          }\n        }\n      }\n\n      .trash {\n        margin-left: .5em;\n        font-size: 14px;\n        color: #C8CDD0;\n        cursor: pointer;\n      }\n    }\n  }\n\n  .textEllipsis {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n\n  #IBOT_SELECT_MENU_ROOT {\n    ul.CodeBoxSelectMenu {\n      background-color: ",";\n      width: 100%;\n      padding: 0 0.5em;\n      font-size: 12px;\n      min-width: 7em;\n\n      .SelectOption {\n        color: ",";\n        justify-content: center;\n        margin: 0.5em 0;\n        border-radius: 2px;\n\n        &:not(.is-active):hover {\n          color: ",";\n          background-color: ",";\n        }\n\n        &.is-active {\n          color: ",";\n          background-color: ",";\n        }\n      }\n    }\n  }\n"])
return zt=function(){return e},e}var Ut=n.n(Rt).a.div.withConfig({displayName:"styles__StyledLayerPanel",componentId:"sc-1r0zli9-0"
})(["display:flex;flex-direction:column;position:relative;z-index:100;width:260px;height:100%;font-size:12px;background-color:",";transition:left 0.5s ease-in-out;box-shadow:",";color:",";.layerInfo{position:relative;width:inherit;height:100%;overflow-x:hidden;overflow-y:auto;flex:1;& > div{width:inherit;}.Select{color:",";}.global-attributes{.color-dropdown{button{border-radius:2px;transition:box-shadow 0.5s;background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-clip:padding-box;overflow:hidden;}&.is-focus{button{box-shadow:0 0 0 2px #1e98ea;}}}}.layer-name{.panel-item-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center;}}.header{line-height:32px;height:32px;font-size:12px;color:",";background:",";font-weight:bold;padding:0 20px;}.panel{display:flex;height:22px;line-height:22px;margin-bottom:24px;position:unset;&::before{content:attr(data-value);min-width:62px;max-width:62px;color:",";}&.panel-item-text{height:60px;}&.panel-bottom-8{margin-bottom:8px;}&.shadow-panel{&::before{width:0 !important;}.panel-item{width:50px !important;}}.mult-panel-box{width:151px;display:flex;justify-content:space-between;flex:1;.panel-item{&::after{content:attr(data-value);min-width:62px;max-width:62px;color:",";}}}.single-panel-box{display:flex;flex:1;.panel-item{width:100%;}}.panel-item{width:73px;text-align:center;background:",";border-radius:2px;border:1px solid ",";cursor:pointer;margin-right:10px;&:last-child{margin-right:0;}&.panel-item-color{position:relative;display:flex;justify-content:flex-start;width:138px;.panel-item-value{text-indent:8px;text-align:left;width:138px;}}&.item-flex-1{flex:1;height:auto;}.panel-item-value{width:100%;max-width:158px;line-height:22px;user-select:text;&.text-content{flex:1;padding:0.25em 0.5em;height:100%;line-height:1.5;word-wrap:break-word;overflow-x:hidden;overflow-y:scroll;text-align:left;white-space:pre-wrap;}}.panel-item-color-block-wrap{position:absolute;right:0;top:-1px;width:100%;height:100%;border:inset 1px rgba(0,0,0,0.2);border-radius:2px;cursor:pointer;width:22px;height:22px;}.panel-item-color-block-imageback-wrap{background-image:linear-gradient(45deg,#ccc 25%,transparent 0),linear-gradient(-45deg,#ccc 25%,transparent 0),linear-gradient(45deg,transparent 75%,#ccc 0),linear-gradient(-45deg,transparent 75%,#ccc 0);background-size:12px 12px;background-position:-1px -1px,-1px 5px,5px -7px,-7px -1px;}.panel-item-color-block{height:100%}}}.container{padding:20px 20px 12px;min-width:230px;&.global-layer{padding-top:0;height:60px;}.second-title{display:flex;margin-bottom:10px;color:",";}.code-content{position:relative;width:100%;overflow:hidden;color:",";font-size:12px;font-family:Menlo,Courier,monospace;line-height:22px;&.is-dark-theme{pre code{color:",";background:",";span{color:inherit;}}}pre{white-space:pre-wrap;}*{user-select:text;font-weight:normal;}}.text-content{flex:1;line-height:18px;word-wrap:break-word;}.global-font{line-height:22px;&::before{min-width:0 !important;}.panel-item-value{max-width:220px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.panel-row{display:flex;flex-wrap:wrap;.Dropdown{margin:0 6px 6px 0;cursor:pointer;}.Tooltip{display:block;}.row-item.color-block{border:inset 1px rgba(0,0,0,0.2);width:18px;height:18px;border-radius:2px;}}.panel-image{width:100%;height:50px;background-image:svg-load('./background.svg');object-fit:contain;}.image-download{justify-content:space-between;align-items:center;& a{height:19px;font-size:19px;color:#f55d54;}}.download-file-type{display:flex;align-items:center;}.download-file-type-icon{display:inline-block;text-align:center;color:#f55d54;border:1px solid currentColor;width:30px;height:19px;line-height:17px;vertical-align:middle;margin-right:9px;}}.shadow-item-gap{padding-bottom:20px;&:last-child{padding-bottom:0;}}.forbid-color{position:relative;width:18px;height:18px;border:1px solid #d9d9d9;margin-bottom:8px;background:#fff;cursor:not-allowed;overflow:hidden;.transparent{width:200%;position:absolute;left:0;top:0;border-top:1px solid #eb5648;transform:translateY(-50%) rotate(45deg);transform-origin:0 0;}}.slice-title{display:flex;justify-content:space-between;align-items:center;& > span{cursor:pointer;color:var(--copy-btn-color);}}.slice-panel{height:40px;display:flex;justify-content:flex-start;align-items:center;}.slice-item-wrap{min-width:40px;height:40px;border:1px solid #B7BBC1;border-radius:2px;display:flex;align-items:center;justify-content:center;overflow:hidden;& > img{box-shadow:rgba(25,39,45,0.4) 0 1px 4px;}}.slice-item-name{margin-left:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.slice-panel-item{height:24px;line-height:24px;margin-bottom:8px;text-indent:8px;color:#415058;background:#F6F7F8;border:1px solid #F2F2F2;border-radius:2px;}.copyBtn{cursor:pointer;float:right;color:",";&:focus{outline:0;}}@keyframes rotate-infinite{from{transform:rotate(0);}to{transform:rotate(720deg);}}}&.is-loading{justify-content:center;align-items:center;.layer-panel-loading{width:60px;height:60px;}}"],(function(e){
return e.theme.common.bg.input_bg}),(function(e){return e.theme.preview.inspect.layerPanel.box_shadow}),(function(e){return e.theme.common.text_4.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.preview.inspect.layerPanel.header_bg}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.preview.inspect.layerPanel.input_bg}),(function(e){
return e.theme.preview.inspect.layerPanel.border_input}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.common.text_5.cr}),(function(e){return e.theme.common.text_5.cr}),(function(e){return e.theme.preview.inspect.layerPanel.header_bg}),(function(e){return e.theme.preview.comment.layer.copy_button})),Ht=Object(Rt.createGlobalStyle)(zt(),(function(e){return e.theme.common.bg.black_bg}),(function(e){return e.theme.common.text_14.cr}),(function(e){return e.theme.common.bg.white_bg
}),(function(e){return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.text_31.cr}),(function(e){return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.hover_bg}),(function(e){return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.active_bg})),Gt=n(346),Vt=n(79),Wt=n(102),Yt=function(){return MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave")},Zt=function(e){
Object(Vt.a)(e,"preview")
var t=Object(Wt.b)(location.pathname)
MB.event("zhuge","Download_Icon_click",{Project_id:MB.getRootProject().cid,From:t?"Preview":"Workspace"})},qt=Object(ye.memo)((function(e){var t=e.exportSvgIconList
return Object(ie.jsx)(Gt.a,{isMultiSelect:!1,isLogin:!0,exportSvgIconList:t,onExport:Zt,onCheck:Yt})}))
qt.propTypes={exportSvgIconList:ve.a.array}
var Xt=qt,Jt=n(353),Kt=function(){return MB.global.experienceLoginModalHelper&&MB.global.experienceLoginModalHelper("isSave")},Qt=Object(ye.memo)((function(e){var t=e.exportImageList
return Object(ie.jsx)(Jt.a,{isMultiSelect:!1,isLogin:!0,exportImageList:t,onCheck:Kt})}))
Qt.propTypes={exportImageList:ve.a.array}
var $t=Qt,en=function(e){pe()(n,e)
var t=he()(n)
function n(){var e
return ae()(this,n),e=t.call(this),ge()(ue()(e),"setScrollLayerRef",(function(t){return e.layerRef=t})),e.getScrollLayerRef=function(t){return e.layerRef=t},e}return ce()(n,[{key:"componentDidMount",value:function(){this.clipBoard=new je.a('[data-type="copy"]')}},{key:"componentWillUnmount",value:function(){this.clipBoard.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.screenCid!==this.props.screenCid&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{
isSelectLayer:!1}})}},{key:"componentDidUpdate",value:function(e){e.layer&&this.props.layer&&e.layer.id!==this.props.layer.id&&this.layerRef&&(this.layerRef.scrollTop=0)}},{key:"render",value:function(){var e=this.props,t=e.theme,n=e.isSelectLayer,r=e.layer,o=e.isHTMLZip,a=!r,s=a?[]:"svg_icon_path"===r.widget.name?[r.widget]:[],c=a?[]:"image_view"===r.widget.name&&!o&&r.widget.image&&!r.widget.clip&&r.widget.image_rect?[r.widget]:[]
return Object(ie.jsxs)(Ut,{className:a?"is-loading":"",children:[a?Object(ie.jsx)(Se.a,{className:"layer-panel-loading"}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"layerInfo",ref:this.setScrollLayerRef,children:Object(ie.jsx)(Lt,i()(i()({},this.props),{},{showGlobal:!n,theme:t}))}),Object(ie.jsx)(Xt,{exportSvgIconList:s}),Object(ie.jsx)($t,{exportImageList:c})]}),Object(ie.jsx)(Ht,{})]})}}]),n}(ye.PureComponent)
ge()(en,"propTypes",{theme:ve.a.string,colorUnit:ve.a.string.isRequired,isSelectLayer:ve.a.bool.isRequired,unit:ve.a.string.isRequired,isHTMLZip:ve.a.bool,ratio:ve.a.number.isRequired,layer:ve.a.object,screenCid:ve.a.string,dispatch:ve.a.func.isRequired})
t.a=Object(o.connect)((function(e){var t=Object(te.c)(e).device,n=Object(te.g)(e).cid,r=Object(te.E)(e),o=Object(ne.a)(e),a=Object(ne.b)(e),s=Object(ne.d)(e),c=Object(ne.c)(e),l=-1===o?n:o,u=Object(re.a)(l,s),d=tn(c,a,t),p=Object(te.D)(e).isHTMLZip,f=Object(te.N)(e)
return i()(i()({theme:f,screenCid:n,isHTMLZip:p,layer:u},r),d)}))(en)
var tn=Object(p.i)((function(e,t,n){var r=[],i=[],o=[],a=[]
if(e){var c=function(e){var t=[],n=[]
return e.forEach((function(e){var r=e.bg_colors,i=void 0===r?[]:r,o=e.borders,a=void 0===o?[]:o,c=e.text_styles,l=void 0===c?[]:c,u=l.length>0?l[0]:{},d=u.color,p=u.font_face,f=[]
i.length&&(f=i.map((function(e){var t=e.value,n=e.type,r=void 0===n?"color":n,i=e.gradient
return"color"===r?w(t):$(i)}))),f=K(f)
var h=[]
a.length&&(h=a.map((function(e){var t=e.color
return w(t)}))),h=K(h)
var m=d&&k(C(d),"rgba")
!t.includes(m)&&t.push(m),!n.includes(p)&&n.push(p),t=!(t=!t.includes(f)&&[].concat(s()(t),s()(f))).includes(h)&&[].concat(s()(t),s()(h))})),{screenColor:d()(l()(t)).slice(0,14)||[],globalText:l()(n)}}(t)
r=c.screenColor,a=c.globalText,i=e.documentColor,o=e.globalColor}return{screenColor:r,documentColor:i,globalColor:o,globalText:a}}))},function(e,t,n){"use strict"
n.d(t,"a",(function(){return y}))
var r=n(22),i=n.n(r),o=n(0),a=n(7),s=n.n(a),c=n(6),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(1),m=n.n(h),g=n(5),b=n(96),v="_1OkMxUtfEdOZ-1ljxmVwnC",y=function(e){d()(n,e)
var t=f()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.isHTMLZip,n=e.project,r=e.shellType,a=function(e,t,n,r){switch(e){case"device":var o=Object(b.c)(t,e)
if(!o.bg)return null
var a=n?"".concat(o.bg,"_land"):o.bg,s=n?[-o.left,-o.top,o.height,o.width]:[-o.top,-o.left,o.width,o.height],c=i()(s,4),l=c[0],u=c[1],d=c[2],p=c[3]
return{top:l,left:u,width:d,height:p,backgroundImage:"url(".concat(r?".":"","/mb-workspace/images/devices/").concat(a,".png)")}
case"default":case"none":return null}}(r,n,e.isLandscape,t),s="device"===r&&null===a?"none":r
return Object(o.jsx)("div",{className:"".concat(v," ").concat(s),style:a})}}]),n}(g.PureComponent)
y.propTypes={isHTMLZip:m.a.bool,project:m.a.object,shellType:m.a.string,isLandscape:m.a.bool}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return S}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(13),x=n.n(y),w=n(10),j=n.n(w).a.div.withConfig({displayName:"styles__StyledToggleButton",componentId:"zw6ny4-0"
})(["position:absolute;display:flex;align-items:center;z-index:1;cursor:pointer;top:50%;margin-top:-86px;width:16px;height:172px;opacity:0;transition:opacity 0.2s ease-in-out;&.left{right:100%;transform:rotate(180deg);}&.right{left:100%;}& > .svg-icon{font-size:16px;.path-wapper{fill:",";}.path-arrow{fill:",";}}&.is-minimized{opacity:1;pointer-events:auto;.svg-icon .path-arrow{transform-origin:center;transform:rotate(180deg);}}&:hover{&:not(.is-minimized){opacity:1;pointer-events:auto;}}"],(function(e){
return e.theme.preview.leftPanel.toggleBtn.wrap_icon}),(function(e){return e.theme.common.icon_17.cr})),S=function(e){d()(n,e)
var t=f()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),m()(l()(e),"handleClick",(function(){var t=e.props,n=t.isMinimized;(0,t.onClick)(!n)})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.placement,n=e.isMinimized
return Object(r.jsx)(j,{className:x()("toggle-minimized-button",t,{"is-minimized":n}),onClick:this.handleClick,children:Object(r.jsx)(_,{})})}}]),n}(v.PureComponent)
m()(S,"propTypes",{placement:b.a.oneOf(["left","right"]),isMinimized:b.a.bool,onClick:b.a.func})
var _=function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-icon icon",viewBox:"0 0 16 86","aria-hidden":"true",width:"16",height:"86",children:Object(r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(r.jsx)("path",{className:"path-wapper",d:"M0 0l14.12 8.825A4 4 0 0116 12.217v61.566a4 4 0 01-1.88 3.392L0 86V0z",fill:"#FFF"}),Object(r.jsx)("path",{className:"path-arrow",
d:"M10.758 48.766a.778.778 0 000-1.127L6.996 43l3.762-4.639a.778.778 0 000-1.127.85.85 0 00-1.172 0l-4.344 5.202a.78.78 0 000 1.128l4.344 5.202a.85.85 0 001.172 0z",fill:"#8D9EA7",fillRule:"nonzero"})]})})}},function(e,t,n){"use strict"
var r=n(0),i=n(1),o=n.n(i),a=n(5),s=n(15),c=n(10),l=n.n(c).a.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-2xpo5m-0"})(["display:flex;justify-content:center;align-items:center;width:24px;height:24px;color:",";cursor:pointer;&:hover .svg-icon{color:",";}"],(function(e){return e.theme.common.text_15.cr}),(function(e){return e.theme.common.border.border_light_blue})),u=n(13),d=n.n(u),p=Object(a.memo)((function(e){var t=e.className,n=e.name,i=e.onClick,o=e.onMouseEnter,a=e.onMouseLeave
return Object(r.jsx)(l,{className:d()(t),onClick:i,onMouseEnter:o,onMouseLeave:a,children:Object(r.jsx)(s.a,{name:n})})}))
p.propTypes={name:o.a.string,className:o.a.string,onClick:o.a.func,onMouseEnter:o.a.func,onMouseLeave:o.a.func},p.defaultProps={onMouseEnter:function(){return null},onMouseLeave:function(){return null}}
t.a=p},,function(e,t,n){"use strict"
n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))
var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("div")
n.id="loading",n.innerHTML='\n    <div class="logo"></div>\n    <div class="indicator" style="height: 30%;"></div>\n    <span id="loading-text">'.concat("zh-CN"===e?"正在加载":"Loading","... ").concat(t,"</span>\n  "),document.body.insertBefore(n,document.body.firstChild)},i=function(){var e=document.getElementById("loading")
e&&(e.style.display="none")}},function(e){
e.exports=JSON.parse('{"// HOSTED_COMMERCIAL_FANGZHENG_LIST":"NOTE: this file is script generated, change should be made at \'script/generate/generateFontResource.js\'","HOSTED_COMMERCIAL_FANGZHENG_LIST":[{"family":"FZLanTingHei","label":"方正兰亭黑","typeList":["regular"]},{"family":"FZYuan","label":"方正准圆","typeList":["regular"]},{"family":"FZXinSong","label":"方正新书宋","typeList":["regular"]},{"family":"FZKai","label":"方正楷体","typeList":["regular"]},{"family":"FZGongYeHei","label":"方正工业黑","typeList":["regular"]},{"family":"FZHanZhenGuangBiao","label":"方正汉真广标","typeList":["regular"]},{"family":"FZZongYi","label":"方正综艺体","typeList":["regular"]}],"// HOSTED_COMMON_LIST":"NOTE: this file is script generated, change should be made at \'script/generate/generateFontResource.js\'","HOSTED_COMMON_LIST":[{"family":"PingFangSC","label":"PingFang SC","limitedDevices":["iphone","ipad","apple_watch"],"typeList":["regular","bold"]},{"family":"SourceHanSansSC","label":"思源黑体","typeList":["regular","bold"]},{"family":"SFUIText","label":"SF UI Text","limitedDevices":["iphone","ipad","apple_watch"],"typeList":["regular","bold"]},{"family":"Roboto","label":"Roboto","typeList":["regular","bold"]}],"// WESTERN_COMMON_LIST":"NOTE: this file is script generated, change should be made at \'script/generate/generateFontResource.js\'","WESTERN_COMMON_LIST":[{"family":"Arial","label":"Arial","typeList":["regular","bold"]},{"family":"Courier New","label":"Courier New","typeList":["regular","bold"]},{"family":"Helvetica","label":"Helvetica","typeList":["regular","light","bold"]},{"family":"Times New Roman","label":"Times New Roman","typeList":["regular","bold"]}]}')
},function(e,t,n){"use strict"
var r=n(686)(n(697))
e.exports=r},function(e,t,n){"use strict"
var r=n(702)("round")
e.exports=r},,,,,,function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(72),o=n(189),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/
e.exports=function(e,t){if(i(e))return!1
var n=(0,r.default)(e)
return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return i}))
var r=n(10),i=n.n(r).a.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"z19xe5-0"})(["display:flex;height:100%;.nav-item{position:relative;display:flex;align-items:center;color:",";padding:0 3px;transition:all 0.2s ease-out;cursor:pointer;&:hover{color:",";}&.active{color:",";font-weight:600;}&.disabled{color:",";cursor:not-allowed;}.nav-underline{position:absolute;left:0;bottom:0;width:100%;border-bottom:2px solid ",";}&:not(:first-child){margin-left:10px;}}"],(function(e){
return e.theme.new_slide_nav.text_10.cr}),(function(e){return e.theme.new_slide_nav.text_10.hover}),(function(e){return e.theme.new_slide_nav.text_10.active}),(function(e){return e.theme.new_slide_nav.text_disabled.cr}),(function(e){return e.theme.new_slide_nav.border}))},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createProjectExchange=t.EVENT_SERVER_PATCH=void 0
var i=r(n(26)),o=r(n(11)),a=r(n(22)),s=r(n(14)),c=r(n(23)),l=n(248),u=n(101),d=n(127),p=n(86),f=n(181),h=n(465),m=n(366),g=function(){return console.warn("use dummy socket store"),{getServerTimestamp:d.getLocalTimestamp,joinProjectMeta:function(){},leaveProjectMeta:function(){}}}
t.EVENT_SERVER_PATCH="project-exchange:server-patch"
t.createProjectExchange=function(e){var t,n,r,d=e.getSocketStore,b=void 0===d?g:d,v=e.exchangeEventSource,y=void 0===v?(0,u.createEventTarget)():v,x=new Map,w=new Map,j=new Map,S=function(e){return x.get(w.get(e))},_=function(e){var t,n=new Set(x.keys()),r=(0,c.default)(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value.projectMetaCid
if(!x.has(i))throw new Error("[verifyDumpOrPatchList] unexpected data for: ".concat(i))
n.delete(i)}}catch(e){r.e(e)}finally{r.f()}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
_(e)
var n,r=(0,c.default)(e)
try{for(r.s();!(n=r.n()).done;){var i=n.value,o=x.get(i.projectMetaCid)
void 0===o||o.applyServerPatch(i)}}catch(e){r.e(e)}finally{r.f()}y&&y.dispatchEvent({type:"project-exchange:server-patch",projectPatchList:e,isLocalPatch:t})}
return{exchangeEventSource:y,getProjectStore:function(e){return x.get(e)},getProjectStoreByUpperCid:S,getProjectMetaCidByUpperCid:function(e){return w.get(e)},getUpperCidByProjectMetaCid:function(e){return j.get(e)},getLocalProjectMetaByUpperCid:function(e){return S(e).getLocalProjectMeta()},getLocalScreenGlueListByUpperCid:function(e){return S(e).getLocalScreenGlueList()},getLocalScreenMetaListByUpperCid:function(e){return S(e).getLocalScreenMetaList()},getLocalScreenRuntimeStateListByUpperCid:function(e){
return S(e).getLocalScreenRuntimeStateList()},openProject:(r=(0,s.default)(o.default.mark((function e(t){var n,r,i,s,c,l,u,d,h,m,g,v,S
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectMeta,r=t.screenGlueList,i=void 0===r?[]:r,s=t.screenMetaList,c=void 0===s?[]:s,l=t.projectScreenObjectList,u=void 0===l?[]:l,d=t.screenRuntimeStateList,h=void 0===d?u.map((function(e){return(0,f.toScreenRuntimeState)(e)})):d,n){e.next=3
break}throw new Error("[openProject] expect projectMeta: ".concat(n))
case 3:if(m=n.cid,g=n.type,!x.has(m)){e.next=7
break}throw new Error("[openProject] store ".concat(m," already opened"))
case 7:return(v=(0,p.createProjectStore)({projectMetaCid:m,projectMetaType:g,getServerTimestamp:b().getServerTimestamp})).loadServer({projectMetaList:[n],screenGlueList:i,screenMetaList:c,screenRuntimeStateList:h}),x.set(m,v),b().joinProjectMeta(m),S=function(e){if(void 0!==e.projectMetaChangeMap)for(var t=0,n=Object.entries(e.projectMetaChangeMap);t<n.length;t++){var r=(0,a.default)(n[t],2),i=r[0],o=(0,a.default)(r[1],2),s=o[0],c=o[1]
void 0!==s?(w.set(s.upper_cid,i),j.set(i,s.upper_cid)):(w.delete(c.upper_cid),j.delete(i))}y&&y.dispatchEvent(e)},v.eventSource.addEventListener(p.EVENT_CHANGE_LOAD_LOCAL,S),v.eventSource.addEventListener(p.EVENT_CHANGE_RESET_LOCAL_WITH_DUMP,S),v.eventSource.addEventListener(p.EVENT_CHANGE_RESET_SERVER_WITH_DUMP,S),v.eventSource.addEventListener(p.EVENT_CHANGE_APPLY_SERVER_PATCH,S),v.eventSource.addEventListener(p.EVENT_CHANGE_REDUCE_LOCAL_UPDATE_ACTION_LIST,S),
v.eventSource.addEventListener(p.EVENT_CHANGE_MERGE_LOCAL_PROJECT_DOCUMENT,S),w.set(n.upper_cid,m),j.set(m,n.upper_cid),e.abrupt("return",v)
case 21:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),closeProject:function(e){var t=x.get(e)
if(t)return b().leaveProjectMeta(e),x.delete(e),t},generateLocalDump:function(){var e,t=[],n=(0,c.default)(x.values())
try{for(n.s();!(e=n.n()).done;){var r=e.value
t.push(r.generateLocalDump())}}catch(e){n.e(e)}finally{n.f()}return t},resetLocalWithDump:function(e){_(e)
var t,n=(0,c.default)(e)
try{for(n.s();!(t=n.n()).done;){var r=t.value
x.get(r.projectMetaCid).resetLocalWithDump(r)}}catch(e){n.e(e)}finally{n.f()}},resetServerWithDump:function(e){_(e)
var t,n=(0,c.default)(e)
try{for(n.s();!(t=n.n()).done;){var r=t.value
x.get(r.projectMetaCid).resetServerWithDump(r)}}catch(e){n.e(e)}finally{n.f()}},previewResetLocalWithDump:function(e){_(e)
var t,n=[],r=(0,c.default)(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value
n.push(x.get(i.projectMetaCid).previewResetLocalWithDump(i))}}catch(e){r.e(e)}finally{r.f()}return n},hasSaveQueue:function(){var e,t=(0,c.default)(x.values())
try{for(t.s();!(e=t.n()).done;){if(e.value.hasLocalPatch())return!0}}catch(e){t.e(e)}finally{t.f()}return!1},countSaveQueue:function(){var e,t=0,n=(0,c.default)(x.values())
try{for(n.s();!(e=n.n()).done;){t+=e.value.countLocalPatch()}}catch(e){n.e(e)}finally{n.f()}return t},generateSaveQueueAsync:(n=(0,s.default)(o.default.mark((function e(){var t,n,r,i
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e,t=[],n=(0,c.default)(x.values())
try{for(n.s();!(e=n.n()).done;){var r=e.value
t.push(r.generateLocalPatch())}}catch(e){n.e(e)}finally{n.f()}return t}(),e.next=3,(0,h.toSaveQueueAsync)({projectPatchList:t,gzipObjectToBufferAsync:m.gzipObjectToBlobAsync})
case 3:return n=e.sent,r=n.jsonSaveQueue,i=n.bufferSaveQueue,e.abrupt("return",{jsonSaveQueue:r,bufferSaveQueue:i,applyServer:function(){return C(t,"local-patch")}})
case 7:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),applySaveQueueAsync:(t=(0,s.default)(o.default.mark((function e(t){var n,r,i,a
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.jsonSaveQueue,r=t.bufferSaveQueue,e.next=3,(0,h.fromSaveQueueAsync)({jsonSaveQueue:n,bufferSaveQueue:r,gunzipObjectFromBufferAsync:m.gunzipObjectFromBufferAsync})
case 3:i=e.sent,a=i.projectPatchList,C(a)
case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
return x.forEach((function(t){return t.describe(e)}))},verify:function(){if(!(0,l.isCompactArrayShallowEqual)((0,i.default)(w.keys()).sort(),(0,i.default)(j.values()).sort()))throw new Error("[verify] upperCidMap keys mismatch")
if(!(0,l.isCompactArrayShallowEqual)((0,i.default)(w.values()).sort(),(0,i.default)(j.keys()).sort()))throw new Error("[verify] upperCidMap values mismatch")
x.forEach((function(e){return e.verify()}))}}}},function(e,t,n){"use strict"
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(8),l=n.n(c),u=n(9),d=n.n(u),p=n(5),f=n(1),h=n.n(f),m=n(319),g=n(15),b=n(10),v=n.n(b).a.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"d5d4zf-0"
})([".notice-tips{width:100%;height:100%;padding:11px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:4px;p{margin:0;}&.success{color:",";background-color:",";}&.warning{background-color:#ffb236;}&.error{background-color:#eb5648;}&.export-downloading{background-color:#1ac161;p{line-height:22px;}.question-action{vertical-align:middle;margin-left:4px;}.download{color:#155c33;text-decoration:underline;}}.times-icon{display:flex;flex-shrink:0;align-self:baseline;opacity:0.5;cursor:pointer;transition:opacity 0.15s ease-out;&:hover{opacity:1;}}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],(function(e){
return e.theme.common.text_32.cr}),(function(e){return e.theme.common.text_14.cr}),(function(e){return e.theme.toast.success.bg})),y=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.type,i=e.text,o=e.showClose,a=e.onDisappear,s=e.isReactDom
return Object(r.jsx)(v,{children:Object(r.jsx)(m.CSSTransition,{in:t,timeout:2500,classNames:"fade",unmountOnExit:!0,children:Object(r.jsxs)("div",{className:"".concat(["notice-tips"]," ").concat(n),children:[s&&i,!s&&Object(r.jsxs)(p.Fragment,{children:[Object(r.jsx)("p",{dangerouslySetInnerHTML:{__html:i}}),o&&Object(r.jsx)(g.a,{className:"times-icon",name:"times",onClick:a})]})]})})})}}]),n}(p.PureComponent)
y.propTypes={isShow:h.a.bool,showClose:h.a.bool,isReactDom:h.a.bool,text:h.a.oneOfType([h.a.string,h.a.object]),type:h.a.string,onDisappear:h.a.func},y.defaultProps={isShow:!1}
t.a=y},,function(e,t,n){"use strict"
var r,i,o,a,s
r=n(699),i=n(388).utf8,o=n(700),a=n(388).bin,(s=function e(t,n){t.constructor==String?t=n&&"binary"===n.encoding?a.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString())
for(var s=r.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,f=0;f<s.length;f++)s[f]=16711935&(s[f]<<8|s[f]>>>24)|4278255360&(s[f]<<24|s[f]>>>8)
s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c
var h=e._ff,m=e._gg,g=e._hh,b=e._ii
for(f=0;f<s.length;f+=16){var v=l,y=u,x=d,w=p
l=h(l,u,d,p,s[f+0],7,-680876936),p=h(p,l,u,d,s[f+1],12,-389564586),d=h(d,p,l,u,s[f+2],17,606105819),u=h(u,d,p,l,s[f+3],22,-1044525330),l=h(l,u,d,p,s[f+4],7,-176418897),p=h(p,l,u,d,s[f+5],12,1200080426),d=h(d,p,l,u,s[f+6],17,-1473231341),u=h(u,d,p,l,s[f+7],22,-45705983),l=h(l,u,d,p,s[f+8],7,1770035416),p=h(p,l,u,d,s[f+9],12,-1958414417),d=h(d,p,l,u,s[f+10],17,-42063),u=h(u,d,p,l,s[f+11],22,-1990404162),l=h(l,u,d,p,s[f+12],7,1804603682),p=h(p,l,u,d,s[f+13],12,-40341101),d=h(d,p,l,u,s[f+14],17,-1502002290),
l=m(l,u=h(u,d,p,l,s[f+15],22,1236535329),d,p,s[f+1],5,-165796510),p=m(p,l,u,d,s[f+6],9,-1069501632),d=m(d,p,l,u,s[f+11],14,643717713),u=m(u,d,p,l,s[f+0],20,-373897302),l=m(l,u,d,p,s[f+5],5,-701558691),p=m(p,l,u,d,s[f+10],9,38016083),d=m(d,p,l,u,s[f+15],14,-660478335),u=m(u,d,p,l,s[f+4],20,-405537848),l=m(l,u,d,p,s[f+9],5,568446438),p=m(p,l,u,d,s[f+14],9,-1019803690),d=m(d,p,l,u,s[f+3],14,-187363961),u=m(u,d,p,l,s[f+8],20,1163531501),l=m(l,u,d,p,s[f+13],5,-1444681467),p=m(p,l,u,d,s[f+2],9,-51403784),
d=m(d,p,l,u,s[f+7],14,1735328473),l=g(l,u=m(u,d,p,l,s[f+12],20,-1926607734),d,p,s[f+5],4,-378558),p=g(p,l,u,d,s[f+8],11,-2022574463),d=g(d,p,l,u,s[f+11],16,1839030562),u=g(u,d,p,l,s[f+14],23,-35309556),l=g(l,u,d,p,s[f+1],4,-1530992060),p=g(p,l,u,d,s[f+4],11,1272893353),d=g(d,p,l,u,s[f+7],16,-155497632),u=g(u,d,p,l,s[f+10],23,-1094730640),l=g(l,u,d,p,s[f+13],4,681279174),p=g(p,l,u,d,s[f+0],11,-358537222),d=g(d,p,l,u,s[f+3],16,-722521979),u=g(u,d,p,l,s[f+6],23,76029189),l=g(l,u,d,p,s[f+9],4,-640364487),
p=g(p,l,u,d,s[f+12],11,-421815835),d=g(d,p,l,u,s[f+15],16,530742520),l=b(l,u=g(u,d,p,l,s[f+2],23,-995338651),d,p,s[f+0],6,-198630844),p=b(p,l,u,d,s[f+7],10,1126891415),d=b(d,p,l,u,s[f+14],15,-1416354905),u=b(u,d,p,l,s[f+5],21,-57434055),l=b(l,u,d,p,s[f+12],6,1700485571),p=b(p,l,u,d,s[f+3],10,-1894986606),d=b(d,p,l,u,s[f+10],15,-1051523),u=b(u,d,p,l,s[f+1],21,-2054922799),l=b(l,u,d,p,s[f+8],6,1873313359),p=b(p,l,u,d,s[f+15],10,-30611744),d=b(d,p,l,u,s[f+6],15,-1560198380),u=b(u,d,p,l,s[f+13],21,1309151649),
l=b(l,u,d,p,s[f+4],6,-145523070),p=b(p,l,u,d,s[f+11],10,-1120210379),d=b(d,p,l,u,s[f+2],15,718787259),u=b(u,d,p,l,s[f+9],21,-343485551),l=l+v>>>0,u=u+y>>>0,d=d+x>>>0,p=p+w>>>0}return r.endian([l,u,d,p])})._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a
return(s<<o|s>>>32-o)+t},s._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a
return(s<<o|s>>>32-o)+t},s._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a
return(s<<o|s>>>32-o)+t},s._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a
return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e)
var n=r.wordsToBytes(s(e,t))
return t&&t.asBytes?n:t&&t.asString?a.bytesToString(n):r.bytesToHex(n)}},,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(333),i=n.n(r),o=n(390),a=n.n(o),s=function(){var e=window.MBLocale
return"zh-CN"!==e&&"zh-Hans-CN"!==e||a()(i.a.settings.strings,{prefixAgo:null,prefixFromNow:"从现在开始",suffixAgo:"之前",suffixFromNow:null,seconds:"不到 1 分钟",minute:"大约 1 分钟",minutes:"%d 分钟",hour:"大约 1 小时",hours:"大约 %d 小时",day:"1 天",days:"%d 天",month:"大约 1 个月",months:"%d 月",year:"大约 1 年",years:"%d 年",numbers:[],wordSeparator:""}),{MBLocale:e,parseTimeAgo:function(e){return i()(e)}}}},function(e,t,n){"use strict"
var r=n(10),i=n.n(r)
t.a=i.a.aside.withConfig({displayName:"DraggablePanel",componentId:"sc-1yb86fe-0"
})(["position:absolute;width:",";background:",";border-radius:2px;box-shadow:",";overflow:hidden;border:1px solid ",";& > header{height:36px;padding-left:15px;padding-right:5px;display:flex;justify-content:space-between;align-items:center;background:",';font-size:12px;&[type="draggable"]{cursor:move;}.title{color:',";pointer-events:none;}.header-buttons{display:flex;.icon{width:20px;height:24px;font-size:12px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.times-icon{width:10px;}&:hover{color:",";.times-icon{color:",";}}}}}"],"210px",(function(e){
return e.theme.draggablePanel.bg}),(function(e){return e.theme.common.shadow.shadow_1}),(function(e){return e.theme.draggablePanel.border_color}),(function(e){return e.theme.draggablePanel.header.bg}),(function(e){return e.theme.palette.panel_title_color}),(function(e){return e.theme.common.icon_13.cr}),(function(e){return e.theme.common.icon_13.hover}),(function(e){return e.theme.common.icon_13.hover}))},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.FormDiv=v,t.FormLabel=y
var i=r(n(5)),o=r(n(1)),a=n(35),s=r(n(10))
function c(){var e=p(["\n  display: flex;\n  align-items: center;\n  margin: 0.5em 0;\n  min-height: 34px;\n"])
return c=function(){return e},e}function l(){var e=p(["\n  display: flex;\n  align-items: center;\n  margin: 0.5em 0;\n  min-height: 34px;\n"])
return l=function(){return e},e}function u(){var e=p(["\n  flex: 1;\n  & > .Input, .CoreInput {\n    display: block;\n    width: 100%;\n    .small{\n      margin-top: 12px;\n      margin-bottom: 12px;\n    }\n  }\n  .Textarea,\n  .CoreTextarea {\n    display: block;\n    width: 100%;\n  }\n  .CoreCheck,\n  .Radio,\n  .CoreRadio,\n  .CheckGroup,\n  .CoreCheckGroup,\n  .RadioGroup,\n  .CoreRadioGroup {\n    margin-top: calc((34px - 1.5em)/2);\n  }\n"])
return u=function(){return e},e}function d(){var e=p(["\n  align-self: flex-start;\n  display: flex;\n  align-items: center;\n  flex-basis: 7em;\n  height: 34px;\n  .required-sign {\n    margin: 0 0.25em;\n    color: #eb5648;\n  }\n"])
return d=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=s.default.span(d()),h=s.default.span(u()),m=s.default.div(l()),g=s.default.label(c())
function b(e){var t=e.name,n=e.children,r=e.isRequired
return i.default.createElement(i.default.Fragment,null,t&&i.default.createElement(f,{className:"FormEntry-Key key"},t,r&&i.default.createElement("span",{className:"required-sign"},"*")),i.default.createElement(h,{className:"FormEntry-Val val"},n))}function v(e){var t=e.className,n=e.type
return i.default.createElement(m,{className:(0,a.trimList)(["FormEntry",t]),type:n},i.default.createElement(b,e))}function y(e){var t=e.className,n=e.type
return i.default.createElement(g,{className:(0,a.trimList)(["FormEntry",t]),type:n},i.default.createElement(b,e))}b.propTypes={children:o.default.node,name:o.default.any,isRequired:o.default.bool},v.propTypes={className:o.default.string,type:o.default.string},y.propTypes={className:o.default.string,type:o.default.string}},function(e,t,n){"use strict"
var r=n(21),i=n(0),o=n(22),a=n.n(o),s=n(7),c=n.n(s),l=n(6),u=n.n(l),d=n(3),p=n.n(d),f=n(8),h=n.n(f),m=n(9),g=n.n(m),b=n(2),v=n.n(b),y=n(1),x=n.n(y),w=n(5),j=n.n(w),S=n(38),_=n.n(S),C=n(347),O=n(20),k=n(16),E=n(67),M=n(13),T=n.n(M),D=n(54),A=n(4),N=n.n(A),P=n(62),I=n(87),L=function(e){h()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),v()(p()(e),"onMouseEnter",(function(t){var n=e.props,r=n.type,i=n.layer,o=n.hasChildren,a=n.requestEnterLayer
if(i.kind!==I.a.MB_GROUP)if(r===I.a.MB_SCREEN)a(i.cid)
else{if(o)return
t.stopPropagation(),a(i.cid)}})),v()(p()(e),"onMouseLeave",(function(){var t=e.props,n=t.layer,r=t.activeLayerID,i=t.requestEnterLayer;-1!==r&&n.kind!==I.a.MB_GROUP&&i(-1)})),v()(p()(e),"handleClick",(function(t){var n=e.props,r=n.type,i=n.layer,o=n.hasChildren,a=n.requestSelectLayer,s=n.handleShowlayerInfo
if(i.kind!==I.a.MB_GROUP)if(r===I.a.MB_SCREEN)a(i.cid),s(!0)
else{if(o)return
t.stopPropagation(),a(i.cid),s(!0)}})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.layer,r=e.activeLayerID,o=e.enteredLayerID,a=(e.ratio,n.id),s=(n.src_width,n.src_height,n.rotation,a===r),c=a===o||-1===o,l=T()("Layer",{"is-active":s,"is-focus":c}),u={pointerEvents:!["panel","group"].includes(t)?"auto":"none"}
return Object(i.jsx)("div",{"data-lid":a,style:u,className:l,onClick:this.handleClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}}]),n}(w.Component)
v()(L,"propTypes",{layer:x.a.object,type:x.a.string,hasChildren:x.a.bool,requestSelectLayer:x.a.func,requestEnterLayer:x.a.func,handleShowlayerInfo:x.a.func,activeLayerID:x.a.oneOfType([x.a.number,x.a.string]),enteredLayerID:x.a.oneOfType([x.a.number,x.a.string]),ratio:x.a.number})
var B=function(e){h()(n,e)
var t=g()(n)
function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.treeData,r=e.parentSize,o=e.isWidgetInPanel,a=void 0!==o&&o,s=e.treeProps,c=t.cid,l=t.type,u=t.widget,d=t.children
if(!1===u.v)return null
var p=r.minX,f=r.minY,h=r.maxX-p,m=r.maxY-f,g=Object(P.b)(t),b={left:(g.minX-r.minX)/h*100+"%",top:(g.minY-r.minY)/m*100+"%",width:(g.maxX-g.minX)/h*100+"%",height:(g.maxY-g.minY)/m*100+"%",transform:u.ro?"rotate(".concat(u.ro,"deg)"):"",zIndex:u.z},v=d&&d.length>0
return Object(i.jsxs)("div",{"data-id":c,className:"layer-tree-node",style:b,children:[Object(i.jsx)(L,N()({layer:u,type:l,hasChildren:v},s)),v&&d.map((function(e){return Object(i.jsx)(n,{treeData:e,parentSize:g,isWidgetInPanel:a||"panel"===l,treeProps:s},e.cid)}))]})}}]),n}(w.PureComponent)
v()(B,"propTypes",{treeData:x.a.object,parentSize:x.a.object,isWidgetInPanel:x.a.bool,zIndex:x.a.number,treeProps:x.a.object})
var F=n(28),R=function(e){h()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),v()(p()(e),"state",{ifHideLayer:!1}),v()(p()(e),"onMouseLeave",(function(){"number"==typeof e.props.activeLayerID?e.props.requestEnterLayer("artboard-base"):e.props.requestEnterLayer(e.props.currentScreen.cid)})),e}return u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentScreen
var t=e.activeLayerID;-1!==t&&t?this.setState({ifHideLayer:!1}):this.setState({ifHideLayer:!0})}},{key:"render",value:function(){var e=this.props,t=e.isShowLayerList,n=e.currentScreen,r=e.layerTreeData,o=e.ratio,a=e.activeLayerID,s=e.enteredLayerID,c=e.requestEnterLayer,l=e.requestSelectLayer,u=e.handleShowlayerInfo,d=this.state.ifHideLayer,p=z(o,c,a,s,l,u),f={minX:0,minY:0,maxX:n.width,maxY:n.height}
return Object(i.jsx)("div",{className:T()("LayerList",{hiddenLayer:d&&t}),onMouseLeave:this.onMouseLeave,children:Object(i.jsx)(B,{treeData:r,parentSize:f,treeProps:p})})}}]),n}(w.Component)
v()(R,"propTypes",{isShowLayerList:x.a.bool,currentScreen:x.a.object,layerTreeData:x.a.object,activeLayerID:x.a.oneOfType([x.a.number,x.a.string]),enteredLayerID:x.a.oneOfType([x.a.number,x.a.string]),ratio:x.a.number,requestSelectLayer:x.a.func,requestEnterLayer:x.a.func,handleShowlayerInfo:x.a.func})
var z=Object(F.i)((function(e,t,n,r,i,o){return{ratio:e,requestEnterLayer:t,activeLayerID:n,enteredLayerID:r,requestSelectLayer:i,handleShowlayerInfo:o}})),U=Object(r.connect)((function(e){var t=e.container,n=t.layers,r=n.activeLayerID,i=n.enteredLayerID,o=t.previewSetting,a=o.ratio
return{isShowLayerList:!o.isShowColorPicker,currentScreen:Object(k.g)(e),layerTreeData:Object(E.d)(e),activeLayerID:r,enteredLayerID:i,ratio:a}}),(function(e){return{requestSelectLayer:function(t){e(Object(D.p)(t))},requestEnterLayer:function(t){e(Object(D.o)(t))},handleShowlayerInfo:function(t){e({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:t}})}}}))(R),H=function(e){h()(n,e)
var t=g()(n)
function n(e){var r
c()(this,n),r=t.call(this,e),v()(p()(r),"cancelColorPicker",(function(e){r.imageCanvas.contains(e.target)||r.cancelPickerMode()})),v()(p()(r),"cancelPickerMode",(function(){return r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1}})})),v()(p()(r),"renderImageCanvas",(function(){var e=r.imageCanvas.getBoundingClientRect(),t=e.width,n=e.height
r.lastCanvasRect={width:t,height:n},r.imageCanvas.width=t,r.imageCanvas.height=n,r.imageCtx.drawImage(r.image,0,0,t,n)})),v()(p()(r),"calculateCenterPoint",(function(e){var t=r.image.getBoundingClientRect(),n=t.left,i=t.top
r.centerPoint={centerX:Math.floor(e.clientX-n),centerY:Math.floor(e.clientY-i)}})),v()(p()(r),"handleMove",(function(e){r.image.complete&&"hidden"===r.state.visibility&&r.setState({visibility:"visible"}),r.calculateCenterPoint(e)
var t=r.props,n=t.glassHeight,i=t.glassWidth,o=t.scale,a=r.centerPoint,s=a.centerX,c=a.centerY,l=Math.floor(s-i/2),u=Math.floor(c-n/2)
r.setState({glassLeft:l,glassTop:u}),c<0&&r.clearGlassRect(),r.glassCtx.clearRect(0,0,i,n),o<1&&console.warn("Can't make the galss scale less than 1, It will make bed invision"),q(r.glassCtx,!1),r.glassCtx.drawImage(r.imageCanvas,Math.floor(s-i/2/r.finallyScale),Math.floor(c-n/2/r.finallyScale),Math.floor(i/r.finallyScale),Math.floor(n/r.finallyScale),-5,-5,i,n),Z(r.glassCtx,"lightgray",10,10),X(r.glassCtx),J(r.glassCtx,"black",Math.floor((i-10)/2),Math.floor((n-10)/2),10,10),r.getColor()})),
v()(p()(r),"getColor",(function(){var e=r.centerPoint,t=e.centerX,n=e.centerY,i=r.imageCtx.getImageData(t,n,1,1).data,o=G(i),a=o.rgba,s=o.R,c=o.G,l=o.B
r.setState({color:a,R:s,G:c,B:l}),r.color=a})),v()(p()(r),"handleClick",(function(){r.getColor()
var e=r.color,t=Object(F.k)(e),n=t.history,i=t.focusColor
clearTimeout(r.timeoutToken),r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:n,focusColor:i}}),r.timeoutToken=setTimeout((function(){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:{userPickColor:n,focusColor:null}})}),1e3)})),v()(p()(r),"clearGlassRect",(function(){var e=r.props,t=e.glassHeight,n=e.glassWidth
r.glassCtx.clearRect(0,0,n,t),r.setState({visibility:"hidden"})})),v()(p()(r),"handleMouseLeave",(function(){r.clearGlassRect()})),v()(p()(r),"handleLoad",(function(){r.renderImageCanvas()})),v()(p()(r),"handleError",(function(){r.cancelPickerMode()}))
var i=r.props.scale
return r.iamgeContainerRef=function(e){return r.image=e},r.getImageCanvasRef=function(e){return r.imageCanvas=e},r.glassCanvasRef=function(e){return r.glassCanvas=e},r.finallyScale=10*(i<1?1:i),r.state={visibility:"hidden",glassLeft:0,glassTop:0,color:"#fff",R:0,G:0,B:0},r}return u()(n,[{key:"componentDidMount",value:function(){this.imageCtx=this.imageCanvas.getContext("2d"),this.glassCtx=this.glassCanvas.getContext("2d")}},{key:"componentDidCatch",value:function(e){console.log(e),this.cancelPickerMode()}
},{key:"componentDidUpdate",value:function(){if(this.imageCanvas){var e=this.imageCanvas.getBoundingClientRect(),t=e.width,n=e.height,r=this.lastCanvasRect||{width:0,height:0},i=r.width,o=r.height
i===t&&o===n||(this.clearGlassRect(),this.renderImageCanvas())}else this.handleError()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.glassWidth,o=e.glassHeight,a=e.src,s=this.state,c=s.visibility,l=s.glassLeft,u=s.glassTop,d=s.color,p=s.R,f=s.G,h=s.B
return Object(i.jsxs)("div",{className:"mb-picker-container",children:[Object(i.jsx)("img",{ref:this.iamgeContainerRef,className:"mb-picker-image",width:t,height:n,src:a,onLoad:this.handleLoad,onError:this.handleError}),Object(i.jsx)("canvas",{ref:this.getImageCanvasRef,onMouseMove:this.handleMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,style:{width:t,height:n,opacity:0}}),Object(i.jsxs)("div",{className:"mb-glass",style:{width:r,height:o,visibility:c,left:l,top:u},
children:[Object(i.jsx)("div",{className:"shadow"}),Object(i.jsx)("canvas",{ref:this.glassCanvasRef,width:r,height:o,style:{width:r,height:o}}),Object(i.jsx)("div",{style:{top:o/2+15},className:"mb-glass-text",children:Object(i.jsx)("div",{className:"mb-rgba-color",children:"R:".concat(p," G:").concat(f," B:").concat(h," ").concat(String(W(d).hex).toUpperCase())})})]}),Object(i.jsx)(_.a,{target:document,onClick:this.cancelColorPicker})]})}}]),n}(w.PureComponent)
v()(H,"propTypes",{src:x.a.string,width:x.a.oneOfType([x.a.string,x.a.number]),height:x.a.oneOfType([x.a.string,x.a.number]),glassHeight:x.a.number,glassWidth:x.a.number,scale:x.a.number,dispatch:x.a.func}),v()(H,"defaultProps",{src:"/sec3.png",width:1300,height:769,glassWidth:200,glassHeight:200,scale:1})
var G=function(e){return e[3]=parseFloat(e[3]/255),{rgba:"rgba(".concat(e.join(", "),")"),R:e[0],G:e[1],B:e[2]}},V=/rgba?\((\d+),(\d+),(\d+),?(\d+)?/,W=function(e){var t=V.exec(e.replace(/ /g,"").toLowerCase())
if(!t||!t[3])return e
var n=a()(t,5),r=n[1],i=n[2],o=n[3],s=n[4],c=void 0===s?"1":s
return{hex:"#".concat(Y(r)).concat(Y(i)).concat(Y(o)),o:Number(c)}},Y=function(e){var t=parseInt(e,10).toString(16)
return 1===t.length?"0".concat(t):t},Z=function(e,t,n,r){e.strokeStyle=t,e.lineWidth=.5
for(var i=n+5.5;i<e.canvas.width-n;i+=n)e.beginPath(),e.moveTo(i,0),e.lineTo(i,e.canvas.height),e.stroke()
for(var o=r+5.5;o<e.canvas.height-n;o+=r)e.beginPath(),e.moveTo(0,o),e.lineTo(e.canvas.width,o),e.stroke()},q=function(e,t){e.mozImageSmoothingEnabled=t,e.webkitImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t,e.imageSmoothingEnabled=t},X=function(e){e.beginPath(),e.strokeStyle="#8D9EA7",e.lineWidth=8,e.arc(100,100,96,0,2*Math.PI),e.stroke(),e.strokeStyle="#D4D7DC",e.lineWidth=5,e.arc(100,100,96,0,2*Math.PI),e.stroke()},J=function(e,t,n,r,i,o){e.beginPath(),n+=.5,r+=.5,e.strokeStyle=t,e.lineWidth=1,
e.moveTo(n,r),e.lineTo(n+i,r),e.lineTo(n+i,r+o),e.lineTo(n,r+o),e.lineTo(n,r),e.stroke(),e.beginPath(),e.lineWidth=1,e.strokeStyle="white",e.moveTo(n-1,r-1),e.lineTo(n+i+1,r-1),e.lineTo(n+i+1,r+1+o),e.lineTo(n-1,r+o+1),e.lineTo(n-1,r-1),e.stroke()},K=n(123),Q=Object(r.connect)((function(e){var t=Object(k.d)(e),n=Object(k.J)(e),r=n.activeCid,i=n.screenInfoMap[r],o=i.screenMeta,a=i.stateCid,s=ee(t.cid,o.cid,a)
return{scale:1,width:"100%",height:"100%",src:"".concat(s)}}))(H),ee=function(e,t,n){return"".concat("/snapshot.png","?projectMetaCid=").concat(e,"&screenMetaCid=").concat(t,"&screenStateCid=").concat(n,"&zoomMode=").concat(K.SNAPSHOT_ZOOM_MODE.ZOOM_100)},te=n(350),ne=n(10),re=n.n(ne),ie=function(e){var t=e.value,n=e.ratio,r=e.valueRatio,o=e.unit,a=e.style,s=e.className,c=e.customClassName,l=Object(F.a)(t,n)
return Object(i.jsx)("div",{style:a,className:"".concat(s," ").concat(c),children:"".concat(Math.round(l*r)).concat(o)})},oe=re()(ie).withConfig({displayName:"MarkLabel__StyledMarkValue",componentId:"sc-1uuea5u-0"})(["padding:0 5px;color:#fff;background-color:",";border-radius:2px;"],(function(e){return e.theme.preview.comment.layer.select_border}))
ie.propTypes={value:x.a.oneOfType([x.a.string,x.a.number]),ratio:x.a.number,valueRatio:x.a.number,unit:x.a.string,style:x.a.object,className:x.a.string,customClassName:x.a.string}
var ae=oe,se=n(66),ce=re.a.div.withConfig({displayName:"styles__StyledLayerBorder",componentId:"q1u3ez-0"
})(["position:absolute;pointer-events:none;&.select{border:1px solid ",";}&.hover{border:1px solid ",";}.LayerCorner{position:absolute;display:inline-block;width:7px;height:7px;background-color:white;border:1px solid ",";&.left{left:-4px;}&.top{top:-4px;}&.right{right:-4px;}&.bottom{bottom:-4px;}}.layer-width,.layer-height{line-height:1;padding:3px 5px;background-color:",";color:#fff;border-radius:2px;}.layer-width{position:absolute;top:-5px;left:50%;transform:translateX(-50%) translateY(-100%);}.layer-height{position:absolute;top:50%;right:-5px;transform:translateX(100%) translateY(-50%);}.rect_info{position:absolute;display:inline-block;top:calc(100% + 5px);left:50%;transform:translateX(-50%);line-height:1;padding:3px 5px;background-color:#1E98EA;color:#fff;border-radius:2px;white-space:nowrap;}"],(function(e){
return e.theme.preview.comment.layer.select_border}),(function(e){return e.theme.palette.panel_bg_blue_wonder}),(function(e){return e.theme.preview.comment.layer.select_border}),(function(e){return e.theme.preview.comment.layer.select_border})),le=function(e){var t=e.type,n=e.rect,r=e.screenWidth,o=e.screenHeight,a=e.showLayerInfo,s=e.layer,c=e.unit,l=e.ratio,u=de(n,r,o),d=u.top,p=u.left,f=u.width,h=u.height
return Object(i.jsx)(ce,{className:t,style:{top:d,left:p,width:f,height:h},children:"select"===t&&a&&ue(s,l,c)})}
le.propTypes={type:x.a.string,rect:x.a.object,screenWidth:x.a.number,screenHeight:x.a.number,showLayerInfo:x.a.bool,layer:x.a.object,unit:x.a.string,ratio:x.a.number}
var ue=function(e,t,n){var r=e.src_width,o=e.src_height,a=e.rotation,s=void 0===a?0:a,c=e.kind?r:r*Object(se.b)(s)+o*Object(se.e)(s),l=e.kind?o:r*Object(se.e)(s)+o*Object(se.b)(s),u=Object(F.a)(c,t),d=Object(F.a)(l,t),p=e.kind?Object(F.a)(e.origin_width||r,t):Object(F.a)(r,t),f=e.kind?Object(F.a)(e.origin_height||o,t):Object(F.a)(o,t)
return Object(i.jsxs)(j.a.Fragment,{children:[Object(i.jsx)("span",{className:"LayerCorner left top"}),Object(i.jsx)("span",{className:"LayerCorner left bottom"}),Object(i.jsx)("span",{className:"LayerCorner right top"}),Object(i.jsx)("span",{className:"LayerCorner right bottom"}),Object(i.jsx)("span",{className:"layer-width",children:"".concat(u).concat(n)}),Object(i.jsx)("span",{className:"layer-height",children:"".concat(d).concat(n)}),0!==s&&Object(i.jsxs)("span",{className:"rect_info",
children:["".concat(p," x ").concat(f),"  ","".concat(s,"°")]})]})},de=function(e,t,n){return{top:e.top/n*100+"%",left:e.left/t*100+"%",width:e.width/t*100+"%",height:e.height/n*100+"%"}},pe=n(97),fe=function(e){h()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a]
return e=t.call.apply(t,[this].concat(o)),v()(p()(e),"renderValue",(function(t){var n=e.props,r=n.ratio,o=n.unit,a=n.activeLayerID,s=n.layerTreeData,c=Object(pe.a)(a,s).widget,l=c.src_width,u=c.width,d=l?l/u:1
return Object(i.jsx)(ae,N()({ratio:r,unit:o,valueRatio:d},t))})),e}return u()(n,[{key:"componentDidMount",value:function(){$(".ppanel").scrollLeft(0).scrollTop(0)}},{key:"render",value:function(){var e=this.props,t=e.activeLayerID,n=e.enteredLayerID,r=e.layerTreeData,o=e.screen,a=e.unit,s=e.ratio,c=e.isOutsideVisible,l=e.isWonderShare,u=o.width,d=o.height,p=Object(pe.a)(t,r),f=Object(pe.a)(n,r),h=p&&f&&n!==t,m=!!p,g=f&&n!==t
if(!(h||m||g))return null
var b=he(t,r,c),v=he(n,r,c)
return Object(i.jsxs)(j.a.Fragment,{children:[h&&Object(i.jsx)(te.a,{baseRect:b,refRect:v,screen:o,renderValue:this.renderValue,theme:"preview",isWonderShare:l}),m&&b&&Object(i.jsx)(le,{type:"select",rect:b,screenWidth:u,screenHeight:d,showLayerInfo:!h,layer:p.widget,unit:a,ratio:s}),g&&v&&Object(i.jsx)(le,{type:"hover",rect:v,screenWidth:u,screenHeight:d})]})}}]),n}(w.PureComponent)
v()(fe,"propTypes",{ratio:x.a.number,unit:x.a.string,activeLayerID:x.a.oneOfType([x.a.number,x.a.string]),enteredLayerID:x.a.oneOfType([x.a.number,x.a.string]),layerTreeData:x.a.object,screen:x.a.object,isOutsideVisible:x.a.bool,isWonderShare:x.a.bool})
var he=function(e,t,n){if(!Object(pe.a)(e,t))return null
var r=Object(pe.c)(e,t)
if(n)return r
var i=t.widget,o={top:0,left:0,width:i.width,height:i.height}
return me(r,o)},me=function(e,t){var n=ge(e),r=ge(t),i=Math.max(n.minX,r.minX),o=Math.max(n.minY,r.minY)
return{top:o,left:i,width:Math.min(n.maxX,r.maxX)-i,height:Math.min(n.maxY,r.maxY)-o}},ge=function(e){var t=e.top,n=e.left
return{minX:n,minY:t,maxX:n+e.width,maxY:t+e.height}},be=Object(r.connect)((function(e){var t=e.container,n=t.layers,r=n.activeLayerID,i=n.enteredLayerID,o=t.previewSetting,a=o.ratio,s=o.unit,c=Object(k.M)(e),l=Object(k.g)(e)
return{activeLayerID:r,enteredLayerID:i,layerTreeData:Object(E.d)(e),ratio:a,unit:s,screen:l,isOutsideVisible:"outside_artboard"===c,isWonderShare:Object(k.i)(e).isWonderShare}}))(fe),ve=re.a.div.withConfig({displayName:"styles__StyledArtboard",componentId:"sc-17up13-0"})(["position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none;&.is-shadow{box-shadow:0 0 3px 0 rgba(0,0,0,0.1);}&.is-active{z-index:200;pointer-events:auto;}"]),ye=function(e){h()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),v()(p()(e),"checkIfNeedHideLayer",(function(t){var n=e.props,r=n.isSpaceDown,i=n.isSelectLayer,o=n.dispatch
if(i){var a=t.target
r||!a.contains(document.getElementById("simulator-container"))&&!document.getElementById("preview-setting-list").contains(a)||(o(Object(D.q)(-1)),o({type:"reducer:preview-toolbar:update",payload:{isSelectLayer:!1}}))}})),e}return u()(n,[{key:"componentDidUpdate",value:function(e,t,n){var r=this.props,i=r.runnerState,o=r.dispatch
i!==e.runnerState&&(o(Object(D.k)(-1)),o(Object(D.j)(-1)))}},{key:"render",value:function(){var e=this.props,t=e.isPreview,n=e.isInspect,r=e.isShowColorPicker,o=e.isFetching,a=e.error
if(o||a)return null
var s=T()("ui-layers",{"is-shadow":!t,"is-active":n}),c=n&&!r
return Object(i.jsxs)(ve,{className:s,children:[r&&Object(i.jsx)(Q,{}),c&&Object(i.jsxs)("div",{children:[Object(i.jsx)(U,{}),Object(i.jsx)(be,{}),Object(i.jsx)(_.a,{target:document,onClick:this.checkIfNeedHideLayer})]})]})}}]),n}(w.PureComponent)
v()(ye,"propTypes",{isPreview:x.a.bool,isInspect:x.a.bool,isShowColorPicker:x.a.bool,runnerState:x.a.object,isFetching:x.a.bool,isSpaceDown:x.a.bool,isSelectLayer:x.a.bool,error:x.a.string,dispatch:x.a.func})
var xe=Object(O.createSelector)([k.C,k.J,k.t,function(e){return e.container.common.keyFlags.isSpaceDown},function(e){return e.container.previewSetting.isSelectLayer},E.c],(function(e,t,n,r,i,o){var a=e.isPreview,s=e.isInspect,c=o.isFetching,l=void 0===c||c,u=o.error
return{isPreview:a,isInspect:s,isShowColorPicker:n,runnerState:t,isSpaceDown:r,isSelectLayer:i,isFetching:l,error:void 0===u?"":u}})),we=Object(r.connect)((function(e){return xe(e)}))(ye),je=n(95),Se=n(253),_e=n(156),Ce=n(26),Oe=n.n(Ce),ke=n(44),Ee=n(61),Me=n(42),Te=function(e){h()(n,e)
var t=g()(n)
function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.itemList,r=e.scrollTop,o=[],a={}
n.forEach((function(e){"sticky"===e.name&&o.push(e),"link"===e.name&&(a[e.cid]=e)}))
var s=o.map((function(e){return N()(N()({},e),{},{links:Object(Me.i)(a,e.link_cids)})}))
return Object(i.jsx)("div",{id:"sticky-container","data-cid":t.cid,className:T()({pcanvas:o.length>0}),onClick:this.handleClick,children:Object(i.jsx)("div",{style:{marginTop:r||0},children:s.map((function(e){return Object(i.jsx)(Ae,{screenMeta:t,sticky:e},e.cid)}))})})}}]),n}(w.PureComponent)
v()(Te,"propTypes",{screenMeta:x.a.object,scrollTop:x.a.number,itemList:x.a.array})
var De={isPreview:!0,isSnapshot:!1,isHTMLZip:!1},Ae=function(e){h()(n,e)
var t=g()(n)
function n(){var e
c()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),v()(p()(e),"handleClick",(function(t){e.props.sticky.link_cids&&MB.runner.eventHandler.prepareJump(t,["tap","click"])})),e}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.sticky,r=Object(Ee.g)(n,{links:n.links,isPreview:!0}),o=n.top,a=n.left,s=Object(Ee.h)(n,{top:o,left:a},{screen:t,isPreview:!0})
return Object(i.jsx)("div",{"data-cid":n.cid,"data-link_cid":n.link_cids,id:"widget".concat(n.cid,"p"),className:r,style:s,onClick:this.handleClick,children:Object(ke.N)(n,De)},n.cid)}}]),n}(w.PureComponent)
v()(Ae,"propTypes",{screenMeta:x.a.object,sticky:x.a.object})
var Ne=Object(w.memo)((function(e){var t=e.screenMeta,n=e.screenInfo,r=e.scrollTop
if(!t||!n)return null
var o=n.stateCid,s=n.screenRuntimeState.itemListMap[o],c=[]
return s.forEach((function(e){if("panel"===e.name){var t=n.panelInfoMap[e.cid],r=t.currentScreenStateCid,i=t.currentScreenMetaCid
if(!t)return
var o=[],s=t.screenDataMap[i]
if(!s)return
if(!(o=s.screenRuntimeState.itemListMap[r]))return
c=[].concat(Oe()(c),Oe()(o.filter((function(e){return"sticky"===e.name})).map((function(t){var n=t.point||[0,0],r=a()(n,2),i=r[0],o=r[1]
return N()(N()({},t),{},{top:e.top+t.top,left:e.left+t.left,point:t.point?[e.left+i,e.top+o]:void 0})}))))}})),t&&Object(i.jsx)(Te,{screenMeta:t,itemList:[].concat(Oe()(s),Oe()(c)),scrollTop:r},t.cid)}))
Ne.propTypes={screenMeta:x.a.object,screenInfo:x.a.object,scrollTop:x.a.number}
var Pe=Object(r.connect)((function(e){var t=Object(k.g)(e),n=Object(k.J)(e),r=n.screenInfoMap,i=n.screenScrollTopMap
return{screenMeta:Object(k.L)(e)[t.cid],screenInfo:r[t.cid],scrollTop:i[t.cid]}}))(Ne),Ie=n(96),Le=function(e){h()(n,e)
var t=g()(n)
function n(){var e
return c()(this,n),e=t.call(this),v()(p()(e),"handleKeyDown",(function(t){var n=e.props.dispatch,r=t.target.matches("input")||t.target.matches("textarea")
32===t.keyCode&&!r&&(t.preventDefault(),n({type:"preview:set:key:flags",payload:{isSpaceDown:!0}}))})),v()(p()(e),"handleKeyUp",(function(){e.props.dispatch({type:"preview:reset:key:flags"})})),v()(p()(e),"handleMouseDown",(function(t){var n=e.props.isSpaceDown;(1===t.button||n)&&e.initDraggingCanvas(t)})),v()(p()(e),"handleScaleChange",(function(t){e.props.dispatch({type:"entry:preview:set:scale",payload:{scale:t}})})),v()(p()(e),"handleOffsetChange",(function(t,n){e.props.dispatch({
type:"entry:preview:set:canvas:offset",payload:{offset:{x:t,y:n}}})})),e.state={isDraggingCanvas:!1},e}return u()(n,[{key:"initDraggingCanvas",value:function(e){var t=this,n=e.clientX,r=e.clientY,i=this.props.canvasOffset,o=i.x,a=i.y
this.setState({isDraggingCanvas:!0})
var s=function(e){var i={x:o+(e.clientX-n),y:a+(e.clientY-r)}
t.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:i}})}
document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function e(){t.setState({isDraggingCanvas:!1}),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)}))}},{key:"render",value:function(){
var e,t,n=this.props,r=n.scale,o=n.canvasOffset,s=n.project,c=n.screenGlue,l=n.screen,u=n.isSpaceDown,d=n.isStickyShow,p=n.simulatorType,f=n.isShowShell,h=n.isLayerActive,m=n.isCommentActive,g=n.isFullScreenMode,b=n.isPreviewActive,v=n.isHTMLZip,y=this.state.isDraggingCanvas,x=o.x,w=o.y,j=h||m,S=j||!f||"device"!==p?"none":Object(Ie.a)(s),O=!j&&"project-main"===c.type&&(s.width===l.width&&l.height>=s.height||s.height===l.width&&l.height>=s.width),k="landscape"===l.orientation||l.width===s.height
if(O){var E=k?[c.height,c.width]:[l.width,c.height],M=a()(E,2)
e=M[0],t=M[1]}else{var D=[l.width,Math.min(c.height,l.height)]
e=D[0],t=D[1]}var A={width:e,height:t,minWidth:e,minHeight:t,transform:"matrix(1, 0, 0, 1, ".concat(x,", ").concat(w,")")},N={transform:"scale(".concat(r/100,")")},P={width:"".concat(r,"%"),height:"".concat(r,"%")},I={width:l.width*r/100,height:l.height*r/100},L=T()({"wait-drag":u||y,"is-immersive":j,"is-comment-active":m,"is-screen-expanded":j||"device"!==p,"is-fullscreen-mode":g})
return Object(i.jsxs)(C.a,{x:x,y:w,scale:r,id:"simulator-container",className:L,isDisabled:y,onMouseDown:this.handleMouseDown,onScaleChange:this.handleScaleChange,onOffsetChange:this.handleOffsetChange,children:[function(e,t,n){return Object(i.jsxs)("div",{className:"screen-viewport",style:A,children:[Object(i.jsxs)("div",{className:"zoom-area",style:N,children:[Object(i.jsx)(_e.a,{isShellShow:O}),O&&Object(i.jsx)(Se.a,{isHTMLZip:v,project:s,shellType:S,isLandscape:k}),d&&Object(i.jsx)(Pe,{})]
}),Object(i.jsx)("div",{className:"no-zoom-area-wrapper",style:P,children:Object(i.jsxs)("div",{className:"no-zoom-area",style:b&&"device"===p?{}:I,children:[Object(i.jsx)(we,{}),Object(i.jsx)("div",{id:"ui-comment-marker-panel",children:Object(i.jsx)(je.b,{isActive:m,scale:n/100})})]})})]},"1")},Object(i.jsx)(_.a,{target:document,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp})]})}}]),n}(w.PureComponent)
v()(Le,"propTypes",{scale:x.a.number,canvasOffset:x.a.object,screen:x.a.object,project:x.a.object,screenGlue:x.a.object,simulatorType:x.a.string,isStickyShow:x.a.bool,isShowShell:x.a.bool,isPreviewActive:x.a.bool,isSpaceDown:x.a.bool,isLayerActive:x.a.bool,isCommentActive:x.a.bool,isFullScreenMode:x.a.bool,isHTMLZip:x.a.bool,dispatch:x.a.func})
t.a=Object(r.connect)((function(e){var t=e.container.common,n=t.offset,r=t.keyFlags.isSpaceDown,i=Object(k.D)(e).isHTMLZip,o=Object(k.f)(e),a=Object(k.g)(e),s=Object(k.c)(e),c=Object(k.h)(e),l=Object(k.x)(e),u=Object(k.m)(e),d=Object(k.C)(e),p=d.isPreview,f=d.isInspect,h=d.isComment
return{scale:o,canvasOffset:n,screen:a,project:s,screenGlue:c,simulatorType:Object(k.M)(e),isSpaceDown:r,isStickyShow:l,isPreviewActive:p,isLayerActive:f,isCommentActive:h,isFullScreenMode:u,isHTMLZip:i,isShowShell:Object(k.v)(e)}}))(Le)},function(e,t,n){"use strict"
var r=n(21),i=n(20),o=n(16),a=n(53),s=n(0),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),f=n.n(p),h=n(8),m=n.n(h),g=n(9),b=n.n(g),v=n(2),y=n.n(v),x=n(1),w=n.n(x),j=n(5),S=n(13),_=n.n(S),C=n(217),O=n(4),k=n.n(O),E=n(74),M=n.n(E),T=n(211),D=n.n(T),A=n(35),N=n(43),P=n.n(N),I=n(89),L=n.n(I),B=function(e){m()(n,e)
var t=b()(n)
function n(){return l()(this,n),t.apply(this,arguments)}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.menuClassName,r=P()(e,["className","menuClassName"])
return Object(s.jsx)(L.a,k()(k()({className:Object(A.trimList)(["ToolbarSelect",t]),menuClassName:Object(A.trimList)(["ToolbarSelectMenu",n])},r),{},{placeholder:" ",unstyled:!0,size:"small",menuX:"center"}))}}]),n}(j.PureComponent)
y()(B,"propTypes",{className:w.a.string,menuClassName:w.a.string})
var F=n(36),R=n.n(F),z=n(45),U=n.n(z),H=n(10),G=n.n(H)
function V(){
var e=U()(["\n  #IBOT_SELECT_MENU_ROOT {\n    .PreviewSubToolbarSelectMenu {\n      margin-left: -10px;\n      background-color: ",";\n\n      .SelectOption {\n        color: ",";\n\n        &:not(.is-active):hover {\n          color: ",";\n          background-color: ",";\n        }\n\n        &.is-active {\n          color: ",";\n          background-color: ",";\n        }\n      }\n    }\n\n    .PreviewSubToolbarSelectMenu.scale-select-menu {\n      margin-left: -5px;\n      width: 80px;\n\n      li:nth-last-child(2) {\n        display: none;\n      }\n\n      li:last-child {\n        padding: 0.25em 0;\n        line-height: 1.5;\n\n        &:hover { background-color: transparent; }\n\n        > .Ellipsis { padding: 0; }\n\n        .InputNumber {\n          width: 100%;\n          height: 30px;\n\n          input {\n            padding: 0 1em;\n            text-align: center;\n            background-color: transparent;\n\n            &:focus::placeholder { color: transparent; }\n          }\n        }\n      }\n    }\n  }\n"])
return V=function(){return e},e}var W=G.a.div.withConfig({displayName:"styles__StyledSubToolbar",componentId:"sc-16c0zvo-0"
})(["&{position:absolute;z-index:10;top:14px;left:50%;transform:translateX(-50%);display:flex;justify-content:center;align-items:center;min-width:263px;height:36px;background:",";border-radius:2px;box-shadow:0 2px 10px 0 rgba(82,94,113,0.1);pointer-events:auto;}.mode{display:flex;min-width:50px;justify-content:space-between;align-items:center;margin-left:20px;color:",";}.param{display:flex;flex:1;justify-content:center;align-items:center;margin:0 10px 0 20px;.Select{color:",";}}.dora{margin-top:-1px;font-size:15px;cursor:pointer;}.cursor.is-active{color:",";}.picker.is-active{color:",";}.ToolbarSelect{min-width:auto !important;&.color-unit{width:60px;button{text-align:center;}}&.device-unit{width:62px;button{text-align:center;}}&.em-pixel{width:52px;button{text-align:center;}}.caret{position:relative;margin:0 10px !important;color:#C8CDD0;}&:not(:last-child)::after{content:'';width:1px;height:12px;display:block;margin-right:10px;background-color:",";}}.px-ratio{color:",";margin-right:10px;}"],(function(e){
return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.icon_17.cr}),(function(e){return e.theme.common.text_23.cr}),(function(e){return e.theme.preview.comment.layer.icon_active}),(function(e){return e.theme.preview.inspect.subToolbar.picker}),(function(e){return e.theme.common.divider.divider_4}),(function(e){return e.theme.common.text_13.cr})),Y=Object(H.createGlobalStyle)(V(),(function(e){return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.text_31.cr}),(function(e){
return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.hover_bg}),(function(e){return e.theme.common.text_31.hover}),(function(e){return e.theme.preview.inspect.subToolbar.menu.active_bg})),Z=function(e){m()(n,e)
var t=b()(n)
function n(e){var r
return l()(this,n),r=t.call(this,e),y()(f()(r),"updateSubToolbar",(function(e){r.props.dispatch({type:"reducer:preview-toolbar:update",payload:k()({},e)})})),y()(f()(r),"pickColor",(function(e){e.nativeEvent.stopImmediatePropagation(),MB.event("preview","在标注模式中使用了自定义取色"),r.updateSubToolbar({isShowColorPicker:!0,showLayerList:!1,isSelectLayer:!1})})),y()(f()(r),"updateDeviceUnit",(function(e){var t=r.props.emPixel,n=te(e,t)
r.updateSubToolbar(n?{unit:e,ratio:n}:{unit:e}),MB.event("preview","在".concat(e,"下切换倍率为").concat(n))})),y()(f()(r),"updateColorUnit",(function(e){r.updateSubToolbar({colorUnit:e})})),y()(f()(r),"updateEmPixel",(function(e){var t=Number(e)
r.updateSubToolbar({emPixel:t,ratio:t}),r.setState({customEmPixel:""})
var n=r.props.unit
MB.event("preview","在".concat(n,"下切换倍率为").concat(t))})),y()(f()(r),"onTypingEmPixel",(function(e){if(e){r.setState({customEmPixel:e}),r.updateSubToolbar({emPixel:e,ratio:e})
var t=r.props.unit
MB.event("preview","在".concat(t,"在设置自定义倍率").concat(e))}})),y()(f()(r),"handleMobileChange",(function(e){var t=r.props.unit
r.updateSubToolbar({ratio:Number(e)}),MB.event("preview","在".concat(t,"下切换倍率为").concat(e))})),r.state={showLogin:!1,customEmPixel:""},r}return d()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.unit
this.props.unit!==t&&t===q&&this.updateSubToolbar({ratio:1})}},{key:"render",value:function(){var e=this.props,t=e.unit,n=e.emPixel,r=e.ratio,i=e.isShowColorPicker,o=e.colorUnit,a=e.isLogin,c=this.state.customEmPixel,l=t===J||t===X,u=t===q,d=t===J?ee:$,p=[{value:10,label:"10px"},{value:12,label:"12px"},{value:14,label:"14px"},{value:16,label:"16px"},{value:n,label:"".concat(n,"px")},Object(s.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(s.jsx)(D.a,{size:"small",min:1,max:99,
precision:0,value:c,placeholder:I18N.pInspect.custom,onChange:this.onTypingEmPixel})})]
return Object(s.jsxs)(W,{className:_()("sub-toolbar","preview-sub-toolbar"),children:[Object(s.jsxs)("div",{className:"mode",children:[Object(s.jsx)(R.a,{name:"cursor",type:"dora",className:Object(A.trimList)(["cursor",!i&&"is-active"])}),Object(s.jsx)(M.a,{arrowed:!0,position:"bottom",duration:1500,className:Object(A.trimList)(["picker",i&&"is-active"]),tipClassName:"marign-top-20",content:{click:a?null:I18N.pInspect.guide_login,hover:I18N.pInspect.color_picker},children:Object(s.jsx)(R.a,{name:"tube",
type:"dora",onClick:this.pickColor})})]}),Object(s.jsxs)("div",{className:"param",children:[Object(s.jsx)(B,{className:"color-unit",menuClassName:"PreviewSubToolbarSelectMenu",value:o,optionList:Q,onChange:this.updateColorUnit}),Object(s.jsx)(B,{className:"device-unit",menuClassName:"PreviewSubToolbarSelectMenu",optionList:K,value:t,onChange:this.updateDeviceUnit}),l?Object(s.jsx)(B,{menuClassName:"PreviewSubToolbarSelectMenu",optionList:d,value:r,onChange:this.handleMobileChange}):u?Object(s.jsx)("span",{
className:"px-ratio",children:"@1x"}):Object(s.jsx)(B,{className:"em-pixel",menuClassName:"PreviewSubToolbarSelectMenu scale-select-menu",optionList:p,value:n,onChange:this.updateEmPixel})]}),Object(s.jsx)(Y,{})]})}}]),n}(j.PureComponent)
y()(Z,"propTypes",{unit:w.a.string,ratio:w.a.number,colorUnit:w.a.string,isShowColorPicker:w.a.bool,emPixel:w.a.number,isLogin:w.a.bool,dispatch:w.a.func})
var q="px",X="pt",J="dp",K=[q,"em","rem",J,X],Q=[{value:"hex",label:"Hex"},{value:"rgb",label:"RGB"},{value:"rgba",label:"RGBA"},{value:"argb",label:"ARGB"}],$=[1,2,3].map((function(e){return{value:e,label:"@".concat(e,"x")}})),ee=[.75,1,1.5,2,3,4].map((function(e){return{value:e,label:"@".concat(e,"x")}})),te=function(e,t){return"em"===e||"rem"===e?t:1},ne=Object(r.connect)((function(e){var t=e.model.user,n=Boolean(t.id),r=Object(o.E)(e)
return{isLogin:n,unit:r.unit,emPixel:r.emPixel,ratio:r.ratio,isShowColorPicker:r.isShowColorPicker,colorUnit:r.colorUnit}}))(Z),re=n(352),ie=G()(re.a).withConfig({displayName:"ScrollBarContainer__StyledScrollBar",componentId:"epknil-0"})(["&.is-fullscreen-mode{.track,.handler{opacity:0;pointer-events:none;}}"]),oe=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleScroll",(function(t){return e.props.dispatch({type:"entry:preview:set:canvas:offset",payload:{offset:t}})})),e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.canvasRange,n=e.canvasOffset,r=e.viewport,i=e.isFullScreenMode,o=r.width,a=r.height
return Object(s.jsx)(ie,{className:i?"is-fullscreen-mode":"",canvasOffset:n,viewportWidth:o,viewportHeight:a,canvasRange:t,onScroll:this.handleScroll})}}]),n}(j.PureComponent)
y()(oe,"propTypes",{canvasOffset:w.a.object,viewport:w.a.object,canvasRange:w.a.object,isFullScreenMode:w.a.bool,dispatch:w.a.func})
var ae=Object(i.createSelector)([o.m,o.O,o.B,o.a],(function(e,t,n,r){return{isFullScreenMode:e,viewport:t,canvasOffset:n,canvasRange:r}})),se=Object(r.connect)((function(e){return ae(e)}))(oe),ce=n(15),le=n(31),ue=G.a.a.withConfig({displayName:"styles__StyledSimulatorDisplayModeNav",componentId:"i251l8-0"
})(["position:relative;width:32px;height:36px;display:flex;justify-content:center;align-items:center;border:2px solid ",";background:",";transition:all 0.2s ease-out;.outside_artboard-icon{width:19px;height:16px;}:hover{border:2px solid ",";.blank-box,.display-mode-list{display:block;}}.svg-icon{color:#fff;}ul{list-style:none;}.blank-box{display:none;position:absolute;width:8px;height:36px;top:0;left:100%;}.display-mode-list{display:none;position:absolute;padding:4px 0;width:108px;top:0;left:calc(100% + 8px);background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;.option{display:flex;align-items:center;height:32px;padding:0 12px;color:",";transition:all 0.2s ease-out;cursor:pointer;.option-icon-box{display:flex;align-items:center;justify-content:center;width:22px;height:22px;margin-right:2px;}.svg-icon{transition:all 0.2s ease-out;color:",";}:hover{background:",";color:",";}&.active{background:",";color:",";.svg-icon{color:",";}}}}"],(function(e){
return e.theme.preview.mainContent.settingList.bg_active}),(function(e){return e.theme.preview.mainContent.settingList.bg_active}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.border_color}),(function(e){return e.theme.common.bg.menu_bg}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.font_color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.hover_bg}),(function(e){
return e.theme.settingPanel.simulatorDisplaySettings.active_color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.active_bg}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.active_color}),(function(e){return e.theme.settingPanel.simulatorDisplaySettings.active_color})),de=n(102),pe=function(e){m()(n,e)
var t=b()(n)
function n(e){var r
return l()(this,n),r=t.call(this,e),y()(f()(r),"OPTION_LIST",[{iconName:"design/preview/device",value:"device",label:I18N.pMainContent.prd_device,tooptipTitle:I18N.pMainContent.prd_device_des},{iconName:"design/preview/long_page",value:"long_page",label:I18N.pMainContent.prd_page,tooptipTitle:I18N.pMainContent.prd_page_des},{iconName:"design/preview/outside_artboard",value:"outside_artboard",label:I18N.pMainContent.prd_prd,tooptipTitle:I18N.pMainContent.prd_prd_des}]),
y()(f()(r),"setElementRef",(function(e){return r.$element=e})),y()(f()(r),"handleToggleDisplayMode",(function(e){var t=r.props.dispatch,n=e.currentTarget.dataset.value
t({type:"entry:preview-setting:update:simulatorType",payload:{simulatorType:n}}),"outside_artboard"===n&&(r.isDesign||r.isPreview)&&MB.event("zhuge","PRD_view",{where:r.isDesign?"design":"app"})})),r.isDesign=Object(de.a)(location.pathname),r.isPreview=Object(de.b)(location.pathname),r}return d()(n,[{key:"componentDidMount",value:function(){if(this.isDesign||this.isPreview){var e=this.props.simulatorType
MB.event("zhuge","enter_Preview",{where:this.isDesign?"design":"app",mode:e})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.simulatorType,r=t.isInspect,i=t.isShowOutsideArtboardNav,o=this.OPTION_LIST
return Object(s.jsxs)(ue,{className:"nav",children:[Object(s.jsx)(ce.a,{name:"design/preview/".concat(n),className:"".concat(n,"-icon")}),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"blank-box"}),Object(s.jsx)("ul",{className:"display-mode-list",children:o.map((function(t){var o=t.iconName,a=t.value,c=t.label,l=t.tooptipTitle
return r&&"device"===a?null:i||"outside_artboard"!==a?Object(s.jsx)(le.a,{content:l,direction:"right",distance:8,maxWidth:"230px",children:Object(s.jsxs)("li",{className:_()("option",{active:a===n}),"data-value":a,onClick:e.handleToggleDisplayMode,children:[Object(s.jsx)("div",{className:"option-icon-box",children:Object(s.jsx)(ce.a,{name:o,className:"".concat(a,"-icon")})}),Object(s.jsx)("p",{children:c})]})},a):null}))})]})]})}}]),n}(j.PureComponent)
y()(pe,"propTypes",{simulatorType:w.a.string,isInspect:w.a.bool,isShowOutsideArtboardNav:w.a.bool,dispatch:w.a.func})
var fe=G.a.div.withConfig({displayName:"styles__StyledSettingList",componentId:"sc-70uy5f-0"
})(["pointer-events:auto;position:absolute;top:16px;left:16px;.nav-button{width:32px;height:36px;display:flex;justify-content:center;align-items:center;background:",";cursor:pointer;transition:background-color 0.2s ease-out;.svg-icon{color:",";}&:not(.disabled):not(.active):hover{background-color:",";}&.active{background:",";.svg-icon{color:#fff;}}&.disabled{opacity:0.4;cursor:not-allowed;}}.wrapper{background:",";box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);.nav{&:first-child{border-radius:2px 2px 0 0;}&:last-child{border-radius:0 0 2px 2px;}}.wrapper-padding{width:20px;height:1px;background:#dbdbdb;margin:4px 6px;}}.wrapper-top{margin-bottom:8px;border-radius:2px;}.shell-ellipsis{height:18px;display:flex;justify-content:center;align-items:center;pointer-events:none;.svg-icon{color:#5b6b73;}}.shell-button{box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),0 12px 40px 0 rgba(39,54,78,0.1);border-radius:2px;}"],(function(e){
return e.theme.common.bg.menu_bg}),(function(e){return e.theme.common.icon_15.cr}),(function(e){return e.theme.preview.mainContent.settingList.bg_hover}),(function(e){return e.theme.preview.mainContent.settingList.bg_active}),(function(e){return e.theme.common.bg.menu_bg})),he=n(373),me=n(91),ge=n.n(me),be=n(82),ve=Object(be.transformCache)((function(){return{"zh-CN":{android:{customize:I18N.pMainContent.customize},web:{desktop:I18N.pMainContent.desktop,smart_tv:I18N.pMainContent.smart_tv},smart_car:{
car_play:I18N.pMainContent.car_play},customize:{customize:I18N.pMainContent.customize}},en:{android:{customize:"Customize"}}}})),ye={name:"customize"},xe=function(e){var t=e.device,n=e.model,r="en"===window.MBLocale?"en":"zh-CN",i=ge()(he,[t,n],ye)
return ge()(ve(),[r,t,n],i.name)},we=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleToggleHighlight",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!e.props.isHighlight}})})),y()(f()(e),"handleToggleStatePanel",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!e.props.isStatePanelShow}})})),y()(f()(e),"handleToggleSticky",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-sticky-show",payload:{
isStickyShow:!e.props.isStickyShow}})})),y()(f()(e),"handleToggleShellType",(function(t){var n=e.props,r=!n.isShowShell;(0,n.dispatch)({type:"entry:preview-setting:update:show:shell",payload:{isShowShell:r}}),MB.event("zhuge","shell_button",{to:r?"on":"off"})})),e}return d()(n,[{key:"render",value:function(){
var e=this.props,t=e.project,n=e.isHighlight,r=e.isStatePanelShow,i=e.isStickyShow,o=e.isPreview,a=e.isInspect,c=e.isComment,l=e.isFullScreenMode,u=e.isShowOutsideArtboardNav,d=e.isShowShell,p=e.simulatorType,f=e.isVersionEmbedded,h=e.dispatch
if(c||l)return null
var m="device"===p
return Object(s.jsxs)(fe,{id:"preview-setting-list",children:[Object(s.jsx)(le.a,{content:I18N.pMainContent.statePanel,direction:"right",children:Object(s.jsx)("a",{className:_()("nav","nav-button","wrapper","wrapper-top",{active:r}),onClick:this.handleToggleStatePanel,children:Object(s.jsx)(ce.a,{name:"design/state",style:{width:19,height:19}})})}),!f&&Object(s.jsxs)("div",{className:"wrapper",children:[o&&Object(s.jsx)(le.a,{content:I18N.pMainContent.highlight_clickable,direction:"right",
children:Object(s.jsx)("a",{className:_()("nav","nav-button",{active:n}),onClick:this.handleToggleHighlight,children:Object(s.jsx)(ce.a,{name:"design/preview/highlight",style:{width:11,height:16}})})}),(o||a)&&Object(s.jsx)(le.a,{content:I18N.pMainContent.sticky_visible,direction:"right",children:Object(s.jsx)("a",{className:_()("nav","nav-button",{active:i}),onClick:this.handleToggleSticky,children:Object(s.jsx)(ce.a,{name:"design/preview/sticky",style:{width:14,height:16}})})}),Object(s.jsx)("div",{
className:"wrapper-padding"}),Object(s.jsx)(pe,{isInspect:a,simulatorType:p,isShowOutsideArtboardNav:u,dispatch:h})]}),m&&Object(s.jsx)("div",{className:"shell-ellipsis",children:Object(s.jsx)(ce.a,{name:"preview/shell/ellipsis",style:{width:4,height:10}})}),m&&Object(s.jsx)(le.a,{content:d?"".concat(xe(t)):I18N.pMainContent.hide_border,direction:"right",children:Object(s.jsx)("a",{className:_()("nav","shell-button","nav-button",{active:d}),onClick:this.handleToggleShellType,children:d?Object(s.jsx)(ce.a,{
name:"preview/shell/open",style:{width:12,height:18}}):Object(s.jsx)(ce.a,{name:"preview/shell/close",style:{width:16,height:18}})})})]})}}]),n}(j.PureComponent)
y()(we,"propTypes",{isHighlight:w.a.bool,isStatePanelShow:w.a.bool,isPreview:w.a.bool,isInspect:w.a.bool,isComment:w.a.bool,isFullScreenMode:w.a.bool,isStickyShow:w.a.bool,isShowOutsideArtboardNav:w.a.bool,isVersionEmbedded:w.a.bool,simulatorType:w.a.string,project:w.a.object,isShowShell:w.a.bool,dispatch:w.a.func})
var je=Object(i.createSelector)([o.c,o.n,o.x,o.w,o.b,o.m,o.M,function(e){return e.container.previewSetting.isShowOutsideArtboardNav},o.z,o.v],(function(e,t,n,r,i,o,s,c,l,u){return{project:e,isHighlight:t,isStickyShow:n,isStatePanelShow:r,isPreview:a.c===i,isInspect:a.b===i,isComment:a.a===i,isFullScreenMode:o,simulatorType:s,isShowOutsideArtboardNav:c,isVersionEmbedded:l,isShowShell:u}})),Se=Object(r.connect)((function(e){return je(e)}))(we),_e=n(48),Ce=n(282),Oe=G()(Ce.a).withConfig({
displayName:"styles__StyledStatePanel",componentId:"jnaiga-0"})(["position:absolute;top:16px;left:60px;width:220px;height:196px;display:flex;flex-direction:column;pointer-events:auto;&.is-open-by-modal{left:16px;& > header{.svg-icon{display:none;}}}& > header{border-bottom:1px solid ",";padding-left:10px;padding-right:16px;height:36px;.title{max-width:160px;",";}p{font-weight:600;}.svg-icon{color:",";cursor:pointer;&:hover{color:",";}}}& > div{flex:1;overflow-x:hidden;overflow-y:auto;}"],(function(e){
return e.theme.common.divider.divider_1}),_e.e,(function(e){return e.theme.common.icon_13.cr}),(function(e){return e.theme.common.icon_13.hover})),ke=G.a.li.withConfig({displayName:"styles__StyledStateItem",componentId:"jnaiga-1"})(["",";",";.actions{padding:0 10px;}"],_e.c,_e.e),Ee=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleActivate",(function(t){var n=e.props,r=n.screenCid;(0,n.dispatch)({type:"entry:runner:activate:screen-state",payload:{screenCid:r,stateCid:t.cid}})})),y()(f()(e),"handleCloseStatePanel",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})})),e}return d()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOpenByModal,r=t.screenMeta,i=t.screenStateCid,o=t.screenStateList
return Object(s.jsxs)(Oe,{className:_()({"is-open-by-modal":n}),children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("p",{className:"title",children:"".concat(r.name," - ").concat(I18N.pMainContent.screenstate)}),Object(s.jsx)(ce.a,{className:"times-icon",name:"times",onClick:this.handleCloseStatePanel})]}),Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:o.map((function(t){return Object(s.jsx)(Me,{screenState:t,isActive:t.cid===i,onClick:e.handleActivate},t.cid)}))})})]})}}]),n
}(j.PureComponent)
y()(Ee,"propTypes",{isOpenByModal:w.a.bool,screenCid:w.a.string,screenMeta:w.a.object,screenStateCid:w.a.string,screenStateList:w.a.array,dispatch:w.a.func})
var Me=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleClick",(function(){var t=e.props,n=t.screenState,r=t.isActive,i=t.onClick
r||i(n)})),e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.screenState,n=e.isActive
return Object(s.jsx)(ke,{className:_()({"is-active":n}),onClick:this.handleClick,children:t.name})}}]),n}(j.PureComponent)
y()(Me,"propTypes",{screenState:w.a.object,isActive:w.a.bool,onClick:w.a.func})
var Te=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleActivate",(function(t){(0,e.props.dispatch)({type:"entry:runner:activate:screen",payload:{screenCid:t.cid}})})),y()(f()(e),"handleCloseStatePanel",(function(){e.props.dispatch({type:"entry:preview-setting:update:is-statePanel-show",payload:{isStatePanelShow:!1}})})),e}return d()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOpenByModal,r=t.screenMeta,i=t.screenCid,o=t.screenStateList
return Object(s.jsxs)(Oe,{className:_()({"is-open-by-modal":n}),children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("p",{className:"title",children:"".concat(r.name," - ").concat(I18N.pMainContent.screenstate)}),Object(s.jsx)(ce.a,{className:"times-icon",name:"times",onClick:this.handleCloseStatePanel})]}),Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:o.map((function(t){return Object(s.jsx)(De,{screenState:t,isActive:t.cid===i,onClick:e.handleActivate},t.cid)}))})})]})}}]),n
}(j.PureComponent)
y()(Te,"propTypes",{isOpenByModal:w.a.bool,screenCid:w.a.string,screenMeta:w.a.object,screenStateList:w.a.array,dispatch:w.a.func})
var De=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleClick",(function(){var t=e.props,n=t.screenState,r=t.isActive,i=t.onClick
r||i(n)})),e}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.screenState,n=e.isActive
return Object(s.jsx)(ke,{className:_()({"is-active":n}),onClick:this.handleClick,children:t.name})}}]),n}(j.PureComponent)
y()(De,"propTypes",{screenState:w.a.object,isActive:w.a.bool,onClick:w.a.func})
var Ae=n(29),Ne=function(e){m()(n,e)
var t=b()(n)
function n(){return l()(this,n),t.apply(this,arguments)}return d()(n,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.isOpenByModal,r=e.screenMeta,i=e.screenStateCid,o=e.isBaseOnState,a=e.dataMap,c=e.screenCid,l=e.screenGlue,u=e.dispatch
if(!t)return null
var d=o?Object.values(a).sort((function(e,t){return e.position-t.position})):Object(Ae.k)(l.project_meta_cid,l.cid)
return Object(s.jsx)(s.Fragment,{children:o?Object(s.jsx)(Ee,{isOpenByModal:n,screenStateList:d,screenMeta:r,screenStateCid:i,screenCid:c,dispatch:u}):Object(s.jsx)(Te,{isOpenByModal:n,screenStateList:d,screenMeta:r,screenCid:c,dispatch:u})})}}]),n}(j.PureComponent)
y()(Ne,"propTypes",{isShow:w.a.bool,isBaseOnState:w.a.bool,isOpenByModal:w.a.bool,screenCid:w.a.string,screenStateCid:w.a.string,screenMeta:w.a.object,dataMap:w.a.object,screenGlue:w.a.object,dispatch:w.a.func})
var Pe=Object(i.createSelector)([o.r,o.h,o.w,o.J,o.b,o.m],(function(e,t,n,r,i,o){var s=!e,c=r.activeCid,l=r.screenInfoMap[c]
if(!l)return{isShow:!1}
var u=l.screenMeta,d=l.stateCid,p=l.screenRuntimeState.dataMap,f=t.multi_states||"project-main"===t.type,h=i===a.a
return{isShow:s||!h&&!o&&n,isOpenByModal:s,screenMeta:u,screenCid:c,screenStateCid:d,dataMap:p,isBaseOnState:f,screenGlue:t}})),Ie=Object(r.connect)((function(e){return Pe(e)}))(Ne),Le=G.a.div.withConfig({displayName:"styles__StyledMainContent",componentId:"sbetgc-0"})(["flex:1;position:relative;width:100%;height:100%;pointer-events:none;"]),Be=G.a.div.withConfig({displayName:"styles__StyledResetButton",componentId:"sbetgc-1"
})(["position:absolute;top:38px;right:0;min-width:92px;padding:0 8px;height:28px;margin-right:27px;font-size:12px;white-space:nowrap;background:",";border-radius:2px;cursor:pointer;box-shadow:0 2px 5px 0 rgba(39,54,78,0.08);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:opacity 0.2s ease-in-out;color:",";&:hover{background:",";color:",";}&.is-show{pointer-events:auto;opacity:1;}"],(function(e){return e.theme.common.bg.bg_4}),(function(e){
return e.theme.preview.mainContent.resetBtn.tc}),(function(e){return e.theme.preview.mainContent.resetBtn.bg_hover}),(function(e){return e.theme.preview.mainContent.resetBtn.tc_hover})),Fe=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"handleResize",(function(){var t=document.querySelector("#preview_scrollBar_viewport").getBoundingClientRect(),n=t.width,r=t.height
e.props.dispatch({type:"preview:scrollbar:viewport",payload:{width:n,height:r}})})),y()(f()(e),"handleBackToOrigin",(function(){e.props.dispatch({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}})})),e}return d()(n,[{key:"componentDidMount",value:function(){this.handleResize()}},{key:"render",value:function(){var e=this.props,t=e.isLayerActive,n=e.isDisplaced,r=e.isProjectMain
return Object(s.jsxs)(Le,{id:"preview_scrollBar_viewport",children:[t&&Object(s.jsx)(ne,{}),Object(s.jsx)(Be,{className:_()({"is-show":n}),onClick:this.handleBackToOrigin,children:I18N.pMainContent.click_to_origin}),Object(s.jsx)(Ie,{}),r&&Object(s.jsx)(Se,{}),Object(s.jsx)(se,{}),Object(s.jsx)(C.a,{onResize:this.handleResize})]})}}]),n}(j.PureComponent)
y()(Fe,"propTypes",{isLayerActive:w.a.bool,isDisplaced:w.a.bool,isProjectMain:w.a.bool,dispatch:w.a.func})
var Re=Object(i.createSelector)([o.b,function(e){return e.container.common.offset},o.r],(function(e,t,n){var r=Boolean(t.x||t.y)
return{isLayerActive:e===a.b,isDisplaced:r,isProjectMain:n}}))
t.a=Object(r.connect)((function(e){return Re(e)}))(Fe)},function(e,t,n){"use strict"
var r=n(21),i=n(16),o=n(0),a=n(11),s=n.n(a),c=n(14),l=n.n(c),u=n(7),d=n.n(u),p=n(6),f=n.n(p),h=n(3),m=n.n(h),g=n(8),b=n.n(g),v=n(9),y=n.n(v),x=n(2),w=n.n(x),j=n(1),S=n.n(j),_=n(5),C=n(38),O=n.n(C),k=n(10),E=n.n(k),M=n(48),T=E.a.div.withConfig({displayName:"styles__StyledScreenName",componentId:"ma5tgy-0"
})(["&{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:50px;width:258px;border-radius:25px;background:rgba(31,41,46,0.5);font-size:16px;z-index:2;display:flex;justify-content:center;align-items:center;color:#fff;opacity:0;transition:opacity 0.5s ease-in-out;pointer-events:none;}span.dot{position:static;width:5px;height:5px;background:#fff;margin:10px;border-radius:50%;}div.screen-name{",";max-width:120px;}&.show{opacity:1;}"],M.e),D=n(13),A=n.n(D),N=function(e){b()(n,e)
var t=y()(n)
function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){var e,t=this.props,n=t.screen,r=t.screenMetaList,i=t.shouldTextShow,a=t.reachFirstScreen,s=t.reachLastScreen,c=r.findIndex((function(e){return e.cid===n.cid}))
return e=a?I18N.pFullScreen.firstScreen:s?I18N.pFullScreen.lastScreen:"".concat(c+1," / ").concat(r.length),Object(o.jsxs)(T,{className:A()("screen-info",{show:i}),children:[Object(o.jsx)("div",{children:e}),Object(o.jsx)("span",{className:"dot"}),Object(o.jsx)("div",{className:"screen-name",children:n.name})]})}}]),n}(_.PureComponent)
w()(N,"propTypes",{screen:S.a.object,screenMetaList:S.a.array,shouldTextShow:S.a.bool,reachFirstScreen:S.a.bool,reachLastScreen:S.a.bool})
var P=n(55),I=n.n(P),L=Object(k.keyframes)(["from{opacity:0;}to{opacity:1;}"]),B=Object(k.css)(["top:calc(50% - 106px);background:",";border-radius:50%;width:218px;height:218px;transition:left 0.3s ease-in-out,right 0.3s ease-in-out,background 0.5s ease-in-out;animation:"," 0.3s ease-in-out;z-index:1;& svg{position:absolute;top:50%;transform:translateY(-50%);font-size:18px;& > *{fill:",";}}&:hover{background:",";}&:active{& svg{fill:",";}}"],(function(e){return e.theme.preview.fullAction.navigation.btn_bg
}),L,(function(e){return e.theme.preview.fullAction.navigation.svg}),(function(e){return e.theme.preview.fullAction.navigation.btn_bg_hover}),(function(e){return e.theme.preview.fullAction.navigation.svg_active})),F=E.a.div.withConfig({displayName:"styles__StyledNavigationButton",componentId:"sc-1bii9g-0"
})(["position:relative;width:100%;height:100%;.last-screen{position:absolute;left:-186px;",";& svg{right:32px;}&:hover{left:-146px;}}.next-screen{position:absolute;right:-186px;",";& svg{left:32px;}&:hover{right:-146px;}}"],B,B),R=function(e){b()(n,e)
var t=y()(n)
function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){return Object(o.jsxs)(F,{children:[Object(o.jsx)("span",{className:"last-screen","data-action":"last",onClick:this.props.onClick,children:Object(o.jsx)(I.a,{className:"left-arrow",name:"angle_bracket_left"})}),Object(o.jsx)("span",{className:"navigation-button next-screen","data-action":"next",onClick:this.props.onClick,children:Object(o.jsx)(I.a,{className:"right-arrow",name:"angle_bracket_right"})})]})}
}]),n}(_.PureComponent)
w()(R,"propTypes",{onClick:S.a.func})
var z=n(204),U=n(15),H=Object(k.keyframes)(["0%{top:-45px;opacity:0;}100%{top:10px;opacity:1;}"]),G=Object(k.css)(["position:relative;display:inline-block;cursor:pointer;width:35px;height:35px;border-radius:20px;box-shadow:0 2px 3px 0 rgba(65,80,88,0.40);background:",";transition:width 0.3s ease-in-out,background 0.5s ease-in-out;z-index:1;&:hover{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#415058;}}&:active{box-shadow:0 4px 8px 0 rgba(65,80,88,0.16);& svg{fill:#8d9ea7;}}"],(function(e){
return e.theme.common.bg.bg_4})),V=E.a.div.withConfig({displayName:"styles__StyledExitAndModeButton",componentId:"x8osrj-0"
})(["&{position:absolute;right:20px;top:10px;transition:all 0.5s ease-in-out;animation:"," 0.5s ease-in-out;display:flex;.mode{",";display:flex;align-items:center;justify-content:center;svg{width:16px;height:16px;color:",";}span{display:inline-block;width:18px;height:18px;border-radius:50%;position:absolute;top:calc(50% - 9px);opacity:0;transition:opacity 0.5s ease-in-out;}span.light{left:9px;border:1px solid ",";background:",";opacity:0;transition:opacity 0.5s ease-in-out;}span.dark{right:9px;background:",";opacity:0;transition:opacity 0.5s ease-in-out;}&:hover{width:68px;svg{opacity:0;}span{opacity:1;}}}.exit-full-screen{",";margin-left:10px;display:flex;justify-content:center;align-items:center;svg{width:16px;height:16px;color:",";}&:hover{svg{color:",";}}&:active{svg{color:",";}}}}"],H,G,(function(e){
return e.theme.preview.fullAction.exitAndMode.svg}),(function(e){return e.theme.preview.fullAction.exitAndMode.full_screen_border}),(function(e){return e.theme.preview.fullAction.exitAndMode.ligh_bg}),(function(e){return e.theme.preview.fullAction.exitAndMode.dark_bg}),G,(function(e){return e.theme.preview.fullAction.exitAndMode.svg}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_hover}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_active})),W=function(e){b()(n,e)
var t=y()(n)
function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"render",value:function(){return Object(o.jsxs)(V,{className:"top-right-action",children:[Object(o.jsxs)("div",{className:"mode",children:[Object(o.jsx)(U.a,{name:"design/preview/daynight"}),Object(o.jsx)("span",{className:"light","data-mode":"light",onClick:this.props.onClickMode}),Object(o.jsx)("span",{className:"dark","data-mode":"dark",onClick:this.props.onClickMode})]}),Object(o.jsx)("div",{className:"exit-full-screen",
onClick:this.props.onClickExit,children:Object(o.jsx)(U.a,{name:"design/preview/exit"})})]})}}]),n}(_.PureComponent)
w()(W,"propTypes",{onClickMode:S.a.func,onClickExit:S.a.func})
var Y=n(120),Z=E.a.div.withConfig({displayName:"styles__StyledFullScreenActions",componentId:"sc-1jpz0gq-0"
})(["&{position:absolute;bottom:0;top:0;left:0;right:0;transition:all 0.5s ease-in-out;.zoom-wrapper{position:absolute;left:260px;height:56px;z-index:1;font-size:14px;&.is-Iniframe{left:20px;}a:not([disabled]) svg{fill:#8d9ea7;&:hover{fill:currentColor;}}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;}}&.dark-mode{background:",";.top-right-action{.mode{background:",";&:hover{span.light{border:none;}span.dark{border:1px solid #0095FF;}}}.exit-full-screen{background:",";svg{color:#7d8694;&:hover{fill:#1f292e;}&:active{fill:#8d9ea7;}}}}.last-screen,.next-screen{background:#2c383e;& svg{fill:#8d9ea7;}&:hover{background:#3a4850;}&:active{& svg{fill:#1f292e;}}}.zoom-wrapper{a{&:not([disabled]){svg{fill:#8D9EA7;}&:hover svg{fill:#7d8694;}}&[disabled] svg{fill:#415058;}}}}}@media only screen and (max-width:985px){&{.zoom-wrapper{left:168px;}}}"],(function(e){
return e.theme.preview.fullAction.exitAndMode.dark_bg}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_hover}),(function(e){return e.theme.preview.fullAction.exitAndMode.svg_hover})),q=n(40),X=function(e){b()(n,e)
var t=y()(n)
function n(e){var r
return d()(this,n),r=t.call(this,e),w()(m()(r),"setMode",(function(e){var t=r.state.isDarkMode,n=e.target.dataset.mode
"light"===n&&t&&r.setState({isDarkMode:!1}),"dark"!==n||t||(MB.event("preview","工具栏: 全屏模式暗色背景"),r.setState({isDarkMode:!0}))})),w()(m()(r),"handleKeyDown",(function(e){37===e.keyCode&&r.goToScreenByStep(-1),39===e.keyCode&&r.goToScreenByStep(1)})),w()(m()(r),"handleNavigate",(function(e){var t=e.currentTarget.dataset.action
"last"===t?(MB.event("*","运行页-预览-全屏模式-点击上一页"),r.goToScreenByStep(-1)):"next"===t&&(MB.event("*","运行页-预览-全屏模式-点击下一页"),r.goToScreenByStep(1))})),w()(m()(r),"handleExitFullScreen",l()(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(MB.event("preview","工具栏: 全屏模式关闭"),!Y.a.isFullscreen){e.next=4
break}return e.next=4,Y.a.exit()
case 4:case"end":return e.stop()}}),e)})))),w()(m()(r),"goToScreenByStep",(function(e){var t=r.props,n=t.screen,i=t.screenMetaList,o=t.dispatch,a=n.cid,s=i.findIndex((function(e){return e.cid===a}))+e
if(s<0)r.setState({shouldTextShow:!0,reachFirstScreen:!0})
else if(s>i.length-1)r.setState({shouldTextShow:!0,reachLastScreen:!0})
else{o({type:"entry:sync-runner:set-screen",payload:{cid:i[s].cid}}),o({type:"preview:set:canvas:offset",payload:{offset:{x:0,y:0}}}),r.setState({shouldTextShow:!0,reachFirstScreen:!1,reachLastScreen:!1})}})),r.state={isDarkMode:!1,shouldTextShow:!1,reachFirstScreen:!1,reachLastScreen:!1},r}return f()(n,[{key:"componentDidUpdate",value:function(e){var t=this
if(this.state.shouldTextShow&&(clearTimeout(this.timer),this.timer=setTimeout((function(){return t.setState({shouldTextShow:!1})}),1500)),this.props.screen!==e.screen){var n=this.props,r=n.screen,i=n.screenMetaList,o=r.cid,a=i.findIndex((function(e){return e.cid===o}))
0!==a&&this.setState({reachFirstScreen:!1}),a!==i.length-1&&this.setState({reachLastScreen:!1})}}},{key:"render",value:function(){var e=this.props,t=e.screen,n=e.screenMetaList,r=this.state,i=r.isDarkMode,a=r.shouldTextShow,s=r.reachFirstScreen,c=r.reachLastScreen
return Object(o.jsxs)(Z,{className:A()("full-screen-actions",{"dark-mode":i}),children:[Object(o.jsx)("div",{className:A()("zoom-wrapper",{"is-Iniframe":Object(q.l)()||Object(q.f)()}),children:Object(o.jsx)(z.a,{})}),Object(o.jsx)(W,{onClickMode:this.setMode,onClickExit:this.handleExitFullScreen}),Object(o.jsx)(N,{screen:t,screenMetaList:n,shouldTextShow:a,reachFirstScreen:s,reachLastScreen:c}),Object(o.jsx)(R,{onClick:this.handleNavigate}),Object(o.jsx)(O.a,{target:document,onKeyDown:this.handleKeyDown})]
})}}]),n}(_.PureComponent)
w()(X,"propTypes",{screen:S.a.object,screenMetaList:S.a.array,dispatch:S.a.func})
t.a=Object(r.connect)((function(e){return{screen:Object(i.g)(e),screenMetaList:Object(i.G)(e)}}))(X)},function(e,t,n){"use strict"
var r=n(21),i=n(20),o=n(16),a=n(53),s=n(41),c=n(0),l=n(7),u=n.n(l),d=n(6),p=n.n(d),f=n(3),h=n.n(f),m=n(8),g=n.n(m),b=n(9),v=n.n(b),y=n(2),x=n.n(y),w=n(1),j=n.n(w),S=n(5),_=n.n(S),C=n(254),O=n(251),k=n(95),E=n(252),M=n(10),T=n.n(M).a.div.withConfig({displayName:"styles__StyledRightPane",componentId:"sc-1bbu5lg-0"
})(["position:relative;height:100%;transition:all 0.3s ease-in-out;z-index:100;.preview-panel-wrapper{position:absolute;top:0;left:0;height:100%;}&:hover{.toggle-minimized-button{&:not(.is-minimized){opacity:1;pointer-events:auto;}}}&.is-fullscreen-mode{opacity:0;pointer-events:none;}"]),D=function(e){g()(n,e)
var t=v()(n)
function n(){var e
u()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),x()(h()(e),"toggleMinimized",(function(t){var n=e.props
n.toolbarActiveItem;(0,n.dispatch)({type:"entry:preview-setting:toggle:isMinimized"})})),e}return p()(n,[{key:"render",value:function(){var e=this.props,t=e.isLayerPanelShow,n=e.isCommentPanelShow,r=e.isScreenPanelShow,i=e.isFullScreenMode,o=e.isMinimized
if(!(t||n||r))return null
var a=r?240:260
return Object(c.jsxs)(T,{id:"mb-preview-rightpane",className:i?"is-fullscreen-mode":"",style:{width:o?0:a},children:[r&&Object(c.jsxs)(_.a.Fragment,{children:[Object(c.jsx)("div",{className:"preview-panel-wrapper",children:Object(c.jsx)(O.a,{})}),Object(c.jsx)(C.a,{placement:"left",isMinimized:o,onClick:this.toggleMinimized})]}),t&&Object(c.jsx)(E.a,{}),n&&Object(c.jsx)(k.a,{})]})}}]),n}(S.PureComponent)
x()(D,"propTypes",{toolbarActiveItem:j.a.string,isScreenPanelShow:j.a.bool,isLayerPanelShow:j.a.bool,isCommentPanelShow:j.a.bool,isFullScreenMode:j.a.bool,isMinimized:j.a.bool,dispatch:j.a.func})
var A=Object(i.createSelector)([o.A,o.b,o.r,o.m,o.p],(function(e,t,n,r,i){return{toolbarActiveItem:t,isScreenPanelShow:e===s.b&&n,isLayerPanelShow:e!==s.b&&t===a.b,isCommentPanelShow:e!==s.b&&t===a.a,isFullScreenMode:r,isMinimized:i}}))
t.a=Object(r.connect)((function(e){return A(e)}))(D)},function(e,t,n){"use strict"
n.d(t,"a",(function(){return P}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(5),b=n(1),v=n.n(b),y=n(37),x=n(59),w=n.n(x),j=n(36),S=n.n(j),_=n(45),C=n.n(_),O=n(10),k=n.n(O)
function E(){var e=C()(["\n  .modal-portal {\n    &.is-open {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 1050;\n      width: 100%;\n      height: 100%;\n      overflow-x: hidden;\n      overflow-y: auto;\n    }\n\n    &:not(.is-open) {\n      height: 0;\n      overflow: hidden;\n\n      .modal-mask {\n        background-color: rgba(#000, 0);\n      }\n\n      .modal-mask > div {\n        transform: translateY(-50vh);\n        opacity: 0;\n      }\n    }\n  }\n"])
return E=function(){return e},e}var M=Object(O.createGlobalStyle)(E()),T=k.a.div.withConfig({displayName:"styles__StyledModal",componentId:"w9grjr-0"
})(["&.modal-mask{&{display:flex;padding:50px 0;width:100vw;min-height:100vh;background-color:rgba(0,0,0,0.4);color:#5b6b73;transition:background-color 0.2s ease-in;}&.can-close{cursor:pointer;}}.alert-modal,.functional-modal,.display-modal{position:relative;margin:calc(20vh - 50px) auto auto;min-height:150px;transform:translateY(0);font-size:14px;background-color:#fff;box-shadow:0 2px 8px 0 rgba(#000,0.1);border-radius:1px;color:#1f292e;cursor:initial;transition:transform 0.2s ease-out,opacity 0.1s ease-out;&.is-posi-centered{margin:auto;}header{position:relative;display:flex;align-items:center;padding:0 20px;height:55px;font-size:14px;line-height:1.5;border-bottom:1px solid #E5E5E5;color:#415058;}.close-btn{position:absolute;top:50%;right:0;padding:0 20px;width:54px;height:100%;transform:translateY(-50%);font-size:14px;line-height:1;color:#8d9ea6;&:hover{color:#5b6b73;}}.content{padding:30px 20px 35px;}[type='select']{& > div{padding-left:0;}}.content > [type='select']{height:34px;border:0;border-bottom:1px solid #d7d7d7;transition:all 0.2s ease-out;li[value],li > div{height:auto;line-height:34px;}}input[type='number']{text-align:center;padding:0 0 0 1em !important;}input::placeholder{color:#8d9ea6;}a.important{color:#eb5648;}footer{display:flex;justify-content:flex-end;align-items:center;padding:0 20px;height:55px;line-height:1;border-top:1px solid #E5E5E5;}.confirm-btn,.done-btn{font-weight:bold;color:#eb5648;&:not([disabled]):hover{color:color(#eb5648,shade(20%));}}.confirm-btn,.done-btn,.cancel-btn{margin-left:1.5em;min-width:2em;height:34px;color:#8d9ea6;transition:color ease-in-out 0.1s;&[disabled]{opacity:0.5;cursor:not-allowed;}&:not([disabled]):hover{color:#5b6b73;}}}.alert-modal{display:flex;flex-direction:column;width:380px;line-height:1.5;.form-entry{&:last-child{margin-bottom:-0.5em;}& > .key{flex-basis:7em;}& > .val{max-width:calc(100% - 7em);}}[type=\"select\"]{display:block;& > div{display:flex;}& > div > .icon{margin-left:auto;}}p.desc + p.desc{margin-top:1em;}.quote{display:inline-flex;align-items:baseline;& > *{max-width:5em !important;font-weight:bold;}&:lang(en)::before{content:'“';}&:lang(en)::after{content:'”';}&.question:lang(en)::after{content:'”?';}&.comma:lang(en)::after{content:'”,';}&:lang(zh)::before{content:'「';}&:lang(zh)::after{content:'」';}}}.functional-modal{width:500px;}.display-modal{width:640px;}"]),D=[],A=Object.assign(document.createElement("div"),{
className:"modal-portal"}),N=function(e){return e.stopPropagation()},P=function(e){d()(n,e)
var t=f()(n)
function n(){var e
o()(this,n)
for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),m()(l()(e),"onOpen",(function(){D.unshift(l()(e)),setTimeout((function(){return e.portal.classList.add("is-open")}),50),e.focusOnConfirmBtn(),e.reassignPosiY()})),m()(l()(e),"onClose",(function(){var t=D.indexOf(l()(e))
setTimeout((function(){return D.splice(t,1)})),setTimeout((function(){return e.portal.classList.remove("is-open")}),50),setTimeout((function(){return Object(y.render)(Object(r.jsx)("div",{}),e.portal)}),500)})),m()(l()(e),"focusOnConfirmBtn",(function(){return setTimeout((function(){var t=e.portal.querySelector("footer .confirm-btn")
t&&t.focus()}),50)})),m()(l()(e),"listenToKey",(function(t){var n=t.key,r=t.target,i=e.props,o=i.isOpen,a=i.canCloseOnEsc,s=i.onClose,c=i.canConfirmOnEnter,u=i.onConfirm,d=i.isOnConfirmDisabled
"Escape"===n&&!r.matches("input, textarea, [type=select]")&&o&&a&&s&&l()(e)===D[0]&&s(),"Enter"===n&&!r.matches("textarea")&&o&&c&&u&&!d&&l()(e)===D[0]&&u()})),m()(l()(e),"reassignPosiY",(function(){return setTimeout((function(){var t=e.props.type,n=e.portal.querySelector(".modal-mask > div")
if(n&&"alert"!==t){var r=window.innerHeight,i=n.offsetHeight,o=r<=i||(r-i)/2<.2*r?"add":"remove"
n.classList[o]("is-posi-centered")}}),50)})),m()(l()(e),"renderRealModal",(function(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=t.type,i=t.title,o=t.className,a=t.maskClassName,s=t.children,c=t.onClose,l=t.canCloseOnClickMask,u=t.onConfirm,d=t.confirmText,p=void 0===d?I18N.Common.confirm:d,f=t.isOnConfirmDisabled,h=t.onCancel,m=t.cancelText,g=void 0===m?I18N.Common.cancel:m,b=t.isOnCancelDisabled,v=t.onDone,x=t.doneText,w=void 0===x?I18N.Common.done:x,j=t.isOnDoneDisabled,_="alert"===n||h||u||v,C=Object(r.jsxs)(T,{
className:"modal-mask ".concat(a," ").concat(l?"can-close":""),onClick:l?c:null,children:[Object(r.jsxs)("div",{className:"".concat(n,"-modal ").concat(o),onClick:N,children:[Object(r.jsxs)("header",{children:[i,c&&Object(r.jsx)("button",{className:"close-btn",onClick:c,children:Object(r.jsx)(S.a,{name:"times"})})]}),Object(r.jsx)("div",{className:"content",children:s}),_&&Object(r.jsxs)("footer",{children:[h&&Object(r.jsx)("button",{className:"cancel-btn",onClick:h,disabled:b,children:g
}),u&&Object(r.jsx)("button",{className:"confirm-btn",onClick:u,disabled:f,children:p}),v&&Object(r.jsx)("button",{className:"done-btn",onClick:v,disabled:j,children:w})]})]}),Object(r.jsx)(M,{})]})
Object(y.render)(C,e.portal)})),e}return s()(n,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.portalClassName
Object.assign(this,{portal:A.cloneNode()}),document.body.appendChild(this.portal),this.portal.className+=" ".concat(n),window.addEventListener("resize",this.reassignPosiY),document.addEventListener("keydown",this.listenToKey),t&&(this.renderRealModal(),this.onOpen())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){w()(this.props,e)||this.renderRealModal(e)
var t=e.isOpen,n=this.props.isOpen
!n&&t?this.onOpen():n&&!t&&this.onClose()}},{key:"componentWillUnmount",value:function(){Object(y.unmountComponentAtNode)(this.portal),this.portal&&this.portal.remove(),document.removeEventListener("keydown",this.listenToKey),window.removeEventListener("resize",this.reassignPosiY)}}]),n}(g.PureComponent)
m()(P,"propTypes",{isOpen:v.a.bool,type:v.a.oneOf(["alert","functional","display"]),title:v.a.any,className:v.a.string,maskClassName:v.a.string,portalClassName:v.a.string,children:v.a.any,onClose:v.a.func,canCloseOnClickMask:v.a.bool,canCloseOnEsc:v.a.bool,canConfirmOnEnter:v.a.bool,onConfirm:v.a.func,confirmText:v.a.string,isOnConfirmDisabled:v.a.bool,onCancel:v.a.func,isOnCancelDisabled:v.a.bool,cancelText:v.a.string,onDone:v.a.func,isOnDoneDisabled:v.a.bool,doneText:v.a.string}),m()(P,"defaultProps",{
isOpen:!1,type:"functional",className:"",maskClassName:"",portalClassName:"",onClose:function(){return null},canCloseOnClickMask:!0,canCloseOnEsc:!0,canConfirmOnEnter:!0,isOnConfirmDisabled:!1,isOnCancelDisabled:!1,isOnDoneDisabled:!1})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return O}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(15),x=n(52),w=n(10),j=n.n(w).a.div.withConfig({displayName:"styles__CSSDesignZoomBoxDiv",componentId:"g4prxo-0"
})(["position:relative;width:68px;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;transition:all 0.2s ease-out;.zoom-box{display:flex;align-items:center;line-height:16px;height:16px;font-size:14px;color:",";.zoom-arrow{width:6px;height:4px;margin-left:8px;}}.zoom-tip{margin-top:8px;color:",";height:12px;line-height:12px;font-size:12px;}.zoom-content{position:absolute;padding:4px 0;top:100%;min-width:160px;padding-bottom:4px;font-size:12px;background:",";box-shadow:",";.zoom-input-numer-wrap{height:38px;display:flex;align-items:center;justify-content:center;.zoom-input{width:124px;border-color:",";}}.divider{margin:4px 0;border-top:1px solid ",";}.zoom-item{display:flex;align-items:center;justify-content:space-between;height:32px;padding:0 16px 0 30px;color:",";transition:all 0.2s ease-out;.zoom-text{position:relative;}.kbd-size{white-space:nowrap;margin-left:auto;kbd{color:",";display:inline-block;font-family:inherit;text-align:center;min-width:12px;margin-right:2px;}kbd:first-child{margin-left:0;}kbd:last-child{margin-right:0;}}&:not(.is-disabled):hover{background:",";.zoom-text{color:",";}kbd{color:",";}}&.is-disabled{cursor:not-allowed;color:",";}.zoom-select{position:absolute;left:-22px;top:3px;}}}&:hover{background:",";.zoom-scale{color:",";}}&.mac .others,&.others .mac{display:none;}"],(function(e){
return e.theme.toolbar.zoom_scale.cr}),(function(e){return e.theme.toolbar.text_6.cr}),(function(e){return e.theme.common.menu.panel.bg}),(function(e){return e.theme.common.shadow.shadow_1}),(function(e){return e.theme.toolbar.zoom_scale.dropdown.input}),(function(e){return e.theme.common.divider.divider_2}),(function(e){return e.theme.common.text_1.cr}),(function(e){return e.theme.common.text_11.cr}),(function(e){return e.theme.common.menu.panel.card.hover_bg}),(function(e){
return e.theme.common.text_1.hover}),(function(e){return e.theme.common.text_11.hover}),(function(e){return e.theme.toolbar.item_disabled_text}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.toolbar.zoom_scale.hover})),S=n(13),_=n.n(S),C=n(40),O=function(e){d()(n,e)
var t=f()(n)
function n(){var e
return o()(this,n),e=t.call(this),m()(l()(e),"handleToogleZoomContentShow",(function(){e.setState({isZoomContentShow:!e.state.isZoomContentShow})})),m()(l()(e),"handleZoomSpecifiedScale",(function(t){t.stopPropagation(),(0,e.props.onZoomSpecifiedScale)(t.currentTarget.dataset.value)})),m()(l()(e),"hanldeInputNumberSelect",(function(e){var t=document.querySelector(".design-zoom-input-number")
t&&t.select()})),m()(l()(e),"hanldeZoomIn",(function(t){t.stopPropagation(),(0,e.props.onZoomIn)()})),m()(l()(e),"hanldeZoomOut",(function(t){t.stopPropagation(),(0,e.props.onZoomOut)()})),e.state={isZoomContentShow:!1},e}return s()(n,[{key:"render",value:function(){
var e=this.props,t=e.scale,n=e.showZoomTip,i=e.onZoomInitialScale,o=e.onZoomSpecifiedScale,a=e.onZoomSelection,s=e.isShowZoomSelection,c=this.state.isZoomContentShow,l=MB.config.SCALES.indexOf(t),u=l!==MB.config.SCALES.length-1,d=0!==l,p=MB.config.SCALES[0],f=MB.config.SCALES[MB.config.SCALES.length-1],h=Object(C.i)()?"mac":"others"
return Object(r.jsxs)(j,{className:_()(h),onMouseEnter:this.handleToogleZoomContentShow,onMouseLeave:this.handleToogleZoomContentShow,onClick:this.hanldeInputNumberSelect,children:[Object(r.jsxs)("div",{className:"zoom-box",children:[Object(r.jsx)("p",{className:"zoom-scale",children:Math.round(t)+"%"}),Object(r.jsx)(y.a,{className:"zoom-arrow",name:"design/toolbar/arrow"})]}),n&&Object(r.jsx)("p",{className:"zoom-tip",children:I18N.DesignZoomBox.zoom}),c&&Object(r.jsxs)("div",{className:"zoom-content",
children:[Object(r.jsx)("div",{className:"zoom-input-numer-wrap",children:Object(r.jsx)(x.a,{inputClassName:"design-zoom-input-number",className:"zoom-input",min:p,max:f,precision:0,suffix:"%",actionButton:!1,value:Math.round(t),isSelect:!0,onConfirm:o})}),Object(r.jsx)("div",{className:"divider"}),Object(r.jsxs)("div",{className:_()("zoom-item",{"is-disabled":!u}),onClick:this.hanldeZoomIn,children:[Object(r.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomin}),Object(r.jsx)("div",{
className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomIn}}),Object(r.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomIn}})]}),Object(r.jsxs)("div",{className:_()("zoom-item",{"is-disabled":!d}),onClick:this.hanldeZoomOut,children:[Object(r.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoomout}),Object(r.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomOut}}),Object(r.jsx)("div",{className:"others kbd-size",
dangerouslySetInnerHTML:{__html:k[h].zoomOut}})]}),Object(r.jsx)("div",{className:"divider"}),Object(r.jsx)("div",{className:"zoom-item","data-value":50,onClick:this.handleZoomSpecifiedScale,children:Object(r.jsxs)("p",{className:"zoom-text",children:[50===Math.round(t)&&Object(r.jsx)(y.a,{className:"zoom-select",name:"library/select/new"}),"50%"]})}),Object(r.jsxs)("div",{className:"zoom-item","data-value":100,onClick:this.handleZoomSpecifiedScale,children:[Object(r.jsxs)("p",{className:"zoom-text",
children:[100===Math.round(t)&&Object(r.jsx)(y.a,{className:"zoom-select",name:"library/select/new"}),"100%"]}),Object(r.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomReset}}),Object(r.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomReset}})]}),Object(r.jsx)("div",{className:"zoom-item","data-value":200,onClick:this.handleZoomSpecifiedScale,children:Object(r.jsxs)("p",{className:"zoom-text",children:[200===Math.round(t)&&Object(r.jsx)(y.a,{
className:"zoom-select",name:"library/select/new"}),"200%"]})}),Object(r.jsx)("div",{className:"divider"}),Object(r.jsxs)("div",{className:"zoom-item",onClick:i,children:[Object(r.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.fit_canvas}),Object(r.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomFit}}),Object(r.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomFit}})]}),s&&Object(r.jsxs)("div",{className:"zoom-item",onClick:a,
children:[Object(r.jsx)("p",{className:"zoom-text",children:I18N.DesignZoomBox.zoom_selection}),Object(r.jsx)("div",{className:"mac kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomSelect}}),Object(r.jsx)("div",{className:"others kbd-size",dangerouslySetInnerHTML:{__html:k[h].zoomSelect}})]})]})]})}}]),n}(v.PureComponent)
m()(O,"propTypes",{scale:b.a.number,showZoomTip:b.a.bool,isShowZoomSelection:b.a.bool,onZoomSpecifiedScale:b.a.func,onZoomIn:b.a.func,onZoomOut:b.a.func,onZoomInitialScale:b.a.func,onZoomSelection:b.a.func}),m()(O,"defaultProps",{isShowZoomSelection:!0})
var k={mac:{zoomOut:"<kbd>⌘</kbd><kbd>-</kbd>",zoomIn:"<kbd>⌘</kbd><kbd>+</kbd>",zoomReset:"<kbd>⌘</kbd><kbd>0</kbd>",zoomFit:"<kbd>⌘</kbd><kbd>1</kbd>",zoomSelect:"<kbd>⌘</kbd><kbd>2</kbd>"},others:{zoomOut:"<kbd>Ctrl</kbd><kbd>-</kbd>",zoomIn:"<kbd>Ctrl</kbd><kbd>+</kbd>",zoomReset:"<kbd>Ctrl</kbd><kbd>0</kbd>",zoomFit:"<kbd>Ctrl</kbd><kbd>1</kbd>",zoomSelect:"<kbd>Ctrl</kbd><kbd>2</kbd>"}}},,,,,function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
t.default={disabled:!1}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.classNamesShape=t.timeoutsShape=void 0
r(n(1))
t.timeoutsShape=null
t.classNamesShape=null},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(159)),o=r(n(277)),a=r(n(3)),s=r(n(141)),c=(r(n(1)),r(n(5))),l=r(n(228)),u=n(416),d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},p=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,a.default)(r))
return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,s.default)(t,e)
var n=t.prototype
return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited
return{children:t.firstRender?(0,u.getInitialChildMapping)(e,r):(0,u.getNextChildMapping)(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=(0,u.getChildMapping)(this.props.children)
e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.default)({},t.children)
return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,i.default)(e,["component","childFactory"]),o=this.state.contextValue,a=d(this.state.children).map(n)
return delete r.appear,delete r.enter,delete r.exit,null===t?c.default.createElement(l.default.Provider,{value:o},a):c.default.createElement(l.default.Provider,{value:o},c.default.createElement(t,r,a))},t}(c.default.Component)
p.propTypes={},p.defaultProps={component:"div",childFactory:function(e){return e}}
var f=p
t.default=f},function(e,t,n){"use strict"
var r=n(246),i=n(275),o=Object.prototype.hasOwnProperty
e.exports=function(e,t,n){var a=e[t]
o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){"use strict"
var r=n(335),i=function(){try{var e=r(Object,"defineProperty")
return e({},"",{}),e}catch(e){}}()
e.exports=i},function(e,t,n){"use strict"
var r=n(359),i=n(229),o=n(360),a=n(530),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e)
return t}:a
e.exports=s},function(e,t,n){"use strict"
var r=n(529),i=n(299),o=n(160)
e.exports=function(e){return r(e,o,i)}},function(e,t,n){"use strict"
var r=n(450),i=Math.max
e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),c=Array(s);++a<s;)c[a]=o[t+a]
a=-1
for(var l=Array(t+1);++a<t;)l[a]=o[a]
return l[t]=n(c),r(e,this,l)}}},function(e,t,n){"use strict"
var r=n(451),i=n(453)(r)
e.exports=i},function(e,t,n){"use strict"
var r=n(247),i=n(301),o=n(302)
e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){"use strict"
var r=n(226),i=n(112)
e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSaveChunkWithRetry=void 0
var i=r(n(4)),o=r(n(11)),a=r(n(14)),s=n(137),c=n(195),l=function(){var e=(0,a.default)(o.default.mark((function e(t){var n,r,i,a,l,u,d,p,f,h
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.task,r=t.onError,i=t.timeout,a=t.wait,l=void 0===a?i:a,u=t.retry,d=void 0===u?8:u,p=0
case 2:return f=Date.now(),e.prev=3,e.next=6,(0,c.withTimeoutPromise)(n({attempt:p,timeout:i}),i)
case 6:return e.abrupt("return",e.sent)
case 9:if(e.prev=9,e.t0=e.catch(3),!(p>=d)){e.next=13
break}throw e.t0
case 13:if(h=l-(Date.now()-f),e.t1=h>0,!e.t1){e.next=18
break}return e.next=18,(0,s.setTimeoutAsync)(h)
case 18:if(e.t2=r,!e.t2){e.next=22
break}return e.next=22,r(e.t0,{attempt:p,timeout:i})
case 22:p++
case 23:e.next=2
break
case 25:case"end":return e.stop()}}),e,null,[[3,9]])})))
return function(t){return e.apply(this,arguments)}}()
t.createSaveChunkWithRetry=function(e){var t=e.type,n=void 0===t?"save-chunk":t,r=e.saveChunkAsync,s=e.onSaveChunkErrorAsync,c=e.describeData,u=void 0===c?function(e){return JSON.stringify(e)}:c
return function(){var e=(0,a.default)(o.default.mark((function e(t){var c,d,p,f,h,m,g,b,v
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.chunkList,d=t.dataIndexMax,p=t.saveQueueLength,f=void 0===p?d:p,h=t.setSavingState,m=0,g=o.default.mark((function e(t,p){var g,b
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=c[t],b={dataIndex:m,dataIndexMax:d,chunkIndex:t,chunkIndexMax:p,chunkLength:g.length,chunkFirstData:u(g[0]),saveQueueLength:f},e.next=4,l({retry:1/0,timeout:6e4,wait:5e3,task:function(){var e=(0,a.default)(o.default.mark((function e(t){var a,s,c
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.attempt,s=t.timeout,c=(0,i.default)({type:"".concat(n,"-save"),attempt:a,timeout:s},b),h(c),e.next=5,r(g,c)
case 5:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),onError:function(){var e=(0,a.default)(o.default.mark((function e(t,r){var a,c,l
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.attempt,c=r.timeout,l=(0,i.default)({type:"".concat(n,"-retry"),error:t.stack||String(t),attempt:a,timeout:c},b),h(l),e.next=5,s(t,g,l)
case 5:case"end":return e.stop()}}),e)})))
return function(t,n){return e.apply(this,arguments)}}()})
case 4:m+=g.length
case 5:case"end":return e.stop()}}),e)})),b=0,v=c.length
case 4:if(!(b<v)){e.next=9
break}return e.delegateYield(g(b,v),"t0",6)
case 6:b++,e.next=4
break
case 9:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()}},function(e,t,n){"use strict"
var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]
e.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length))
for(var a,s,c=r.exec(e||""),l={},u=14;u--;)l[i[u]]=c[u]||""
return-1!=n&&-1!=o&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/")
"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1)
"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1)
return n}(0,l.path),l.queryKey=(a=l.query,s={},a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),l}},function(e,t,n){"use strict";(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))}
var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer}).call(this,n(234).Buffer)},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(476),o=n(314),a=n(125),s=n(232),c=n(315),l=n(316),u=n(92)("socket.io-client:manager"),d=n(313),p=n(490),f=Object.prototype.hasOwnProperty
function h(e,t){if(!(this instanceof h))return new h(e,t)
e&&"object"===(0,r.default)(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),
this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[]
var n=t.parser||s
this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},h.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},a(h.prototype),
h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,
this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},
h.prototype.open=h.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this
u("opening %s",this.uri),this.engine=i(this.uri,this.opts)
var n=this.engine,r=this
this.readyState="opening",this.skipReconnect=!1
var o=c(n,"open",(function(){r.onopen(),e&&e()})),a=c(n,"error",(function(t){if(u("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",t),e){var n=new Error("Connection error")
n.data=t,e(n)}else r.maybeReconnectOnOpen()}))
if(!1!==this._timeout){var s=this._timeout
u("connect attempt will timeout after %d",s),0===s&&o.destroy()
var l=setTimeout((function(){u("connect attempt timed out after %d",s),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",s)}),s)
this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(a),this},h.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open")
var e=this.engine
this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(e,"ping",l(this,"onping"))),this.subs.push(c(e,"pong",l(this,"onpong"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},
h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},h.prototype.socket=function(e,t){var n=this.nsps[e]
if(!n){n=new o(this,e,t),this.nsps[e]=n
var r=this
n.on("connecting",i),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&i()}function i(){~d(r.connecting,n)||r.connecting.push(n)}return n},h.prototype.destroy=function(e){var t=d(this.connecting,e)
~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){u("writing packet %j",e)
var t=this
e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options)
t.encoding=!1,t.processPacketQueue()})))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift()
this.packet(e)}},h.prototype.cleanup=function(){u("cleanup")
for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),
this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this
var e=this
if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1
else{var t=this.backoff.duration()
u("will wait %dms before reconnect attempt",t),this.reconnecting=!0
var n=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t)
this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts
this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){"use strict"
var r=n(235),i=n(479),o=n(486),a=n(487)
t.polling=function(e){var t=!1,n=!1,a=!1!==e.jsonp
if("undefined"!=typeof location){var s="https:"===location.protocol,c=location.port
c||(c=s?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==s}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e)
if(!a)throw new Error("JSONP disabled")
return new o(e)},t.websocket=a},function(e,t,n){"use strict"
var r=n(237),i=n(179),o=n(126),a=n(180),s=n(312),c=n(92)("engine.io-client:polling")
e.exports=u
var l=null!=new(n(235))({xdomain:!1}).responseType
function u(e){var t=e&&e.forceBase64
l&&!t||(this.supportsBinary=!1),r.call(this,e)}a(u,r),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(e){var t=this
function n(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0
this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--r||n()}))),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){c("pre-pause writing complete"),--r||n()})))}else n()},u.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(e){var t=this
c("polling got data %s",e)
o.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1
t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var e=this
function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},u.prototype.write=function(e){var t=this
this.writable=!1
var n=function(){t.writable=!0,t.emit("drain")}
o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},u.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n=""
return!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){"use strict";(function(t){
var r=n(17)(n(24)),i=n(233),o=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File)
e.exports=function e(n){if(!n||"object"!==(0,r.default)(n))return!1
if(i(n)){for(var o=0,c=n.length;o<c;o++)if(e(n[o]))return!0
return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||a&&n instanceof Blob||s&&n instanceof File)return!0
if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return e(n.toJSON(),!0)
for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&e(n[l]))return!0
return!1}}).call(this,n(234).Buffer)},function(e,t,n){"use strict"
var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,s=0
function c(e){var t=""
do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0)
return t}function l(){var e=c(+new Date)
return e!==r?(a=0,r=e):e+"."+c(a++)}for(;s<64;s++)o[i[s]]=s
l.encode=c,l.decode=function(e){var t=0
for(s=0;s<e.length;s++)t=64*t+o[e.charAt(s)]
return t},e.exports=l},function(e,t,n){"use strict"
var r=[].indexOf
e.exports=function(e,t){if(r)return e.indexOf(t)
for(var n=0;n<e.length;++n)if(e[n]===t)return n
return-1}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(232),o=n(125),a=n(489),s=n(315),c=n(316),l=n(92)("socket.io-client:socket"),u=n(179),d=n(311)
e.exports=h
var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=o.prototype.emit
function h(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var e=this.io
this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},h.prototype.send=function(){var e=a(arguments)
return e.unshift("message"),this.emit.apply(this,e),this},h.prototype.emit=function(e){if(p.hasOwnProperty(e))return f.apply(this,arguments),this
var t=a(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:d(t))?i.BINARY_EVENT:i.EVENT,data:t,options:{}}
return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},h.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},h.prototype.onopen=function(){if(l("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"===(0,r.default)(this.query)?u.encode(this.query):this.query
l("sending connect packet with query %s",e),this.packet({type:i.CONNECT,query:e})}else this.packet({type:i.CONNECT})},h.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},h.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===i.ERROR&&"/"===e.nsp
if(t||n)switch(e.type){case i.CONNECT:this.onconnect()
break
case i.EVENT:case i.BINARY_EVENT:this.onevent(e)
break
case i.ACK:case i.BINARY_ACK:this.onack(e)
break
case i.DISCONNECT:this.ondisconnect()
break
case i.ERROR:this.emit("error",e.data)}},h.prototype.onevent=function(e){var t=e.data||[]
l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},h.prototype.ack=function(e){var t=this,n=!1
return function(){if(!n){n=!0
var r=a(arguments)
l("sending ack %j",r),t.packet({type:d(r)?i.BINARY_ACK:i.ACK,id:e,data:r})}}},h.prototype.onack=function(e){var t=this.acks[e.id]
"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var e
for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e])
for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e])
this.sendBuffer=[]},h.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy()
this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(e){return this.flags.compress=e,this},h.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t,n){"use strict"
e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t,n){"use strict"
var r=[].slice
e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function")
var n=r.call(arguments,2)
return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t,n){"use strict"
var r=n(100),i=n(189),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt
e.exports=function(e){if("number"==typeof e)return e
if(i(e))return NaN
if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e
e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e
e=e.replace(o,"")
var n=s.test(e)
return n||c.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CSSTransition",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ReplaceTransition",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"SwitchTransition",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"TransitionGroup",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Transition",{enumerable:!0,get:function(){return c.default}}),
Object.defineProperty(t,"config",{enumerable:!0,get:function(){return l.default}})
var i=r(n(411)),o=r(n(415)),a=r(n(417)),s=r(n(296)),c=r(n(227)),l=r(n(294))},function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.CheckGroup=t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(59)),c=r(n(55)),l=n(35),u=r(n(10))
function d(){var e=f(["\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  .is-disabled {\n    cursor: not-allowed;\n  }\n  .Check,\n  .CoreCheck {\n    margin-right: .5em;\n    min-height: 2em;\n  }\n"])
return d=function(){return e},e}function p(){
var e=f(["\n  position: relative;\n  display: inline-flex;\n  align-items: baseline;\n  line-height: 1.5;\n  cursor: pointer;\n  color: #5b6b73;\n  > input[type=checkbox] {\n    position: absolute;\n    opacity: 0;\n  }\n  &.regular {\n    font-size: 14px;\n  }\n  &.small {\n    font-size: 12px;\n    .Check-state {\n      transform: translateY(2px);\n    }\n  }\n  &.readonly {\n    cursor: default;\n  }\n  &.is-disabled {\n    cursor: not-allowed;\n    &:after {\n      content: '';\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(255,255,255,0.5);\n    }\n  }\n  .Check-state {\n    position: relative;\n    flex: 0 0 1em;\n    margin-right: 0.33333em;\n    width: 1em;\n    height: 1em;\n    transform: translateY(1px);\n    font-size: 12px;\n    background-color: #f6f7f8;\n    border: 1px solid #8d9ea7;\n    border-radius: 2px;\n    color: #fff;\n    transition: all 0.2s ease-in-out;\n    .svg-icon.check {\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      transition: all 0.2s ease-in-out;\n      opacity: 0;\n    }\n  }\n  &.small .Check-state {\n    transform: translateY(2px);\n  }\n  &.CoreCheck,\n  &.Check {\n    &.is-checked {\n      .Check-state {\n        background-color: #298df8;\n        border-color: transparent;\n        color: #fff;\n  \n        .svg-icon.check {\n          opacity: 1;\n          transform: scale(0.833);\n        }\n      }\n    }\n  }\n  &:not(.is-checked) .Check-state .icon{\n    speak: none;\n    opacity: 0;\n  }\n  &.CoreCheck {\n    .Check-state {\n      background-color: #fff;\n      border-color: #bacdd6;\n    }\n    &.is-checked .Check-state {\n      background-color: #eb5648;\n    }\n  }\n"])
return p=function(){return e},e}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h=u.default.label(p()),m=u.default.span(d())
function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=C(e)
if(t){var i=C(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return S(this,n)}}function S(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){x(n,e)
var t=j(n)
function n(){var e
b(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return O(_(e=t.call.apply(t,[this].concat(i))),"state",{prevProps:e.props,isChecked:e.props.isChecked}),O(_(e),"onToggle",(function(){var t=e.props,n=t.name,r=t.value,i=t.label,o=t.onChange,a=t.onToggle,s=e.state.isChecked,c=_(e).canToggle?!s:s
e.setState({isChecked:c}),a(c,n,r||i),o(n,r||i,c)})),e}return y(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.theme,r=e.className,i=e.label,a=e.name,s=this.state.isChecked,u=this.isDisabled,d=this.readOnly
return o.default.createElement(h,{className:(0,l.trimList)(["core"===n?"CoreCheck":"Check",t,r,s&&"is-checked",u&&"is-disabled",d&&"readonly"])},o.default.createElement("input",{type:"checkbox",defaultChecked:s,disabled:u,name:a,onChange:this.onToggle}),o.default.createElement("span",{className:"Check-state"},o.default.createElement(c.default,{name:"check"})),o.default.createElement("span",{className:"Check-label"},i))}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.isChecked
return(0,s.default)(n,e)?null:{prevProps:e,isChecked:e.isChecked}}}]),n}(o.PureComponent)
O(k,"propTypes",{size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),isChecked:a.default.bool,isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,onChange:a.default.func.isRequired,onToggle:a.default.func.isRequired,label:a.default.any,name:a.default.string,value:a.default.any,className:a.default.string}),O(k,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})
var E=function(e){x(n,e)
var t=j(n)
function n(){var e
b(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return O(_(e=t.call.apply(t,[this].concat(i))),"name",e.props.name||Math.random().toString(36).substring(2,15)),O(_(e),"state",{prevProps:e.props,valueList:(0,l.convertValueListToSet)(e.props.valueList)}),O(_(e),"createOnChangeHandler",(function(t,n){return function(){var r=e.props,i=r.optionList,o=r.onToggle,a=r.onChange,s=e.state.valueList
if(!_(e).canToggle){var c=Array.from(s),u=c.map((function(e){return i.findIndex((function(t){return(0,l.getOptionValue)(t)===e}))}))
return o(c,t),void a({name:t,valueList:c,idxList:u})}var d=new Set(s),p=(0,l.getOptionValue)(n),f=d.has(p)?"delete":"add"
d[f](p)
var h=Array.from(d),m=h.map((function(e){return i.findIndex((function(t){return(0,l.getOptionValue)(t)===e}))}))
e.setState({valueList:d}),o(h,t),a({name:t,valueList:h,idxList:m})}})),e}return y(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=t.theme,i=t.className,a=t.optionList,s=this.state.valueList,c=this.name,u=this.isDisabled,d=this.readOnly,p=(0,l.trimList)(["core"===r?"CoreCheckGroup":"CheckGroup",n,i,u&&"is-disabled",d&&"readonly"])
return o.default.createElement(m,{className:p},a.map((function(t,i){return t&&o.default.createElement(k,{key:i,name:c,label:(0,l.getOptionLabel)(t),size:n,theme:r,isDisabled:u||t.isDisabled,readOnly:d,isChecked:(0,l.checkOptionByValueList)(t,s),onChange:u||t.isDisabled?void 0:e.createOnChangeHandler(c,t)})})))}},{key:"isDisabled",get:function(){var e=this.props,t=e.isDisabled,n=e.disabled
return t||n}},{key:"readOnly",get:function(){return this.props.readOnly}},{key:"canToggle",get:function(){var e=this.isDisabled,t=this.readOnly
return!e&&!t}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
t.valueList
return(0,s.default)(n,e)?null:{prevProps:e,valueList:e.valueList}}}]),n}(o.PureComponent)
t.CheckGroup=E,O(E,"propTypes",{name:a.default.string,size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),className:a.default.string,onChange:a.default.func.isRequired,onToggle:a.default.func.isRequired,optionList:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number,a.default.shape({label:a.default.any,value:a.default.any,isDisabled:a.default.bool})])).isRequired,valueList:a.default.oneOfType([a.default.instanceOf(Set),a.default.array]),
isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool}),O(E,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:function(){return null},onToggle:function(){return null},isDisabled:!1})
var M=k
t.default=M},function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(38)),c=r(n(59)),l=n(89),u=n(211),d=n(35),p=r(n(10))
function f(){
var e=m(["\n  &.InputNumber,\n  &.CoreInputNumber {\n    position: relative;\n    display: inline-block;\n    min-width: 2em;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    &:not(.unstyled).is-active input {\n      background-color: #fff;\n      border-color: #298df8;\n      box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n    }\n    &:not(.unstyled).isnt-valid input {\n      border-color: #ff6161 !important;\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n    }\n    &.is-disabled {\n      cursor: not-allowed;\n      > * {\n      opacity: 0.5;\n      }\n    }\n    &.is-disabled,\n    &.is-readonly {\n      .action {\n        visibility: hidden;\n      }\n    }\n    input {\n      padding-right: 1.5em;\n      padding-left: .5em;\n      font-family: inherit;\n    }\n    &.regular input{\n        padding-right: 2em;\n    }\n  }\n  &:not(.is-disabled):hover input:not([readonly]),\n  input:not([readonly]):focus {\n    & ~ .action {\n      opacity: 1;\n      transition: all 0.2s ease-out;\n    }\n  }\n  .action {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 1.5em;\n    height: 100%;\n    text-align: center;\n    &:not(.caret) {\n    opacity: 0;\n    }\n    svg {\n      height: 4px;\n      fill: currentColor;\n      fill-rule: evenodd;\n    }\n    &.caret {\n      button {\n        height: 100%;\n      }\n      svg {\n        transition: transform 0.2s ease-out;\n      }\n      /.InputNumber.is-menu-open .caret svg {\n        transform: rotate(180deg);\n      }\n    }\n    button {\n      display: block;\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 50%;\n      line-height: 0;\n      color: #8d9ea7;\n      transition: all 0.1s ease-out;\n      &:hover {\n        color: #5b6b73;\n      }\n      &:active {\n        color: #298df8;\n      }\n      &[data-action=up] svg {\n        margin: 5px 0 2px;\n      }\n      &[data-action=down] svg {\n        margin: 2px 0 5px;\n      }\n    }\n  }\n  &.regular .action {\n    top: 50%;\n    transform: translateY(-50%);\n    width: 2em;\n    height: 28px;\n  }\n  &.with-desc {\n    margin-top: 6px;\n    margin-bottom: 1.5em;\n  }\n  .title,\n  .desc,\n  .prefix,\n  .suffix {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    height: 100%;\n    pointer-events: none;\n    user-select: none;\n    border: 1px solid transparent;\n  }\n  &.is-empty {\n    .prefix,\n    .suffix {\n      opacity: 0.3;\n    }\n  }\n  .title {\n    margin-left: .5em;\n    color: #8d9ea7;\n  }\n  .desc {\n    top: 100%;\n    width: 100%;\n    height: 1.5em;\n    line-height: 1.5;\n    justify-content: center;\n    color: #8d9ea7;\n  }\n  .prefix {\n    margin-left: .5em;\n  }\n  .suffix {\n    padding-left: .5em;\n    padding-right: 1.625em;\n    width: 100%;\n    &:before {\n    content: attr(data-value);\n    display: inline-block;\n    margin-right: 0.125em;\n    width: -moz-fit-content;\n    width: -webkit-fit-content;\n    width: fit-content;\n    overflow: hidden;\n    opacity: 0;\n    }\n  }\n"])
return f=function(){return e},e}function h(){
var e=m(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n    padding: .5em;\n    width: 100%;\n    min-height: 5em;\n    max-height: 10em;\n    resize: vertical;\n    &:disabled,\n    &[readonly] {\n      resize: none;\n    }\n    }\n  }\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"])
return h=function(){return e},e}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=p.default.label(h()),b=(0,p.default)(g)(f())
function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=O(e)
if(t){var i=O(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return _(this,n)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e,t){return Number(Number(e).toFixed(t))},M=function(e){var t=e.shiftKey,n=e.metaKey,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return t?10*r:n?100*r:r},T=function(e){return""===e||/^0?[\+\-]0*$/.test(e)||/^[\+\-]?\d*\.$/.test(e)},D=function(e){var t=e.currentTarget
return setTimeout((function(){return t.select()}),50)},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e)
var t,n,r,i=S(a)
function a(){var e
x(this,a)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return k(C(e=i.call.apply(i,[this].concat(n))),"state",{prevProps:e.props,value:(0,d.setNumberValue)(e.props.value),isHover:!1,isActive:!1,isValid:!0,isMenuOpen:!1}),k(C(e),"onChange",(function(t){var n=t.target.value
e.setValue(n.trim(),t)})),k(C(e),"correctNumber",(function(t){var n=e.props,r=n.value,i=n.min,o=n.max,a=n.precision,s=E(Math.min(Math.max(t,i),o),a)
return isNaN(s)?r:s})),k(C(e),"checkValidity",(function(t){return/^\+$/.test(t)?e.canBePositive:/^\-$/.test(t)?e.canBeNegative:""===t||isFinite(t)&&e.correctNumber(t)===Number(t)})),k(C(e),"setValue",(function(t,n,r){n.persist&&n.persist()
var i=e.props,o=i.value,a=i.parser,s=(i.placeholder,i.onConfirm,a(t.toString()).toString()),c=e.checkValidity(s),l=""!==t&&isFinite(s),u=T(s)
if(l||u){var d=e.correctNumber(s),p=isNaN(d)?o:d,f=u||!c?s:p
e.setState({value:f,isValid:c},r)}})),k(C(e),"setConfirmedValue",(function(t,n){return e.setValue(t,n,(function(){return e.onConfirm(n)}))})),k(C(e),"onConfirm",(function(t){var n=e.props,r=n.value,i=n.precision,o=n.onConfirm,a=n.shouldCorrectOnConfirm,s=e.state.value,c=e.checkValidity(s)
if(!(e.props.isDisabled||e.props.disabled)){t.persist&&t.persist()
var l=e.correctNumber(s),u=isNaN(l)?r:l,d=""===s?r:c?/^[\+\-]$/.test(s)?0:s:l===E(s,i)?l:a?u:r||u
return e.setState({value:d,isValid:!0},(function(){return o(d,t)}))}})),k(C(e),"focusOnInput",(function(e){try{var t=e.currentTarget.closest("label").querySelector("input")
setTimeout((function(){return t.focus()}))}catch(e){console.error(e)}})),k(C(e),"onStep",(function(t){t.persist(),t.nativeEvent.stopPropagation()
var n=t.currentTarget.dataset.action,r=M(t,e.props.step)*("up"===n?1:-1)
e.setConfirmedValue(e.correctNumber(Number(e.state.value)+r),t),e.focusOnInput(t),Object.assign(C(e),{longPressedTimeout:setTimeout((function(){return Object.assign(C(e),{steppingInterval:setInterval((function(){return e.setConfirmedValue(e.correctNumber(Number(e.state.value)+r),t)}),30)})}),500)})})),k(C(e),"onRelease",(function(){clearTimeout(e.longPressedTimeout),clearInterval(e.steppingInterval)})),k(C(e),"onKeyDown",(function(t){
var n=t.key,r=t.currentTarget,i="ArrowUp"===n?"up":"ArrowDown"===n?"down":"Enter"===n?"enter":"Tab"===n?"tab":null,o=r instanceof Element&&r.matches("input")
if(i){if(t.persist&&t.persist(),"tab"!==i&&t.preventDefault(),o&&"tab"===i)return e.setInactive(),e.onConfirm(t)
if(o&&"enter"===i)return e.onConfirm(t),void e.$label.querySelector("input").select()
if(o){var a=M(t,e.props.step)*("up"===i?1:-1)
e.setConfirmedValue(e.correctNumber(Number(e.state.value)+a),t)}}})),k(C(e),"set$label",(function(t){return Object.assign(C(e),{$label:t})})),k(C(e),"setActive",(function(){return e.setState({isActive:!0})})),k(C(e),"setInactive",(function(){return e.setState({isActive:!1})})),k(C(e),"onHover",(function(){return e.setState({isHover:!0})})),k(C(e),"onLeave",(function(){return e.setState({isHover:!1})})),k(C(e),"toggleMenu",(function(){return e.setState({isMenuOpen:!e.state.isMenuOpen})})),
k(C(e),"closeMenu",(function(){return e.setState({isMenuOpen:!1})})),k(C(e),"onSelect",(function(t){t.persist()
var n=t.currentTarget
e.setConfirmedValue(n.dataset.value,t),e.closeMenu()})),k(C(e),"onClickOutside",(function(t){var n=t.target
n.closest("label")&&e.$label.contains(n)||(e.onConfirm(t),e.setInactive())})),e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return t.value,(0,c.default)(n,e)?null:{prevProps:e,value:(0,d.setNumberValue)(e.value)}}}],(n=[{key:"componentDidMount",value:function(){this.positionEverything()}},{key:"componentDidUpdate",value:function(e){var t=e.title,n=e.prefix,r=e.suffix,i=this.props,o=i.title,a=i.prefix,s=i.suffix;(0,c.default)(t,o)&&(0,c.default)(n,a)&&(0,c.default)(r,s)||this.positionEverything()}},{key:"positionEverything",value:function(){
var e=this.$label,t=this.props,n=t.value,r=t.title,i=t.prefix,o=t.suffix,a=this.checkValidity(n)
if(this.setState({isValid:a}),r||i||o){var s=e.querySelector("input"),c=e.querySelector(".action"),l=e.querySelector(".title"),u=e.querySelector(".prefix"),d=e.querySelector(".suffix span")
s.style.paddingLeft=null
var p=parseInt(getComputedStyle(s).getPropertyValue("padding-left"))
if(r||i){var f=(l?l.clientWidth+6:0)+(u?u.clientWidth:0),h={paddingLeft:"".concat(f+p,"px")}
Object.assign(s.style,h),r&&i&&Object.assign(u.style,{left:"".concat(l.clientWidth+6,"px")}),o&&Object.assign(d.parentNode.style,h)}if(o){var m=c.clientWidth+d.clientWidth
Object.assign(s.style,{paddingRight:"".concat(m,"px")})}}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.theme,i=e.unstyled,a=e.readOnly,c=e.placeholder,p=e.prefix,f=e.suffix,h=e.title,m=e.desc,g=e.formatter,v=e.dontSelectOnFocus,x=e.onFocus,w=void 0===x?v?void 0:D:x,j=e.optionList,S=e.menuX,_=this.state,C=_.value,O=_.isHover,k=_.isActive,E=_.isValid,M=_.isMenuOpen,T=""===C,A=this.props.isDisabled||this.props.disabled,N=(0,
d.trimList)(["core"===r?"CoreInput CoreInputNumber CoreConfirmInputNumber":"Input InputNumber ConfirmInputNumber",n,i&&"unstyled",t,O&&!A&&!a&&"is-hover",k&&!A&&!a&&"is-active",M&&"is-menu-open",A&&"is-disabled",a&&"is-readonly",E?"is-valid":"isnt-valid",T?"is-empty":"isnt-empty",!!h&&"with-title",!!m&&"with-desc",!!p&&"with-prefix",!!f&&"with-suffix"]),P=j&&j.length>0
return o.default.createElement(b,{className:N,ref:this.set$label,onMouseEnter:this.onHover,onMouseLeave:this.onLeave,onMouseDown:this.setActive},h&&o.default.createElement("span",{className:"title"},h),m&&o.default.createElement("span",{className:"desc"},m),p&&o.default.createElement("span",{className:"prefix"},p),o.default.createElement("input",y({type:"text",value:g(C),placeholder:c,disabled:A,readOnly:a,onChange:this.onChange,onKeyDown:this.onKeyDown,onFocus:w},(0,
d.getOtherProps)(this.constructor,this.props))),f&&o.default.createElement("span",{className:"suffix","data-value":g(C),"data-suffix":f},o.default.createElement("span",null,f)),o.default.createElement(u.InputActionButton,{hasMenu:P,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease}),P&&o.default.createElement(l.SelectMenu,{isOpen:M,menuClassName:"SelectNumberMenu",$select:this.$label,optionList:j,value:C,menuX:S,onChange:this.onSelect,onClose:this.closeMenu
}),(k||M)&&o.default.createElement(s.default,{target:document,onClick:this.onClickOutside,onKeyDown:this.onKeyDown}))}},{key:"canBePositive",get:function(){return this.props.max>0}},{key:"canBeNegative",get:function(){return this.props.min<0}}])&&w(t.prototype,n),r&&w(t,r),a}(o.PureComponent)
k(A,"propTypes",{size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),unstyled:a.default.bool,step:a.default.number,precision:a.default.number,formatter:a.default.func,parser:a.default.func,value:a.default.oneOfType([a.default.string,a.default.number]),placeholder:a.default.oneOfType([a.default.string,a.default.number]),optionList:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.number])),menuX:a.default.oneOf(["left","center"]),dontSelectOnFocus:a.default.bool,
title:a.default.node,desc:a.default.node,prefix:a.default.node,suffix:a.default.node,min:a.default.number,max:a.default.number,isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,onFocus:a.default.func,onConfirm:a.default.func.isRequired,shouldCorrectOnConfirm:a.default.bool,className:a.default.string}),k(A,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",placeholder:"",step:1,precision:1,parser:function(e){return e},formatter:function(e){return e},min:0,max:1/0,
isDisabled:!1,disabled:!1,readOnly:!1,onConfirm:function(){return null},shouldCorrectOnConfirm:!1})
var N=A
t.default=N},,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createAutoSaver=void 0
var i=r(n(23)),o=n(101),a=n(459),s=n(460),c=n(461)
t.createAutoSaver=function(e){var t=e.onSaverError,n=(0,o.createEventTarget)(),r=n.clear,l=n.addEventListener,u=n.removeEventListener,d=n.dispatchEvent,p=new Map,f=function(e){if(p.has(e.name))throw new Error("[addSaver] exist saver: ".concat(e.name))
p.set(e.name,e),e.startTimer()},h=function(e){if(!p.has(e.name))throw new Error("[dropSaver] no saver: ".concat(e.name))
p.delete(e.name),e.stopTimer()}
return{clear:function(){var e,t=(0,i.default)(p)
try{for(t.s();!(e=t.n()).done;){var n=e.value
h(n)}}catch(e){t.e(e)}finally{t.f()}r()},addEventListener:l,removeEventListener:u,getSaver:function(e){return p.get(e)},addSaver:f,dropSaver:h,isAllEmpty:function(){var e,t=(0,i.default)(p.values())
try{for(t.s();!(e=t.n()).done;){if(!e.value.getState().isEmpty)return!1}}catch(e){t.e(e)}finally{t.f()}return!0},getAllState:function(){var e,t={},n=(0,i.default)(p.values())
try{for(n.s();!(e=n.n()).done;){var r=e.value
t[r.name]=r.getState()}}catch(e){n.e(e)}finally{n.f()}return t},triggerAllSave:function(){var e,t=(0,i.default)(p.values())
try{for(t.s();!(e=t.n()).done;){e.value.triggerSave()}}catch(e){t.e(e)}finally{t.f()}},addDummySaver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=void 0===n?"saver:dummy":n,i=e.eventTypeBefore,o=void 0===i?"saver:dummy:before-save":i,s=e.eventTypeAfter,c=void 0===s?"saver:dummy:after-save":s,l=e.autoSaveDelay,u=void 0===l?2e3:l
return f((0,a.createDummyAutoSaver)({name:r,onSaverError:t,beforeSave:function(){return d({type:o,name:r})},afterSave:function(){return d({type:c,name:r})},autoSaveDelay:u}))},addRailsFetchSaver:function(e){var n=e.urlRailsFetchBatchSave,r=e.onSaveChunkErrorAsync,i=e.name,o=void 0===i?"saver:rails-fetch":i,a=e.eventTypeBefore,c=void 0===a?"saver:rails-fetch:before-save":a,l=e.eventTypeAfter,u=void 0===l?"saver:rails-fetch:after-save":l,p=e.autoSaveDelay,h=void 0===p?2e3:p
return f((0,s.createRailsFetchAutoSaver)({urlRailsFetchBatchSave:n,onSaveChunkErrorAsync:r,name:o,onSaverError:t,beforeSave:function(){return d({type:c,name:o})},afterSave:function(){return d({type:u,name:o})},autoSaveDelay:h}))},addProjectExchangeSaver:function(e){
var n=e.projectExchange,r=e.socketStore,i=e.getFromUser,o=e.onSaveChunkErrorAsync,a=e.name,s=void 0===a?"saver:project-exchange":a,l=e.eventTypeBefore,u=void 0===l?"saver:project-exchange:before-save":l,p=e.eventTypeAfter,h=void 0===p?"saver:project-exchange:after-save":p,m=e.autoSaveDelay,g=void 0===m?2e4:m
return f((0,c.createProjectExchangeAutoSaver)({projectExchange:n,socketStore:r,getFromUser:i,onSaveChunkErrorAsync:o,name:s,onSaverError:t,beforeSave:function(){return d({type:u,name:s})},afterSave:function(){return d({type:h,name:s})},autoSaveDelay:g}))}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSocketStoreV3=void 0
var i=r(n(4)),o=n(195),a=n(466),s=n(492),c=n(493)
t.createSocketStoreV3=function(e){var t=e.userId,n=e.socketUrl,r=void 0===n?window.location.origin:n,l=e.socketPayloadListenerMap,u=e.socketPayloadQueueAsyncListenerMap,d=e.onError,p=(0,i.default)((0,i.default)((0,i.default)((0,i.default)({},a.initialSocketState),s.initialState),c.initialState),{},{userId:t}),f=(0,a.createSocketStore)({initialState:p,socketPayloadListenerMap:l,socketPayloadQueueAsyncListenerMap:u,socketUrl:r,socketQueryDebugCookie:t
}),h=f.addEventListener,m=f.removeEventListener,g=f.destroy,b=f.getIsSocketConnected,v=f.getSocketTimestamp,y=(0,o.createInsideOutPromise)()
h("socket:open",(function(){(0,s.onReconnect)({socketStore:f,onError:d}),(0,c.onReconnect)({socketStore:f,onError:d}),y.resolve(),y=(0,o.createInsideOutPromise)()}))
var x=Promise.resolve(void 0),w=(0,s.getMethod)({socketStore:f,onError:d}),j=w.joinProjectMeta,S=w.leaveProjectMeta,_=w.requestProjectMetaJsonSaveQueue,C=w.requestProjectMetaBufferSaveQueue,O=(0,c.getMethod)({socketStore:f,onError:d}),k=O.joinTeam,E=O.leaveTeam,M=O.joinOrg,T=O.leaveOrg,D=O.joinOrgLibrary,A=O.leaveOrgLibrary
return{destroy:g,addEventListener:h,removeEventListener:m,getSocketTimestamp:v,getIsSocketConnected:b,getSocketConnectPromise:function(){return b()?x:y.promise},joinProjectMeta:j,leaveProjectMeta:S,requestProjectMetaJsonSaveQueue:_,requestProjectMetaBufferSaveQueue:C,joinTeam:k,leaveTeam:E,joinOrg:M,leaveOrg:T,joinOrgLibrary:D,leaveOrgLibrary:A}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSnapshotStore=void 0
var i=r(n(4)),o=n(454),a=n(494),s=n(497)
t.createSnapshotStore=function(e){var t=e.urlSnapshotPng,n=e.urlSnapshotTask,r=e.urlSnapshotPublic,c=e.urlPngFallback,l=e.requestDesktopSnapshot,u=e.getDesktopSnapshotPngData,d=e.getDesktopSnapshotPngZipData,p=e.getScreenMetaHtmlString,f=(0,o.isBasicFunction)(l)&&(0,o.isBasicFunction)(u)&&(0,o.isBasicFunction)(d)&&(0,o.isBasicFunction)(p)
return{isSnapshotPublicAvailable:f,getSnapshotPngUrl:a.getSnapshotPngUrl,loadSnapshotPngAsync:function(e){var n=e.imageElement,o=e.zoomMode,d=e.cacheTag,h=e.projectMetaCid,m=e.screenMetaCid,g=e.screenStateCid,b=f&&u(h,m,g)
return b?(0,s.loadSnapshotPngAsync)((0,i.default)({urlSnapshotPublic:r,urlPngFallback:c,requestDesktopSnapshot:l,getScreenMetaHtmlString:p,imageElement:n,zoomMode:o,projectMetaCid:h,screenMetaCid:m,screenStateCid:g},b)):(0,a.loadSnapshotPngAsync)({urlSnapshotPng:t,urlPngFallback:c,imageElement:n,zoomMode:o,cacheTag:d,projectMetaCid:h,screenMetaCid:m,screenStateCid:g})},requestSnapshotPngAsync:function(e){var n=e.imageElement,o=e.zoomMode,d=e.projectMetaCid,h=e.screenMetaCid,m=e.screenStateCid,g=f&&u(d,h,m)
return g?(0,s.requestSnapshotPngAsync)((0,i.default)({urlSnapshotPublic:r,requestDesktopSnapshot:l,getScreenMetaHtmlString:p,zoomMode:o,projectMetaCid:d,screenMetaCid:h,screenStateCid:m},g)):(0,a.requestSnapshotPngAsync)({urlSnapshotPng:t,urlPngFallback:c,imageElement:n,zoomMode:o,projectMetaCid:d,screenMetaCid:h,screenStateCid:m})},requestSnapshotPngZipAsync:function(e){var t=e.zoomMode,o=e.projectMetaCid,c=e.screenMetaCidList,u=e.screenMetaFolderCidList,h=e.onProgress,m=f&&d(o)
return m?(0,s.requestSnapshotPngZipAsync)((0,i.default)({urlSnapshotPublic:r,requestDesktopSnapshot:l,getScreenMetaHtmlString:p,zoomMode:t,projectMetaCid:o,onProgress:h},m)):(0,a.requestSnapshotPngZipAsync)({urlSnapshotTask:n,zoomMode:t,projectMetaCid:o,screenMetaCidList:c,screenMetaFolderCidList:u,onProgress:h})}}}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return gt}))
var r=n(0),i=n(5),o=n.n(i),a=n(10),s=n.n(a),c=n(101),l=n(24),u=n.n(l),d=n(22),p=n.n(d),f=n(32),h={SHARING_PRD_MODE:["https://modao.kf5.com/hc/kb/article/1360857","https://mockitt.wondershare.com/guide/are-you-allowed-to-switch-to-prd-mode.html"]},m=function(e){var t=e.isWonderShare,n=function e(t,n){var r={}
return Object.entries(t).forEach((function(t){var i=p()(t,2),o=i[0],a=i[1]
Array.isArray(a)?r[o]=a[n]:"object"===u()(a)&&(r[o]=e(a,n))})),r}(h,t?1:0)
Object(f.b)({MB_SHARING_LINK:n})}
var g=n(172),b={imock_sharing:{palette:{panel_bg_blue:["#298DF8","#298DF8","#298DF8","#4257FF"]},check_bc:["#c8cdd0","#c8cdd0","#999","#c8cdd0","#c8cdd0"],border_color:["#ededed","#ededed","#252626","#ededed"],border_line:["#e8e8e8","#e8e8e8","#252626","#e8e8e8"],text_c:["#5b6b73","#5b6b73","#b8bcbf","#5b6b73"],menu_bg:["#fff","#fff","#363738","#fff"],url_menu_bg:["#f2f2f2","#f2f2f2","#454647","#f2f2f2"],input_border:["#e8e8e8","#e8e8e8","#595A5C","#e8e8e8"],
html_btn_bg:["#fcfcfc","#fcfcfc","#454647","#fcfcfc"],drop_footer_btn:["#c8cdd1","#c8cdd1","#1f292e","#c8cdd1"],content_height:["78px","78px","78px","auto"],copy_btn:["#f7f7f7","#f7f7f7","#363738","#f7f7f7"],divider_1:["#DBDBDB","#DBDBDB","#151515","#DBDBDB"],text_3_cr:["#415058","#415058","#D7DDE0","#415058"],text_15_cr:["#415058","#415058","#B8BCBF","#415058"],radio_bg:["#f6f7f8","#f6f7f8","#454647","#f6f7f8"],border_cr:["#8d9ea7","#8d9ea7","#999999","#8d9ea7"],switch:{
bg:["#c8cdd0","#c8cdd0","#595A5C","#c8cdd0"],tc:["#fff","#fff","#999999","#fff"]},divider_2:["#ededed","#ededed","#252626","#ededed"],divider_4:["#e8e8e8","#e8e8e8","#151515","#e8e8e8"],text_5_cr:["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],text_6_cr:["#415058","#415058","#B8BCBF","#415058"],border_input:["1px solid #e8e8e8","1px solid #e8e8e8","1px solid #595A5C","1px solid #e8e8e8"],text_31_cr:["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"],scale_item_bg:["#ededed","#ededed","#454647","#ededed"],
input_bg:["#fff","#fff","#252626","#fff"],upload_bg:["#f7f7f7","#f7f7f7","#252626","#f7f7f7"],upload_border:["#c8cdd0","#c8cdd0","#595a5c","#c8cdd0"],text_13_cr:["#1f292e","#1f292e","#F2F4F5","#1f292e"],text_12_cr:["#415058","#415058","#F2F4F5","#415058"],icon_12:{cr:["#8d9ea7","#8d9ea7","#B8BCBF","#8d9ea7"],hover:["#415058","#415058","#F2F4F5","#415058"]},icon_13:{cr:["#7d8694","#7d8694","#B8BCBF","#7d8694"]}},loadingIcon:{color_1:["rgb(237, 237, 237)","rgb(237, 237, 237)","#6B6B6B","rgb(237, 237, 237)"],
color_2:["rgb(200, 205, 208)","rgb(200, 205, 208)","#595a5c","rgb(200, 205, 208)"]},workspace_dropdown_menu:{shadow:{shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)","0 2px 8px 0 rgba(0, 0, 0, 0.1)"]},bg:{bg_4:["#fff","#fff","#454647","#fff"]},text_5:{cr:["#5b6b73","#5b6b73","#D7DDE0","#5b6b73"]},dark:{tc:["#fff","#fff","#415058","#fff"],hover_tc:["#fff","#fff","#1F292E","#fff"],
bg:["rgba(30, 41, 46, 0.9)","rgba(30, 41, 46, 0.9)","rgba(242, 244, 245)","rgba(30, 41, 46, 0.9)"]}},new_slide_nav:{text_10:{cr:["#7d8694","#7d8694","#999999","#7d8694"],hover:["#1f292e","#1f292e","#D7DDE0","#1f292e"],active:["#1f292e","#1f292e","#F2F4F5","#1f292e"]},text_disabled:{cr:["#C8CDD0","#C8CDD0","#808080","#C8CDD0"]},border:["#1f292e","#1f292e","#D7DDE0","#1f292e"]},tooltip:{tips_bg:["#1f292e","#1f292e","#F2F4F5","#1f292e"],cr:["#fff","#fff","#1F292E","#fff"]},common:{bg:{
select_bg:["#fff","#fff","#151515","#fff"]},text_32:{cr:["#fff","#fff","#F2F4F5","#fff"]},text_14:{cr:["#fff","#fff","#1F292E","#fff"]},check:{tc:["#5b6b73","#5b6b73","#151515","#5b6b73"],border_color:["#C8CDD0","#C8CDD0","#454647","#C8CDD0"],active_bg:["#7d8694","#7d8694","#196AD4","#7d8694"],active_tc:["#5b6b73","#5b6b73","transparent","#5b6b73"]},text_24:{cr:["#5b6b73","#5b6b73","#999999","#5b6b73"]},text_2:{active:["#298DF8","#298DF8","#F2F4F5","#4257FF"]},icon_5:{
cr:["#8d9ea7","#8d9ea7","#D7DDE0","#8d9ea7"]}},toast:{success:{bg:["#7d8694","#7d8694","#F2F4F5","#7d8694"]}},listItem:{icon_expander:["#8d9ea7","#8d9ea7","#E6E9EB","#8d9ea7"]},warn_sharing_link:["#eb5648","#eb5648","#eb5648","#FF3333"],unread_signal_bg:{bg:["#eb5648","#eb5648","#eb5648","#FF3333"]}},v=function e(t,n){var r={}
return Object.entries(t).forEach((function(t){var i=p()(t,2),o=i[0],a=i[1]
Array.isArray(a)?r[o]=a[n]:"object"===u()(a)?r[o]=e(a,n):r[o]=a})),r},y={light:v(b,0),grey:v(b,1),dark:v(b,2),wondershare:v(b,3)},x=n(11),w=n.n(x),j=n(14),S=n.n(j),_=n(7),C=n.n(_),O=n(6),k=n.n(O),E=n(3),M=n.n(E),T=n(8),D=n.n(T),A=n(9),N=n.n(A),P=n(2),I=n.n(P),L=n(1),B=n.n(L),F=n(43),R=n.n(F),z=n(4),U=n.n(z),H=n(85),G=n(15),V=n(31),W=n(81),Y=n.n(W),Z=n(135),q=n(13),X=n.n(q),J=s.a.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"k6jxw7-0"
})(["height:100%;display:flex;background-color:",";border-radius:4px;.divider{height:100%;width:1px;background-color:",";}.password-input{padding-left:11px;border:1px solid ",";border-radius:4px 0 0 4px;border-right-color:transparent;flex:1;transition:all 0.2s ease-out;color:",";&:hover{border-color:",";border-right:1px solid ",";box-shadow:0 0 6px 0 rgba(41,141,248,0.5);}}.password-button{padding:0 26px;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&:hover{color:",";}}&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:hover{box-shadow:rgb(255,97,97,0.5) 0 0 6px 0;}}}"],(function(e){
return e.theme.imock_sharing.input_bg}),(function(e){return e.theme.imock_sharing.divider_4}),(function(e){return e.theme.imock_sharing.input_border}),(function(e){return e.theme.imock_sharing.text_13_cr}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.input_border}),(function(e){return e.theme.imock_sharing.html_btn_bg}),(function(e){
return e.theme.imock_sharing.palette.panel_bg_blue})),K=function(e){D()(n,e)
var t=N()(n)
function n(e){var r
return C()(this,n),r=t.call(this,e),I()(M()(r),"handleInputChange",(function(e){r.setState({value:e.target.value,isSaved:!1})})),I()(M()(r),"handleInputSubmit",(function(e){var t=r.props.onSubmit,n=r.state,i=n.value
n.isSaved||t(i),r.setState({isSaved:!0})})),r.state={value:e.value,isSaved:!!e.value},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.className,i=e.readOnly,o=this.state,a=o.value,s=o.isSaved,c=s?I18N.imockSharing.copy_password:I18N.imockSharing.save_password
return Object(r.jsxs)(J,{className:X()({"is-readOnly":i},n),children:[Object(r.jsx)("input",{type:"text",className:"password-input",placeholder:t,value:a,onChange:this.handleInputChange}),Object(r.jsx)("div",{className:"divider"}),Object(r.jsx)("button",{type:"button",className:X()("password-button",{copy:s}),"data-clipboard-text":a,onClick:this.handleInputSubmit,children:c})]})}}]),n}(i.PureComponent)
I()(K,"propTypes",{readOnly:B.a.bool,onSubmit:B.a.func,placeholder:B.a.string,value:B.a.string,className:B.a.string})
var Q=function(){var e
window.zhuge&&(e=window.zhuge).track.apply(e,arguments)},$=function(e){return[{value:"org_member",label:e.imockSharing.share_members_comment},{value:"off",label:e.imockSharing.share_close_comment}]},ee=function(e){return[{value:"device",label:e.imockSharing.prd_device},{value:"long_page",label:e.imockSharing.prd_page},{value:"outside_artboard",label:e.imockSharing.prd_prd}]},te=function(e){return ee(e).slice(0,2)},ne=function(e){return[{key:"sharing_link",label:e.imockSharing.tab_basic},{
key:"screen_visible_switch",label:e.imockSharing.tab_screen},{key:"sharing_embedded",label:e.imockSharing.tab_insertion}]},re=n(184),ie=n.n(re),oe=n(27),ae=function(e){return ie()([{value:"public",label:I18N.imockSharing.share_anyone_view},e&&{value:"restricted",label:I18N.imockSharing.org_members_only},{value:"private",label:I18N.imockSharing.view_with_password}])},se=function(e,t,n){return"".concat(location.origin,"/app/").concat(e,"?simulator_type=").concat(t).concat(n?"&sticky":"")},ce=function(e,t){
var n=Object.fromEntries(new URLSearchParams(location.search).entries()),r=n.simulator_type,i=""===n.sticky||Object(oe.c)("".concat("sharing-is-stickyshow","-").concat(e.cid),!0,oe.a.Boolean)
if(r)return{simulatorType:r,stickyShow:i}
var o=Object(oe.c)("".concat("sharing-simulatorDisplayType","-").concat(e.cid),"device",oe.a.String)
return{simulatorType:"outside_artboard"!==o||t?o:"device",stickyShow:i}},le=Object(i.memo)((function(e){
var t=e.isOrgProject,n=e.isSettingPassword,o=e.isLegalPassword,a=e.highlight,s=e.wechat,c=e.shareViewAccess,l=e.password,u=e.commentPermission,d=e.isStickyShow,h=e.simulatorDisplayType,m=e.isViewPrd,g=e.onChangeAccess,b=e.onSubmitPassword,v=e.onOrgCommentPermission,y=e.onToggleWechat,x=e.onToggleHighlight,w=e.onChangeSoloCommentPermission,j=e.onChangeViewPrd,S=e.onSimulatorDisplayType,_=e.onToggleStickyShow,C=Object(i.useState)(!0),O=p()(C,2),k=O[0],E=O[1],M=Object(i.useCallback)((function(){E(!k)}),[k])
return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"sharing-permission",children:[Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_view}),Object(r.jsx)(Z.RadioGroup,{name:"access",optionList:ae(t),value:c,onChange:g})]}),n&&Object(r.jsx)("div",{className:"password-input-item",children:Object(r.jsx)(K,{className:X()({"is-warning":!o}),placeholder:I18N.imockSharing.share_sccess_password,
value:l||"",onSubmit:b})}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_comment}),t?Object(r.jsx)(Z.RadioGroup,{name:"comment_permission",optionList:$(I18N),value:u,onChange:v}):Object(r.jsx)(Y.a,{size:"small",isChecked:"org_member"===u,onChange:w})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsxs)("div",{className:"line-item-guide",children:[Object(r.jsx)("label",{className:"item-title",
children:I18N.imockSharing.view_prd}),Object(r.jsx)(V.b,{content:I18N.imockSharing.permission_preview_outside,direction:"right",children:Object(r.jsx)("a",{className:"question-action",href:f.a.MB_SHARING_LINK.SHARING_PRD_MODE,target:"_blank",rel:"noopener noreferrer",onClick:de,children:Object(r.jsx)(G.a,{name:"workspace/question/circle"})})})]}),Object(r.jsx)(Y.a,{size:"small",isChecked:m,onChange:j})]})]}),Object(r.jsxs)("div",{className:"sharing-setting",children:[Object(r.jsx)("div",{
className:"open-setting line-item",children:Object(r.jsxs)("a",{className:X()("opener-wrapper",{"is-open":k}),onClick:M,children:[Object(r.jsx)("span",{children:I18N.imockSharing.preview_seeting}),Object(r.jsx)(G.a,{name:"design/toolbar/arrow"})]})}),Object(r.jsxs)("div",{className:X()("setting-content",{"is-open":k}),children:[Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.preview_mode}),Object(r.jsx)(Z.RadioGroup,{
className:"inline",name:"simulator_display_type",optionList:m?ee(I18N):te(I18N),value:h,onChange:S})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_highlight_click}),Object(r.jsx)(Y.a,{size:"small",isChecked:a,onChange:x})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.preview_remark}),Object(r.jsx)(Y.a,{size:"small",isChecked:d,
onChange:_})]}),Object(r.jsxs)("div",{className:"line-item",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),Object(r.jsx)(Y.a,{size:"small",isChecked:s,onChange:y})]})]})]})]})}))
le.propTypes={isStickyShow:B.a.bool,isViewPrd:B.a.bool,isOrgProject:B.a.bool,isSettingPassword:B.a.bool,isLegalPassword:B.a.bool,highlight:B.a.bool,wechat:B.a.bool,shareViewAccess:B.a.string,password:B.a.string,simulatorDisplayType:B.a.string,commentPermission:B.a.string,onChangeAccess:B.a.func,onSubmitPassword:B.a.func,onOrgCommentPermission:B.a.func,onToggleWechat:B.a.func,onToggleHighlight:B.a.func,onChangeSoloCommentPermission:B.a.func,onChangeViewPrd:B.a.func,onSimulatorDisplayType:B.a.func,
onToggleStickyShow:B.a.func}
var ue=le,de=function(){Q("PRD_know_more")},pe=n(96),fe=s.a.div.withConfig({displayName:"styles__StyledSharingEmbeddedWrapper",componentId:"sc-1o3j0jy-0"
})(["padding:0 26px 26px 26px;.desc{height:40px;line-height:40px;color:",";margin-bottom:8px;margin-top:0;b{color:",";}}.copy-wrapper{display:flex;justify-content:space-between;.demo-img{width:188px;height:108px;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:142px;height:108px;border:",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:",";margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],(function(e){
return e.theme.imock_sharing.text_5_cr}),(function(e){return e.theme.imock_sharing.text_6_cr}),(function(e){return e.theme.imock_sharing.border_input}),(function(e){return e.theme.imock_sharing.text_31_cr}),(function(e){return e.theme.imock_sharing.copy_btn}),(function(e){return e.theme.imock_sharing.border_input}),(function(e){return e.theme.imock_sharing.scale_item_bg}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.icon_13.cr
})),he=null,me=function(e){var t=e.currentTarget
t.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(he),he=setTimeout((function(){t.innerHTML=I18N.imockSharing.successfully_copied}),3e3)},ge=Object(i.memo)((function(e){var t,n=e.project,o=(e.simulatorDisplayType,e.theme),a=n.access_token,s=n.homeOrientation,c=n.shell_type,l="default"===c?"none":c,u=Object(pe.d)(n,l,s),d=80+u.width,f=80+u.height,h=(t=a,
"".concat(location.origin,"/app/").concat(t)),m='<iframe src="'.concat(h,'/embed/v2" allowTransparency="true" frameborder="0"></iframe>'),g='<iframe src="'.concat(h,'/embed" width="').concat(d,'" height="').concat(f,'" allowTransparency="true" frameborder="0"></iframe>'),b=Object(i.useState)(!1),v=p()(b,2),y=v[0],x=v[1],w=Object(i.useCallback)((function(){x(!y)}),[y])
return Object(r.jsxs)(fe,{children:[Object(r.jsxs)("p",{className:"desc",children:[Object(r.jsx)("b",{children:I18N.imockSharing.zoom_insertion}),I18N.imockSharing.zoom_insertion_desc]}),Object(r.jsxs)("div",{className:"copy-wrapper",children:[Object(r.jsx)("img",{src:"dark"===o?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),Object(r.jsxs)("div",{className:"copy-box",children:[Object(r.jsx)("p",{
className:"sharing-embedded-url",children:m}),Object(r.jsx)("button",{className:"copy-button copy","data-clipboard-text":m,onClick:me,children:I18N.imockSharing.copy_code})]})]}),Object(r.jsx)("div",{className:"open-setting line-item embedded-padding",children:Object(r.jsxs)("a",{className:X()("opener-wrapper",{"is-open":y}),onClick:w,children:[Object(r.jsx)("span",{children:I18N.imockSharing.more_insertion}),Object(r.jsx)(G.a,{name:"design/toolbar/arrow"})]})}),Object(r.jsxs)("div",{
className:X()("hidden",{"is-open":y}),children:[Object(r.jsxs)("p",{className:"desc",children:[Object(r.jsx)("b",{children:I18N.imockSharing.common_insertion}),I18N.imockSharing.common_insertion_desc]}),Object(r.jsxs)("div",{className:"copy-wrapper",children:[Object(r.jsx)("img",{src:"dark"===o?"/mb-workspace/images/sharing/share_common_dark.png":"/mb-workspace/images/sharing/share_common_light.png",className:"demo-img"}),Object(r.jsxs)("div",{className:"copy-box",children:[Object(r.jsx)("p",{
className:"sharing-embedded-url",children:g}),Object(r.jsx)("button",{className:"copy-button copy","data-clipboard-text":g,onClick:me,children:I18N.imockSharing.copy_code})]})]})]})]})}))
ge.propTypes={simulatorDisplayType:B.a.string,project:B.a.object,theme:B.a.string}
var be=ge,ve=n(23),ye=n.n(ve),xe=n(36),we=n.n(xe),je=s.a.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-13ss6vm-0"
})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],(function(e){
return e.theme.common.check.tc}),(function(e){return e.theme.common.check.border_color}),(function(e){return e.theme.common.bg.select_bg}),(function(e){return e.theme.common.text_24.cr}),(function(e){return e.theme.common.check.active_bg}),(function(e){return e.theme.common.check.active_tc})),Se=function(e){D()(n,e)
var t=N()(n)
function n(){var e
C()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),I()(M()(e),"onToggle",(function(t){(0,e.props.onChange)(t)})),e}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isDisabled,i=e.readOnly,o=e.isChecked,a=X()(t,{"is-checked":o,"is-disabled":n,readonly:i})
return Object(r.jsx)(je,{className:a,onClick:this.onToggle,children:Object(r.jsx)("span",{className:"Check-state",children:Object(r.jsx)(we.a,{type:"dora",name:"check"})})})}}]),n}(i.PureComponent)
I()(Se,"propTypes",{isChecked:B.a.bool,isDisabled:B.a.bool,readOnly:B.a.bool,onChange:B.a.func,label:B.a.any,name:B.a.string,value:B.a.any,className:B.a.string}),I()(Se,"defaultProps",{isChecked:!1,label:"",className:"",onChange:function(){return null},onToggle:function(){return null}})
var _e=n(93),Ce=n(29),Oe=s.a.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1b9atjc-0"
})(["margin:8px 40px 16px 40px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.Switch.is-checked{background-color:",";}.Switch{background-color:",';[type="button"]{background-color:',";border:unset;box-shadow:0 1px 6px rgba(0,0,0,0.2),0 1px 4px rgba(0,0,0,0.2);}&.is-checked{background:rgba(41,141,248,0.6);& > button{background-color:",";border:unset;}}}}.sm-check{.Check-state{background-color:",";border:1px solid ",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";.icon{color:#fff;}}&.is-disabled::after{background-color:unset;}}.screen-list-content{height:349px;overflow-y:auto;border-radius:2px;border:1px solid ",";&.is-disabled{opacity:0.4;cursor:not-allowed;}ol,li{list-style:none;}.sm-list{height:100%;margin-left:15px;.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{width:9px;height:12px;margin-right:8px;color:",";}.sm-folder-icon{width:14px;height:14px;margin-right:8px;.main{fill:",";}.secondary{fill:#76b8ff;}}.expander{display:flex;align-items:center;justify-content:center;width:12px;margin-left:-12px;color:#5b6b73;.arrow-icon{color:",";&.is-expand{transform:rotate(90deg);}}}}.sm-box{display:flex;align-items:center;height:33px;border-bottom:1px solid ",";&.is-display{.sm-item,.sm-icon{color:",";}.arrow-icon{color:",";}}&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;}}}}}"],(function(e){
return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.switch.bg}),(function(e){return e.theme.imock_sharing.switch.tc}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.workspace_dropdown_menu.bg.bg_4}),(function(e){return e.theme.imock_sharing.check_bc}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){
return e.theme.imock_sharing.border_line}),(function(e){return e.theme.common.icon_5.cr}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.listItem.icon_expander}),(function(e){return e.theme.imock_sharing.border_color}),(function(e){return e.theme.common.text_2.active}),(function(e){return e.theme.common.text_2.active})),ke=function(e){D()(n,e)
var t=N()(n)
function n(e){var r
C()(this,n),r=t.call(this,e),I()(M()(r),"handleCheck",(function(e){var t=r.props,n=t.onUpdateScreenVisibleList,i=t.screenVisibleSwitch,o=t.screenVisibleList
if(!!i){var a=new Set(o),s=Object(Ce.h)(e),c=a.has(e.cid)
Object(Ce.e)(e.cid,r.screenTreeData).forEach((function(e){var t=e.cid
c||a.add(t)})),s.forEach((function(e){var t=e.cid
c?a.delete(t):a.add(t)}))
var l,u=[],d=ye()(a)
try{for(d.s();!(l=d.n()).done;){var p=l.value,f=r.screenDataMap[p]
f&&!Object(Ce.a)(f)&&u.push(f)}}catch(e){d.e(e)}finally{d.f()}0===u.length?window.sharingNotice(I18N.imockSharing.display_tip,"error"):n(Array.from(a))}}))
var i=e.screenMetaList,o=Object(_e.a)(i),a=o.screenTreeData,s=o.dataMap
return r.screenDataMap=s,r.screenTreeData=a,r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.screenVisibleSwitch,n=e.onScreenHidden,i=e.screenVisibleList,o=!t
return Object(r.jsxs)(Oe,{children:[Object(r.jsxs)("div",{className:"sm-hidden-check",children:[Object(r.jsx)("label",{className:"item-title",children:I18N.imockSharing.show_all_screen}),Object(r.jsx)(Y.a,{size:"small",isChecked:o,onChange:n})]}),Object(r.jsx)("div",{className:X()("screen-list-content",{"is-disabled":o}),children:Object(r.jsx)("div",{className:"sm-list",children:Object(r.jsx)(Ee,{isDisplayScreenAll:o,screenTreeData:this.screenTreeData,screenVisibleList:i,onCheck:this.handleCheck})})})]})}
}]),n}(i.PureComponent)
I()(ke,"propTypes",{screenVisibleSwitch:B.a.bool,onScreenHidden:B.a.func,screenMetaList:B.a.array,screenVisibleList:B.a.array,onUpdateScreenVisibleList:B.a.func})
var Ee=function(e){var t=e.isDisplayScreenAll,n=e.screenTreeData,i=e.screenVisibleList,o=e.onCheck
return Object(r.jsx)(r.Fragment,{children:n.children.map((function(e){return Object(r.jsx)(Me,{treeNode:e,root:!0,depth:0,screenVisibleList:i,isDisplayScreenAll:t,onCheck:o},e.cid)}))})}
Ee.propTypes={isDisplayScreenAll:B.a.bool,screenTreeData:B.a.object,screenVisibleList:B.a.array,onCheck:B.a.func}
var Me=function(e){D()(n,e)
var t=N()(n)
function n(e){var r
return C()(this,n),r=t.call(this,e),I()(M()(r),"handleCheck",(function(e){if(e.stopPropagation(),!r.props.isDisplayScreenAll){var t=r.props,n=t.treeNode;(0,t.onCheck)(n)}})),I()(M()(r),"handleExpand",(function(e){r.props.isDisplayScreenAll||(e.stopPropagation(),r.setState({expand:!r.state.expand}))})),r.state={expand:!0},r}return k()(n,[{key:"render",value:function(){
var e=this.props,t=e.isDisplayScreenAll,i=e.treeNode,o=e.root,a=e.depth,s=e.screenVisibleList,c=e.onCheck,l=i.children,u=i.data,d=0!==l.length,p=this.state.expand,f=s&&s.includes(u.cid)
return Object(r.jsxs)("li",{className:X()("content-item"),children:[Object(r.jsxs)("div",{className:X()("sm-box",{"is-display":f,"is-disabled":t}),children:[Object(r.jsx)(Se,{isDisabled:t,className:"sm-check",isChecked:t||f,onChange:this.handleCheck}),Object(r.jsx)(Te,{root:o,depth:a,showExpander:d,data:u,expand:p,onClick:this.handleCheck,onExpand:this.handleExpand})]}),l.length>0&&p&&Object(r.jsx)("ol",{className:"sm-child",children:l.map((function(e){return Object(r.jsx)(n,{treeNode:e,depth:a+1,
screenVisibleList:s,isDisplayScreenAll:t,onCheck:c},e.cid)}))})]})}}]),n}(i.PureComponent)
I()(Me,"propTypes",{isDisplayScreenAll:B.a.bool,treeNode:B.a.object,screenVisibleList:B.a.array,depth:B.a.number,root:B.a.bool,onCheck:B.a.func})
var Te=function(e){D()(n,e)
var t=N()(n)
function n(){return C()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.depth,n=e.showExpander,i=e.data,o=e.expand,a=e.onExpand,s=e.onClick,c=14*(t+1),l=Object(Ce.a)(i),u=o?"design/group_open":"design/group_close"
return Object(r.jsxs)("div",{className:X()("sm-item"),style:{paddingLeft:c},onClick:s,children:[n&&Object(r.jsx)("a",{className:"expander",onClick:a,children:Object(r.jsx)(G.a,{className:X()("arrow-icon",{"is-expand":o}),name:"new/arrow"})}),l?Object(r.jsx)(G.a,{className:"sm-folder-icon",name:u}):Object(r.jsx)(G.a,{className:"sm-icon",name:"design/file_o"}),Object(r.jsx)("span",{className:"screen-name",children:i.name})]})}}]),n}(i.PureComponent)
I()(Te,"propTypes",{showExpander:B.a.bool,data:B.a.object,depth:B.a.number,expand:B.a.bool,onExpand:B.a.func,onClick:B.a.func})
var De=n(37),Ae=n(269),Ne=s.a.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-16e6b7h-0"})(["position:fixed;left:50%;max-width:342px;transform:translateX(-50%);z-index:1051;&.can-auto-close{pointer-events:none;}"]),Pe=function(e){D()(n,e)
var t=N()(n)
function n(){var e
return C()(this,n),e=t.call(this),I()(M()(e),"handleDisappear",(function(){return e.setState({isShow:!1})})),e.state={isShow:!1,text:"",type:"success",showClose:!1},e.el=document.createElement("div"),e}return k()(n,[{key:"componentDidMount",value:function(){var e=this
document.body.appendChild(this.el),window.sharingNotice=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3]
clearTimeout(e.timer),e.setState({isShow:!0,text:t,type:n,showClose:i}),e.timer=setTimeout(e.handleDisappear,r)},window.closeNotice=this.handleDisappear}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var e=this.state,t=e.isShow,n=e.type,i=e.text,o=e.showClose
return Object(De.createPortal)(Object(r.jsx)(Ne,{className:X()({"can-auto-close":!o}),style:{top:64},children:Object(r.jsx)(Ae.a,{isShow:t,type:n,showClose:o,onDisappear:this.handleDisappear,text:i})}),this.el)}}]),n}(i.PureComponent),Ie=s.a.div.withConfig({displayName:"styles__StyledSharingContentConfig",componentId:"e66aqj-0"
})(["flex:1;background-color:",";color:",";.nav-header{position:relative;height:47px;display:flex;margin-bottom:12px;justify-content:center;border-bottom:1px solid ",";.sharing-nav{display:flex;justify-content:space-between;.nav-item{display:flex;justify-content:center;width:110px;font-size:14px;}}.header-close{position:absolute;right:0;top:0;width:24px;height:24px;font-size:12px;display:flex;align-items:center;justify-content:center;margin:10px 10px 0 0;color:#8d9ea7;&:hover{color:#415058;}}}.line-item{display:flex;padding:0 26px;height:40px;align-items:center;justify-content:space-between;.item-title{font-weight:600;}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;color:",";&:not(.is-checked) .Check-state{background-color:",";border:1px solid ",";}&.is-checked .Check-state{background-color:",";}&:not(:last-child){margin-right:16px;}}.Switch.is-checked{background-color:",";}.Switch{background-color:",';[type="button"]{background-color:',";border:unset;box-shadow:0 1px 6px rgba(0,0,0,0.2),0 1px 4px rgba(0,0,0,0.2);}&.is-checked{background:rgba(41,141,248,0.6);& > button{background-color:",";border:unset;}}}}.password-input-item{height:36px;margin:4px 26px 8px 26px;display:flex;justify-content:flex-end;align-items:center;}.line-item-guide{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin-left:6px;color:",";cursor:pointer;.svg-icon{width:14px;height:14px;}&:hover{color:",";}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:",";margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.setting-content{padding:0;overflow:hidden;border-top:1px solid transparent;height:0;transition:all 200ms ease-in-out 0s;&.is-open{height:185px;padding:12px 0;border-top:1px solid ",";}}"],(function(e){
return e.theme.imock_sharing.menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.divider_1}),(function(e){return e.theme.imock_sharing.text_15_cr}),(function(e){return e.theme.imock_sharing.radio_bg}),(function(e){return e.theme.imock_sharing.border_cr}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.switch.bg}),(function(e){
return e.theme.imock_sharing.switch.tc}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.icon_12.cr}),(function(e){return e.theme.imock_sharing.icon_12.hover}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue}),(function(e){return e.theme.imock_sharing.icon_13.cr}),(function(e){return e.theme.imock_sharing.divider_2})),Le=function(e){return e.cid},Be=function(e){D()(n,e)
var t=N()(n)
function n(e){var r
C()(this,n),r=t.call(this,e),I()(M()(r),"handleSharingNavChange",(function(e){r.setState({sharingNavActiveIndex:e})})),I()(M()(r),"handleSubmitPassword",(function(e){var t=r.props.onUpdateProject;/^\s*$/.test(e)?(r.setState({isLegalPassword:!1}),window.sharingNotice(I18N.imockSharing.share_password_format_wrong,"error")):(r.setState({isLegalPassword:!0}),t({name:"password",value:e}))})),I()(M()(r),"handleChangeAttr",(function(e){
var t=e.name,n=e.value,i=r.props,o=i.projectShare,a=i.onUpdateProjectShare,s=U()({},o)
s[t]=n,a(s)})),I()(M()(r),"handleToggleHighlight",(function(e){r.handleChangeAttr({name:"highlight",value:e})})),I()(M()(r),"handleChangeOrgCommentPermission",(function(e){var t=e.name,n=e.value;(0,r.props.onUpdateProject)({name:t,value:n})})),I()(M()(r),"handleChangeSoloCommentPermission",(function(e){(0,r.props.onUpdateProject)({name:"comment_permission",value:e?"org_member":"off"})})),I()(M()(r),"handleToggleStickyShow",(function(e){
var t=r.props,n=t.onToggleUnreadSignal,i=t.onUpdateStickyShow,o=t.project
i({isStickyShow:e}),n(),Object(oe.f)("".concat("sharing-is-stickyshow","-").concat(o.cid),e,oe.a.Boolean)})),I()(M()(r),"handleChangeAccess",(function(e){var t=e.name,n=e.value,i=r.props,o=i.project,a=i.onUpdateProject;("private"!==n||o.password&&"private"===n)&&a({name:t,value:n}),r.setState({shareViewAccess:n})})),I()(M()(r),"handleToggleWechat",(function(e){r.handleChangeAttr({name:"wechat",value:e})})),I()(M()(r),"handleChangeSimulatorDisplayType",(function(e){
var t=e.value,n=r.props,i=n.project,o=n.onToggleUnreadSignal,a=n.simulatorDisplayType,s=n.onUpdateSimulatorType
a!==t&&(s({simulatorDisplayType:t}),Object(oe.f)("".concat("sharing-simulatorDisplayType","-").concat(i.cid),t,oe.a.String),o())})),I()(M()(r),"handleChangeViewPrd",(function(e){var t=r.props.simulatorDisplayType
e||"device"===t||r.handleChangeSimulatorDisplayType({value:"device"}),e&&"outside_artboard"!==t&&r.handleChangeSimulatorDisplayType({value:"outside_artboard"}),r.handleChangeAttr({name:"view_prd",value:e}),e&&Q("PRD_toggle_on")})),I()(M()(r),"handleChangeScreenHidden",(function(e){var t=r.props,n=t.projectShare,i=t.screenMetaList,o=t.onUpdateProjectShare,a=U()({},n)
a.screen_visible_switch=!e,a.screen_visible_switch?a.screen_visible_list=i.map(Le):a.screen_visible_list=[],o(a),MB.event("zhuge","Show_all_pages_click",{status:e?"off":"on"})})),I()(M()(r),"handleUpdateScreenVisibleList",(function(e){r.handleChangeAttr({name:"screen_visible_list",value:e})}))
var i=e.project,o=i.access,a=i.password
return r.state={sharingNavActiveIndex:0,isLegalPassword:!0,shareViewAccess:"private"!==o||a?o:"public"},r}return k()(n,[{key:"render",value:function(){
var e=this.props,t=e.theme,n=e.isStickyShow,i=e.simulatorDisplayType,o=e.project,a=e.projectShare,s=e.screenMetaList,c=e.onSharingModalClose,l=this.state,u=l.sharingNavActiveIndex,d=l.isLegalPassword,p=l.shareViewAccess,f=0===u,h=1===u,m=2===u,g=a.view_prd,b=a.screen_visible_switch,v=a.screen_visible_list,y=a.wechat,x=a.highlight,w=o.password,j=o.comment_permission,S=o.is_org_project,_="private"===p
return Object(r.jsxs)(Ie,{children:[Object(r.jsxs)("div",{className:"nav-header",children:[Object(r.jsx)(H.b,{className:"sharing-nav",activeIndex:u,onTabChange:this.handleSharingNavChange,children:ne(I18N).map((function(e){var t=e.key,n=R()(e,["key"])
return Object(r.jsx)(H.a,U()({},n),t)}))}),Object(r.jsx)("a",{className:"header-close",onClick:c,children:Object(r.jsx)(G.a,{className:"times-icon",name:"times"})})]}),f&&Object(r.jsx)(ue,{shareViewAccess:p,commentPermission:j,highlight:x,password:w,wechat:y,isStickyShow:n,simulatorDisplayType:i,isViewPrd:g,isSettingPassword:_,isOrgProject:S,isLegalPassword:d,onChangeAccess:this.handleChangeAccess,onSubmitPassword:this.handleSubmitPassword,onOrgCommentPermission:this.handleChangeOrgCommentPermission,
onToggleWechat:this.handleToggleWechat,onToggleHighlight:this.handleToggleHighlight,onChangeSoloCommentPermission:this.handleChangeSoloCommentPermission,onToggleStickyShow:this.handleToggleStickyShow,onChangeViewPrd:this.handleChangeViewPrd,onSimulatorDisplayType:this.handleChangeSimulatorDisplayType}),h&&Object(r.jsx)(ke,{screenMetaList:s,screenVisibleList:v,screenVisibleSwitch:b,onUpdateScreenVisibleList:this.handleUpdateScreenVisibleList,onScreenHidden:this.handleChangeScreenHidden
}),m&&Object(r.jsx)(be,{simulatorDisplayType:i,theme:t,project:o}),Object(r.jsx)(Pe,{})]})}}]),n}(i.PureComponent)
I()(Be,"propTypes",{isStickyShow:B.a.bool,simulatorDisplayType:B.a.string,theme:B.a.string,project:B.a.object,projectShare:B.a.object,screenMetaList:B.a.array,onUpdateAppToken:B.a.func,onUpdateProjectShare:B.a.func,onToggleUnreadSignal:B.a.func,onUpdateStickyShow:B.a.func,onUpdateSimulatorType:B.a.func,onSharingModalClose:B.a.func,onUpdateProject:B.a.func})
var Fe=n(35),Re=n(144),ze=n(103),Ue=n(45),He=n.n(Ue)
function Ge(){
var e=He()(["\n  #IBOT_DROPDOWN_MENU_ROOT {\n    .updating-app-token-confirmation {\n      margin-top: 12px;\n\n      &:not(.is-open) {\n        transform: translate(-50%, 5%);\n      }\n\n      &.is-upward:not(.is-open) {\n        transform: translate(-50%, -5%);\n      }\n\n      &.is-open {\n        transform: translate(-50%, 0);\n      }\n\n      .content {\n        padding: 12px;\n        width: 224px;\n        height: ",";\n      }\n\n      p {\n        margin: 0;\n        line-height: 18px;\n      }\n\n      .footer {\n        display: flex;\n        justify-content: flex-end;\n        margin-top: 18px;\n        height: 18px;\n\n        button {\n          transition: all 0.15s ease-out;\n\n          &:hover {\n            color: ",";\n          }\n\n          &:not(:last-child) {\n            margin-right: 12px;\n          }\n        }\n      }\n    }\n  }\n"])
return Ge=function(){return e},e}var Ve=s.a.div.withConfig({displayName:"styles__StyledHtmlUrlInput",componentId:"sc-6y0koo-0"
})(["height:100%;width:221px;display:flex;background-color:",";border:1px solid ",";color:",";border-radius:4px;margin-right:4px;input{color:",";}.divider{height:100%;width:1px;background-color:",";}.html-button{position:relative;padding:0 26px;height:100%;font-size:12px;background-color:",";.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;transform:translateY(-50%);}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}.loading{width:16px;height:16px;}}"],(function(e){
return e.theme.imock_sharing.input_bg}),(function(e){return e.theme.imock_sharing.input_border}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.text_12_cr}),(function(e){return e.theme.imock_sharing.divider_4}),(function(e){return e.theme.imock_sharing.html_btn_bg})),We=Object(a.createGlobalStyle)(Ge(),(function(e){return e.theme.imock_sharing.content_height}),(function(e){return e.theme.imock_sharing.drop_footer_btn})),Ye=function(e){D()(n,e)
var t=N()(n)
function n(e){var r
return C()(this,n),r=t.call(this,e),I()(M()(r),"cancelUpdatingAppToken",(function(e){e.nativeEvent.stopImmediatePropagation(),Object(Fe.$)(".qrcode-and-url .WorkspaceDropdown").click()})),I()(M()(r),"handleupdateAppToken",function(){var e=S()(w.a.mark((function e(t){var n
return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.cancelUpdatingAppToken(t),n=r.props.onUpdateAppToken,r.setState({isUpdatingAppToken:!0}),e.next=5,new Promise((function(e){return setTimeout(e,500)}))
case 5:n(),r.setState({isUpdatingAppToken:!1})
case 7:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()),r.state={isUpdatingAppToken:!1},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.canConfig,i=this.state.isUpdatingAppToken,a=I18N.imockSharing.reset
return Object(r.jsxs)(Ve,{className:"qrcode-and-url",children:[Object(r.jsx)("input",{type:"text",id:"sharing-url",readOnly:!0,className:"html-input",value:t}),n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"divider"}),Object(r.jsx)(Re.a,{mode:"dark",openerType:"custom",opener:Object(r.jsxs)("button",{type:"button",className:X()("html-button","is-state-".concat(Number(i))),children:[Object(r.jsx)("span",{className:"state state-0 close-button",children:a}),Object(r.jsx)("span",{
className:"state state-1",children:i&&Object(r.jsx)(ze.a,{className:"loading"})})]}),isDisabled:!1,arrowed:!0,menuY:"top",menuClassName:"updating-app-token-confirmation",menu:Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)("p",{children:I18N.imockSharing.share_old_invalid}),Object(r.jsxs)("div",{className:"footer",children:[Object(r.jsx)("button",{onClick:this.handleupdateAppToken,children:I18N.imockSharing.requests_continue}),Object(r.jsx)("button",{onClick:this.cancelUpdatingAppToken,
children:I18N.imockSharing.cancel})]})]})})]}),Object(r.jsx)(We,{})]})}}]),n}(i.PureComponent)
I()(Ye,"propTypes",{onUpdateAppToken:B.a.func,value:B.a.string,canConfig:B.a.bool})
var Ze=n(163),qe=n(157),Xe=s.a.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-1eo22ew-0"
})(["position:relative;border-radius:2px;background-color:",";color:#fff;font-weight:600;padding:0 18px;min-width:54px;.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;transform:translateY(-50%);}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],(function(e){return e.theme.imock_sharing.palette.panel_bg_blue
})),Je=s.a.div.withConfig({displayName:"styles__StyledSharingContentUrl",componentId:"sc-1eo22ew-1"
})(["width:327px;background-color:",";color:",";padding:88px 24px 16px 24px;.content-box{display:flex;flex-direction:column;align-items:center;height:100%;.qrcode-and-icon{position:relative;.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:48px;height:48px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}.p-name{width:189px;max-height:34px;margin:8px 0 22px 0;color:",";text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}.url-count{margin-top:auto;color:#7d8b94;}.url-action{width:100%;height:36px;display:flex;justify-content:space-between;.html-input{padding-left:11px;flex:1;}}}.warn-sharing-link{font-size:12px;color:",";transition:all 0.25s ease-out;opacity:0;&.is-on{opacity:1;}}.upload-square{width:100%;height:36px;border:1px solid ",";border-radius:2px;background:",";font-size:12px;line-height:17px;color:",";display:flex;align-items:center;justify-content:center;cursor:pointer;margin-top:4px;.upload-square-icon{width:14px;height:auto;margin-right:8px;}}"],(function(e){
return e.theme.imock_sharing.url_menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.text_c}),(function(e){return e.theme.warn_sharing_link}),(function(e){return e.theme.imock_sharing.upload_border}),(function(e){return e.theme.imock_sharing.upload_bg}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue})),Ke=function(e){D()(n,e)
var t=N()(n)
function n(e){var r
return C()(this,n),r=t.call(this,e),I()(M()(r),"handleCopyURL",(function(){var e=r.props,t=e.onToggleUnreadSignal,n=e.sharingEventEmitter
r.setState({isURLCopied:!0}),clearTimeout(r.copyURLTimeout),r.copyURLTimeout=setTimeout((function(){return r.setState({isURLCopied:!1})}),3e3),n.emit("imock:sharing:copy-url-sucess"),t(!1)})),I()(M()(r),"handleClickUploadSquare",(function(){var e=r.props.project.cid
Q("Square_Upload_click",{From:"个人-分享弹框-发布"}),window.open("/square/upload?project_cid=".concat(e))})),r.state={isURLCopied:!1,isUpdatingAppToken:!1},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.isGuestMode,n=e.isStickyShow,i=e.isShoWUnreadSignal,o=e.simulatorDisplayType,a=e.projectShare,s=e.project,c=e.canUploadToSquare,l=e.onUpdateAccessToken,u=this.state.isURLCopied,d=s.access_token,p=a.view_count,f=se(d,o,n),h=s.icon||"/images/app_icon.svg"
return Object(r.jsx)(Je,{children:Object(r.jsxs)("div",{className:"content-box",children:[Object(r.jsxs)("div",{className:"qrcode-and-icon",children:[Object(r.jsx)(Ze.a,{className:"qrcode",text:f,width:189,height:189}),Object(r.jsx)("div",{className:"p-icon-box",children:Object(r.jsx)("img",{src:h})})]}),Object(r.jsx)("p",{className:"p-name",children:s.name}),Object(r.jsxs)("div",{className:"url-action imock_guide_url-action",children:[Object(r.jsx)(Ye,{value:f||"",canConfig:!t,onUpdateAppToken:l
}),Object(r.jsxs)(Xe,{type:"button",className:X()("copy","url-copy-button","is-state-".concat(Number(u))),onClick:this.handleCopyURL,"data-clipboard-target":"#sharing-url",children:[Object(r.jsx)("span",{className:"state state-0",children:I18N.imockSharing.copy}),Object(r.jsx)(we.a,{type:"dora",name:"check",className:"state state-1"}),Object(r.jsx)(qe.a,{on:i})]})]}),Object(r.jsx)("p",{className:X()("warn-sharing-link",{"is-on":i}),children:I18N.imockSharing.link_update}),c&&Object(r.jsxs)("div",{
className:"upload-square",onClick:this.handleClickUploadSquare,children:[Object(r.jsx)(G.a,{className:"upload-square-icon",name:"design/share/upload_square"}),Object(r.jsx)("span",{children:I18N.imockSharing.publish_library})]}),Object(r.jsx)("p",{className:"url-count",children:"".concat(I18N.imockSharing.view_count).concat(p)})]})})}}]),n}(i.PureComponent)
I()(Ke,"propTypes",{isShoWUnreadSignal:B.a.bool,isGuestMode:B.a.bool,isStickyShow:B.a.bool,simulatorDisplayType:B.a.string,projectShare:B.a.object,canUploadToSquare:B.a.bool,project:B.a.object,sharingEventEmitter:B.a.object,onUpdateAccessToken:B.a.func,onToggleUnreadSignal:B.a.func})
var Qe=s.a.div.withConfig({displayName:"styles__StyledSharingPlatform",componentId:"sc-13m90aa-0"})(["width:100%;display:flex;flex-direction:row;justify-content:space-between;"]),$e=s.a.div.withConfig({displayName:"styles__StyledSharingButton",componentId:"sc-13m90aa-1"})(["display:flex;flex-direction:column;justify-content:center;& .sharing-icon{width:56px;height:56px;cursor:pointer;}& .btn-text{margin-top:8px;line-height:16px;text-align:center;span{color:",";}}"],(function(e){
return e.theme.imock_sharing.text_3_cr})),et="toolbar=yes, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, top=100,left=350",tt=function(e){D()(n,e)
var t=N()(n)
function n(){var e
C()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),I()(M()(e),"sharingToFacebook",(function(){var t=e.props.href
window.open("http://www.facebook.com/sharer.php?kid_directed_site=0&u=".concat(t),"_blank","width=600, height=450, ".concat(et))})),I()(M()(e),"sharingToTwitter",(function(){var t=e.props.href
window.open("https://twitter.com/share?url=".concat(t),"_blank","width=600, height=450, ".concat(et))})),I()(M()(e),"sharingToPintereset",(function(){var t=e.props.href
window.open("https://www.pinterest.com/pin/create/button/?url=".concat(t),"_blank","width=750, height=800, ".concat(et))})),I()(M()(e),"sharingToDribbble",(function(){window.open("https://www.dribbble.com/session/new","_blank","width=600, height=600, ".concat(et))})),e}return k()(n,[{key:"render",value:function(){var e=this
return Object(r.jsxs)(Qe,{children:[Object(r.jsx)(nt,{text:"Facebook",icon:"sharing/facebook",onClick:function(){return e.sharingToFacebook()}}),Object(r.jsx)(nt,{text:"Twitter",icon:"sharing/twitter",onClick:function(){return e.sharingToTwitter()}}),Object(r.jsx)(nt,{text:"Pintereset",icon:"sharing/pintereset",onClick:function(){return e.sharingToPintereset()}}),Object(r.jsx)(nt,{text:"Dribbble",icon:"sharing/dribbble",onClick:function(){return e.sharingToDribbble()}})]})}}]),n}(i.PureComponent)
I()(tt,"propTypes",{href:B.a.string})
var nt=function(e){D()(n,e)
var t=N()(n)
function n(){return C()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.icon,i=e.onClick
return Object(r.jsxs)($e,{onClick:i,children:[Object(r.jsx)("div",{children:Object(r.jsx)(G.a,{className:"sharing-icon",name:n})}),Object(r.jsx)("div",{className:"btn-text",children:Object(r.jsx)("span",{children:t})})]})}}]),n}(i.PureComponent)
I()(nt,"propTypes",{text:B.a.string,icon:B.a.string,onClick:B.a.func})
var rt=s.a.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-1i4jlfc-0"
})(["position:relative;border-radius:2px;background-color:",";color:#fff;font-weight:600;padding:0 18px;min-width:54px;.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;transform:translateY(-50%);}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],(function(e){return e.theme.imock_sharing.palette.panel_bg_blue
})),it=s.a.div.withConfig({displayName:"styles__StyledSharingContentUrl2En",componentId:"sc-1i4jlfc-1"
})(["width:327px;background-color:",";color:",";padding:18px 24px 16px 24px;.content-box{position:relative;display:flex;flex-direction:column;align-items:center;height:100%;& h3{width:100%;font-family:Inter,sans-serif;font-size:14px;color:",";line-height:18px;text-align:left;}.paltform{width:100%;margin-top:32px;}.qrcode-and-icon{position:relative;margin-top:16px;.qrcode{width:",";height:",";}.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:48px;height:48px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}.url-count{margin-top:16px;line-height:16px;color:#7d8b94;}.url-action{width:100%;height:36px;margin-top:16px;display:flex;justify-content:space-between;.html-input{padding-left:11px;flex:1;}}}.warn-sharing-link{margin-top:8px;font-size:12px;line-height:16px;color:",";transition:all 0.25s ease-out;display:none;&.is-on{display:block;}}.upload-square{width:100%;height:36px;position:absolute;bottom:0;border:1px solid ",";border-radius:2px;background:",";font-size:12px;line-height:17px;color:",";display:flex;align-items:center;justify-content:center;cursor:pointer;.upload-square-icon{width:14px;height:auto;margin-right:8px;}}"],(function(e){
return e.theme.imock_sharing.url_menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr}),(function(e){return e.theme.imock_sharing.text_13_cr}),(function(e){return e.isShoWUnreadSignal?"120px":"136px"}),(function(e){return e.isShoWUnreadSignal?"120px":"136px"}),(function(e){return e.theme.warn_sharing_link}),(function(e){return e.theme.imock_sharing.upload_border}),(function(e){return e.theme.imock_sharing.upload_bg}),(function(e){return e.theme.imock_sharing.palette.panel_bg_blue})),ot=function(e){
D()(n,e)
var t=N()(n)
function n(e){var r
return C()(this,n),r=t.call(this,e),I()(M()(r),"handleCopyURL",(function(){var e=r.props,t=e.onToggleUnreadSignal,n=e.sharingEventEmitter
r.setState({isURLCopied:!0}),clearTimeout(r.copyURLTimeout),r.copyURLTimeout=setTimeout((function(){return r.setState({isURLCopied:!1})}),3e3),n.emit("imock:sharing:copy-url-sucess"),t(!1)})),I()(M()(r),"handleClickUploadSquare",(function(){var e=r.props.project.cid
Q("Square_Upload_click",{From:"个人-分享弹框-发布"}),window.open("/square/upload?project_cid=".concat(e))})),r.state={isURLCopied:!1,isUpdatingAppToken:!1},r}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.isGuestMode,n=e.isStickyShow,i=e.isShoWUnreadSignal,o=e.simulatorDisplayType,a=e.projectShare,s=e.project,c=e.canUploadToSquare,l=e.onUpdateAccessToken,u=this.state.isURLCopied,d=s.access_token,p=a.view_count,f=se(d,o,n),h=s.icon||"/images/app_icon.svg"
return Object(r.jsx)(it,{isShoWUnreadSignal:i,children:Object(r.jsxs)("div",{className:"content-box",children:[Object(r.jsxs)("h3",{children:["Share ",s.name]}),Object(r.jsx)("div",{className:"paltform",children:Object(r.jsx)(tt,{href:f||""})}),Object(r.jsxs)("div",{className:"url-action imock_guide_url-action",children:[Object(r.jsx)(Ye,{value:f||"",canConfig:!t,onUpdateAppToken:l}),Object(r.jsxs)(rt,{type:"button",className:X()("copy","url-copy-button","is-state-".concat(Number(u))),
onClick:this.handleCopyURL,"data-clipboard-target":"#sharing-url",children:[Object(r.jsx)("span",{className:"state state-0",children:I18N.imockSharing.copy}),Object(r.jsx)(we.a,{type:"dora",name:"check",className:"state state-1"}),Object(r.jsx)(qe.a,{on:i})]})]}),Object(r.jsx)("p",{className:X()("warn-sharing-link",{"is-on":i}),children:I18N.imockSharing.link_update}),Object(r.jsxs)("div",{className:"qrcode-and-icon",children:[Object(r.jsx)(Ze.a,{className:"qrcode",text:f,width:i?120:136,height:i?120:136
}),Object(r.jsx)("div",{className:"p-icon-box",children:Object(r.jsx)("img",{src:h})})]}),Object(r.jsx)("p",{className:"url-count",children:"".concat(I18N.imockSharing.view_count).concat(p)}),c&&Object(r.jsxs)("div",{className:"upload-square",onClick:this.handleClickUploadSquare,children:[Object(r.jsx)(G.a,{className:"upload-square-icon",name:"design/share/upload_square"}),Object(r.jsx)("span",{children:I18N.imockSharing.publish_library})]})]})})}}]),n}(i.PureComponent)
I()(ot,"propTypes",{isShoWUnreadSignal:B.a.bool,isGuestMode:B.a.bool,isStickyShow:B.a.bool,simulatorDisplayType:B.a.string,projectShare:B.a.object,canUploadToSquare:B.a.bool,project:B.a.object,sharingEventEmitter:B.a.object,onUpdateAccessToken:B.a.func,onToggleUnreadSignal:B.a.func})
var at=s.a.div.withConfig({displayName:"styles__StyledSharingContentGuest",componentId:"i36sj1-0"
})(["flex:1;background-color:",";color:",";.nav-header{height:47px;display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;border-bottom:1px solid #dbdbdb;.nav-item{line-height:47px;margin-left:22px;position:relative;font-size:14px;.nav-underline{position:absolute;left:0;bottom:0;width:100%;border-bottom:2px solid #1f292e;}}.header-close{width:24px;height:24px;font-size:12px;display:flex;align-items:center;justify-content:center;margin-right:10px;color:#8d9ea7;&:hover{color:#415058;}}}"],(function(e){
return e.theme.imock_sharing.menu_bg}),(function(e){return e.theme.imock_sharing.text_3_cr})),st=function(e){D()(n,e)
var t=N()(n)
function n(){return C()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.theme,i=e.simulatorDisplayType,o=e.onSharingModalClose
return Object(r.jsxs)(at,{children:[Object(r.jsxs)("div",{className:"nav-header",children:[Object(r.jsxs)("div",{className:"nav-item",children:[I18N.imockSharing.tab_insertion,Object(r.jsx)("span",{className:"nav-underline"})]}),Object(r.jsx)("a",{className:"header-close",onClick:o,children:Object(r.jsx)(G.a,{className:"times-icon",name:"times"})})]}),Object(r.jsx)(be,{project:t,simulatorDisplayType:i,theme:n})]})}}]),n}(i.PureComponent)
I()(st,"propTypes",{theme:B.a.string,simulatorDisplayType:B.a.string,project:B.a.object,onSharingModalClose:B.a.func})
var ct=n(139),lt=n.n(ct),ut=s.a.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-1u3un7c-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]),dt=Object(i.memo)((function(){return Object(r.jsx)(ut,{className:"sharing-loading",children:Object(r.jsx)(ze.a,{className:"loading"})})})),pt=n(33),ft=s.a.div.withConfig({displayName:"styles__StyledSharingMenu",componentId:"u7lofo-0"
})(["display:flex;height:100%;font-size:12px;.svg-icon{fill:currentColor;}.svg-icon > *{fill:currentColor;}"]),ht=function(e){D()(i,e)
var t,n=N()(i)
function i(e){var t
return C()(this,i),t=n.call(this,e),I()(M()(t),"handleUpdateProjectShare",(function(e){var n=t.props,r=n.sharingAPI,i=n.sharingEventEmitter
t.setState({projectShare:e}),r.updateCurrentProjectShare(e),i.emit("imock:sharing:update-project-share",{updateProjectShare:e})})),I()(M()(t),"handleUpdateProject",(function(e){var n=e.name,r=e.value,i=t.props,o=i.sharingAPI,a=i.sharingEventEmitter,s=i.project
s[n]=r,"password"===n&&"private"!==s.access&&(s.access="private"),o.updateSharingProject(s),a.emit("imock:sharing:update-sharing-project",{updateSharingProject:s})})),I()(M()(t),"handleUpdateAccessToken",(function(){var e=Object(pt.getRandomCid)()
t.handleUpdateProject({name:"access_token",value:e}),t.handleToggleUnreadSignal()})),I()(M()(t),"handleToggleUnreadSignal",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
t.setState({isShoWUnreadSignal:e})})),I()(M()(t),"handleUpdateSimulatorType",(function(e){var n=e.simulatorDisplayType
t.setState({simulatorDisplayType:n})})),I()(M()(t),"handleUpdateStickyShow",(function(e){var n=e.isStickyShow
t.setState({isStickyShow:n})})),I()(M()(t),"handleSharingModalClose",(function(){(0,t.props.onClose)()})),t.state={projectShare:null,isLoading:!0,isGuestMode:e.isGuestMode,isShoWUnreadSignal:!1,simulatorDisplayType:"",isStickyShow:"",screenMetaList:[]},t.clipboard=null,t}return k()(i,[{key:"componentDidMount",value:(t=S()(w.a.mark((function e(){var t,n,r,i,o,a,s,c,l,u,d,p,f,h,m,g,b,v,y
return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.sharingAPI,r=t.sharingEventEmitter,i=t.screenMetaList,o=t.project,a=this.state.isGuestMode,s=o.cid,c=o.access,e.next=5,n.requestProjectShare(s)
case 5:if(l=e.sent,u=l.projectShare,d="public"===c,p=a,f=i,a){e.next=15
break}return e.next=13,n.checkSharingPermission(s,d)
case 13:h=e.sent,p=!h
case 15:if(p||f.length){e.next=21
break}return e.next=18,n.requestProjectBasicScreenMetaList(s)
case 18:m=e.sent,g=m.screenMetaList,f=g
case 21:b=ce(o,u.view_prd),v=b.simulatorType,y=b.stickyShow,this.setState({isGuestMode:p,isLoading:!1,projectShare:u,simulatorDisplayType:v,isStickyShow:y,screenMetaList:f}),setTimeout((function(){r.emit("imock:sharing:did-mount")}),700),this.clipboard=new lt.a(".imock-sharing .copy")
case 25:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.className,n=e.sharingEventEmitter,i=e.theme,o=e.project,a=e.extraInfo,s=this.state,c=s.projectShare,l=s.isGuestMode,u=s.isLoading,d=s.simulatorDisplayType,p=s.isStickyShow,f=s.isShoWUnreadSignal,h=s.screenMetaList,m=a.canUploadToSquare,g=a.isWonderShare
return Object(r.jsx)(ft,{className:X()("imock-sharing","imock_guide-sharingmenu",t),children:u?Object(r.jsx)(dt,{}):Object(r.jsxs)(r.Fragment,{children:[g?Object(r.jsx)(ot,{project:o,projectShare:c,simulatorDisplayType:d,isStickyShow:p,isGuestMode:l,canUploadToSquare:m,isShoWUnreadSignal:f,sharingEventEmitter:n,onUpdateAccessToken:this.handleUpdateAccessToken,onToggleUnreadSignal:this.handleToggleUnreadSignal}):Object(r.jsx)(Ke,{project:o,projectShare:c,simulatorDisplayType:d,isStickyShow:p,isGuestMode:l,
canUploadToSquare:m,isShoWUnreadSignal:f,sharingEventEmitter:n,onUpdateAccessToken:this.handleUpdateAccessToken,onToggleUnreadSignal:this.handleToggleUnreadSignal}),l?Object(r.jsx)(st,{theme:i,project:o,simulatorDisplayType:d,onSharingModalClose:this.handleSharingModalClose}):Object(r.jsx)(Be,{theme:i,simulatorDisplayType:d,isStickyShow:p,project:o,projectShare:c,screenMetaList:h,onUpdateProject:this.handleUpdateProject,onUpdateProjectShare:this.handleUpdateProjectShare,
onUpdateSimulatorType:this.handleUpdateSimulatorType,onUpdateStickyShow:this.handleUpdateStickyShow,onToggleUnreadSignal:this.handleToggleUnreadSignal,onSharingModalClose:this.handleSharingModalClose})]})})}}]),i}(i.PureComponent)
I()(ht,"propTypes",{extraInfo:B.a.object,project:B.a.object,className:B.a.string,theme:B.a.string,screenMetaList:B.a.array,isGuestMode:B.a.bool,sharingAPI:B.a.object,sharingEventEmitter:B.a.object,onClose:B.a.func}),I()(ht,"defaultProps",{isGuestMode:!1,screenMetaList:[]})
var mt=Object(c.createEventEmitter)()
window.SharingEventEmitter=mt
var gt=function(e){var t=e.sharingProject,n=e.isGuestMode,i=e.screenMetaList,o=e.theme,s=e.className,c=e.extraInfo,l=e.onClose
return m(c),Object(r.jsx)(a.ThemeProvider,{theme:y[o],children:Object(r.jsx)(ht,{className:s,theme:o,sharingAPI:g.a,project:t,screenMetaList:i,isGuestMode:n,sharingEventEmitter:mt,extraInfo:c,onClose:l})})}},,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return r}))
var r={ARTICLE__SQUARE_LIBRARY:["https://modao.cc/square","https://mockittapp.wondershare.com/square"],ARTICLE__BUSINESS_FONT_STATE:["https://modao.kf5.com/hc/kb/article/1399856/","https://modao.kf5.com/hc/kb/article/1399856/"],ARTICLE__MY_WIDGETS_INTRO:["https://modao.kf5.com/hc/kb/article/1399872/","https://mockitt.wondershare.com/guide/my-widgets.html"],ARTICLE__ORG_WIDGETS_INTRO:["https://modao.kf5.com/hc/kb/article/1411710/","https://mockitt.wondershare.com/guide/my-widgets.html"],
ARTICLE__MIN_FONT_TIP:["https://modao.kf5.com/hc/kb/article/1399873/","https://modao.kf5.com/hc/kb/article/1399873/"],ARTICLE__LIBRARY_INTRO:["https://modao.kf5.com/hc/kb/article/1305846/","https://mockitt.wondershare.com/guide/manage-libraries.html"],ARTICLE__MASTER_INTRO:["https://modao.kf5.com/hc/kb/article/1305842/","https://mockitt.wondershare.com/guide/batch-modify-widgets-with-master.html"],
GUIDE_VERSION_HISTORY:["https://modao.kf5.com/hc/kb/article/1365542/","https://mockitt.wondershare.com/guide/version-history-management.html"],SQUARE_ICON_GROUP:["https://modao.cc/square?type=icon_group","https://mockittapp.wondershare.com/square"],UPGRADE_ENTERPRISE:["/enterprise","https://mockitt.wondershare.com/enterprise.html"],DOWNLOAD_CLIENT:["/downloads","https://mockitt.wondershare.com/download.html"],DOWNLOAD_CLIENT_DMG:["","https://download.wondershare.com/mac-mockitt_full8039.dmg"],
DOWNLOAD_CLIENT_EXE:["","https://download.wondershare.com/mockitt_full8040.exe"],THEME_GUIDE_LIGHT:["https://cdn.modao.cc/theme_lightx2.png","https://cdn.modao.cc/theme_lightx2.png"],THEME_GUIDE_DARK:["https://cdn.modao.cc/theme_darkx2.png","https://cdn.modao.cc/theme_darkx2.png"],PRICE_SHARE:["/pricing","https://mockitt.wondershare.com/pricing.html"],TOOLBAR_LOGO_LINK:["","https://mockitt.wondershare.com/"],GUIDE_KF:["https://modao.kf5.com/hc",""],
FEATURE_UPDATE:["https://modao.cc/app/changelog","https://mockitt.wondershare.com/whats-new.html"],BASE_ADDRES:["https://modao.kf5.com/kchat/1039121",""]}},,function(e,t,n){"use strict"
e.exports=function(e){return e instanceof Date?a(e):"string"==typeof e?a(o(e)):"number"==typeof e?a(new Date(e)):void 0}
var r={allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[],wordSeparator:" "}},i=r.strings
function o(e){if(e){var t=e.trim()
return t=(t=(t=(t=t.replace(/\.\d\d\d+/,"")).replace(/-/,"/").replace(/-/,"/")).replace(/T/," ").replace(/Z/," UTC")).replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}}function a(e){return i.inWords(function(e){return(new Date).getTime()-e.getTime()}(e))}e.exports.settings=r,i.inWords=function(e){var t=i.prefixAgo,n=i.suffixAgo
r.allowFuture&&e<0&&(t=i.prefixFromNow,n=i.suffixFromNow)
var o=Math.abs(e)/1e3,a=o/60,s=a/60,c=s/24,l=c/365
function u(t,n){var r="function"==typeof t?t(n,e):t,o=i.numbers&&i.numbers[n]||n
return r.replace(/%d/i,o)}var d=o<45&&u(i.seconds,Math.round(o))||o<90&&u(i.minute,1)||a<45&&u(i.minutes,Math.round(a))||a<90&&u(i.hour,1)||s<24&&u(i.hours,Math.round(s))||s<48&&u(i.day,1)||c<30&&u(i.days,Math.floor(c))||c<60&&u(i.month,1)||c<365&&u(i.months,Math.floor(c/30))||l<2&&u(i.year,1)||u(i.years,Math.floor(l)),p=i.wordSeparator||""
return void 0===i.wordSeparator&&(p=" "),[t,d,n].join(p).toString().trim()},i.parse=o},function(e,t,n){"use strict"
!function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){
for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in t){
for(r=0;r<e.length;r++)o[n[0][r]]=e[r]
return o}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e,n){return new Promise(function(i,o){var a=function(){this.off("change",a),i()}.bind(this)
this.on("change",a)
var s=(e=e||t.documentElement)[r.requestFullscreen](n)
s instanceof Promise&&s.then(a).catch(o)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this)
this.on("change",i)
var o=t[r.exitFullscreen]()
o instanceof Promise&&o.then(i).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e]
r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e]
r&&t.removeEventListener(r,n,!1)},raw:r}
r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=o:window.screenfull=o):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},,function(e,t,n){"use strict"
var r=n(423)
e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){"use strict";(function(e){var r=n(17)(n(24)),i=n(178),o="object"==(0,r.default)(t)&&t&&!t.nodeType&&t,a=o&&"object"==(0,r.default)(e)&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,c=s?s.allocUnsafe:void 0
e.exports=function(e,t){if(t)return e.slice()
var n=e.length,r=c?c(n):new e.constructor(n)
return e.copy(r),r}}).call(this,n(208)(e))},function(e,t,n){"use strict"
e.exports=function(e,t){var n=-1,r=e.length
for(t||(t=Array(r));++n<r;)t[n]=e[n]
return t}},function(e,t,n){"use strict"
var r=n(230)
e.exports=function(e,t){var n=t?r(e.buffer):e.buffer
return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){"use strict"
var r=n(438),i=n(229),o=n(363)
e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){"use strict"
var r=n(359),i=n(449)
e.exports=function e(t,n,o,a,s){var c=-1,l=t.length
for(o||(o=i),s||(s=[]);++c<l;){var u=t[c]
n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},function(e,t,n){"use strict"
e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o
return-1}},,function(e,t,n){"use strict"
n.d(t,"a",(function(){return l}))
var r=n(24),i=n.n(r),o=n(22),a=n.n(o),s=n(32),c=n(331),l=function(e){var t=e.isWonderShare,n=function e(t,n){var r={}
return Object.entries(t).forEach((function(t){var o=a()(t,2),s=o[0],c=o[1]
Array.isArray(c)?r[s]=c[n]:"object"===i()(c)&&(r[s]=e(c,n))})),r}(c.a,t?1:0)
Object(s.b)({MB_LINK:n})}},function(e,t,n){"use strict"
var r=n(0),i=n(1),o=n.n(i),a=n(5),s=n(15),c=n(31),l=Object(a.memo)((function(e){var t=e.className,n=e.viewMode,i=e.onViewModeChange
return Object(r.jsx)(c.b,{content:I18N.ScreenList.list_thumbnail_view,direction:"up",children:Object(r.jsxs)("div",{className:t,onClick:function(e){e.stopPropagation(),"literal"===n?i("thumbnail"):"thumbnail"===n&&i("literal")},children:["literal"===n&&Object(r.jsx)(s.a,{name:"design/screen/thumbnail",className:"view-mode-icon"}),"thumbnail"===n&&Object(r.jsx)(s.a,{name:"design/screen/literal",className:"view-mode-icon"})]})})}))
l.propTypes={className:o.a.string,viewMode:o.a.string,onViewModeChange:o.a.func},t.a=l},function(e,t,n){"use strict"
n.d(t,"a",(function(){return M}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(13),x=n.n(y),w=n(15),j=n(151),S=n(77),_=n(241),C=n(79),O=n(177),k=[{value:"100",label:"1x"},{value:"200",label:"2x"}],E=[{label:"...",value:"..."}],M=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this),m()(l()(r),"handleHide",(function(){r.setState({isOpen:!1})})),m()(l()(r),"handleClick",(function(){var e=r.props,t=e.isMultiSelect,n=e.exportSvgIconList,i=e.onExport
if(!(0,e.onCheck)()){var o=r.state.isOpen
t||o?i(n):r.setState({isOpen:!0})}})),m()(l()(r),"handleRatio",(function(e){r.setState({ratio:e})})),r.state={isOpen:!1},r}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.exportSvgIconList,n=e.isLogin,i=e.isMultiSelect
if(0===t.length)return null
var o=this.state.isOpen,a=t[0],s=a.icon,c="fa5"===s.slice(0,s.indexOf("-"))?Object(C.d)(s):s
return Object(r.jsxs)("div",{className:"svg-icon-export",children:[Object(r.jsx)(O.b,{className:x()({"is-open":o}),children:Object(r.jsxs)("div",{className:x()("export-panel",{"is-open":o}),children:[Object(r.jsxs)("div",{className:"export-header",children:[Object(r.jsx)("label",{className:"label",children:I18N.SvgIconExport.export_icon}),Object(r.jsx)("span",{className:"icons",onClick:this.handleHide,children:Object(r.jsx)(w.a,{className:"times-icon",name:"times"})})]}),Object(r.jsxs)("div",{
className:"export-settings",children:[Object(r.jsxs)("div",{className:"export-state svg-export-label",children:[Object(r.jsx)("div",{className:"svg-name-label",children:I18N.SvgIconExport.icon}),Object(r.jsxs)("div",{className:"panel-icon-size",children:[Object(r.jsx)(_.b,{view_box:a.view_box,path:a.path}),Object(r.jsx)("span",{className:"panel-icon-content",children:c})]})]}),Object(r.jsxs)("div",{className:"export-second",children:[Object(r.jsxs)("div",{className:"ratio",children:[Object(r.jsx)(S.d,{
className:"select",isDisabled:!0,value:"100",optionList:k,onChange:this.handleRatio}),Object(r.jsx)("span",{children:I18N.SvgIconExport.times})]}),Object(r.jsxs)("div",{className:"suffix",children:[Object(r.jsx)(S.d,{isDisabled:!0,className:"suffix-select",value:"...",optionList:E}),Object(r.jsx)("span",{children:I18N.SvgIconExport.prefix_suffix})]}),Object(r.jsxs)("div",{className:"format",children:[Object(r.jsx)(j.b,{size:"small",value:"SVG",readOnly:!0}),Object(r.jsx)("span",{
children:I18N.SvgIconExport.format})]})]})]})]})}),Object(r.jsx)(O.a,{children:Object(r.jsx)("a",{onClick:this.handleClick,children:n?i?I18N.SvgIconExport.download_selected_icon:I18N.SvgIconExport.download_current_icon:I18N.SvgIconExport.download_icon_after_login})})]})}}]),n}(v.PureComponent)
m()(M,"propTypes",{isMultiSelect:b.a.bool,isLogin:b.a.bool,exportSvgIconList:b.a.array,onExport:b.a.func,onCheck:b.a.func})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return C}))
var r=n(4),i=n.n(r),o=n(0),a=n(43),s=n.n(a),c=n(7),l=n.n(c),u=n(6),d=n.n(u),p=n(3),f=n.n(p),h=n(8),m=n.n(h),g=n(9),b=n.n(g),v=n(2),y=n.n(v),x=n(1),w=n.n(x),j=n(5),S=MB.config.SCALES[0],_=MB.config.SCALES[MB.config.SCALES.length-1],C=function(e){m()(n,e)
var t=b()(n)
function n(){var e
l()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),y()(f()(e),"setElementRef",(function(t){return e.$elem=t})),y()(f()(e),"handleWheel",(function(t){t.preventDefault()
var n=e.props,r=n.x,i=n.y,o=n.scale,a=n.isDisabled,s=n.onOffsetChange
if(!a){var c=Math.max(-1,Math.min(t.deltaY,1))
if(t.ctrlKey||t.metaKey){var l=e.$elem.getBoundingClientRect(),u=l.top,d=(l.left+l.right)/2,p=(u+l.bottom)/2,f=o<=100?o-5*c:o-o*c*.05,h=t.pageX-d,m=t.pageY-p
e.handleZoom(f,h,m)}else s(r-t.deltaX,i-t.deltaY)}})),e}return d()(n,[{key:"componentDidMount",value:function(){this.$elem.addEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.$elem.removeEventListener("wheel",this.handleWheel,{passive:!1})}},{key:"handleZoom",value:function(e,t,n){var r=this.props,i=r.x,o=r.y,a=r.scale,s=r.onOffsetChange,c=r.onScaleChange,l=(e=Math.min(Math.max(e,S),_))/a
1!==l&&(s(t+l*(i-t),n+l*(o-n)),c(e))}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.scale,a=e.children,c=(e.onOffsetChange,e.onScaleChange,e.isDisabled),l=(e.otherProps,e.isToolBarTextShow,s()(e,["x","y","scale","children","onOffsetChange","onScaleChange","isDisabled","otherProps","isToolBarTextShow"]))
return Object(o.jsx)("div",i()(i()({},l),{},{ref:this.setElementRef,children:a.map((function(e){return"function"==typeof e?e(t,n,r,c):e}))}))}}]),n}(j.PureComponent)
y()(C,"propTypes",{x:w.a.number,y:w.a.number,isDisabled:w.a.bool,scale:w.a.number,children:w.a.array,otherProps:w.a.object,isToolBarTextShow:w.a.bool,onScaleChange:w.a.func,onOffsetChange:w.a.func})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return s}))
var r=n(45),i=n.n(r),o=n(10)
function a(){
var e=i()(["\n  .animated {\n    animation-duration: 1s;\n    animation-fill-mode: backwards;\n  }\n  \n  .animated.infinite {\n    animation-iteration-count: infinite;\n  }\n  \n  .animated.bounceIn {\n    animation-duration: .75s;\n  }\n  \n  @keyframes bounce {\n    from, 20%, 53%, 80%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n      transform: translate3d(0, 0, 0);\n    }\n    40%, 43% {\n      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n      transform: translate3d(0, -30px, 0);\n    }\n    70% {\n      animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);\n      transform: translate3d(0, -15px, 0);\n    }\n    90% {\n      transform: translate3d(0, -4px, 0);\n    }\n  }\n  \n  .bounce {\n    animation-name: bounce;\n    transform-origin: center bottom;\n  }\n  \n  @keyframes flash {\n    from, 50%, to {\n      opacity: 1;\n    }\n    25%, 75% {\n      opacity: 0;\n    }\n  }\n  \n  .flash {\n    animation-name: flash;\n  }\n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  @keyframes pulse {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n    50% {\n      transform: scale3d(1.05, 1.05, 1.05);\n    }\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .pulse {\n    animation-name: pulse;\n  }\n  \n  @keyframes rubberBand {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n    30% {\n      transform: scale3d(1.25, 0.75, 1);\n    }\n    40% {\n      transform: scale3d(0.75, 1.25, 1);\n    }\n    50% {\n      transform: scale3d(1.15, 0.85, 1);\n    }\n    65% {\n      transform: scale3d(.95, 1.05, 1);\n    }\n    75% {\n      transform: scale3d(1.05, .95, 1);\n    }\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .rubberBand {\n    animation-name: rubberBand;\n  }\n  \n  @keyframes shake {\n    from, to {\n      transform: translate3d(0, 0, 0);\n    }\n    10%, 30%, 50%, 70%, 90% {\n      transform: translate3d(-10px, 0, 0);\n    }\n    20%, 40%, 60%, 80% {\n      transform: translate3d(10px, 0, 0);\n    }\n  }\n  \n  .shake {\n    animation-name: shake;\n  }\n  \n  @keyframes swing {\n    20% {\n      transform: rotate3d(0, 0, 1, 15deg);\n    }\n    40% {\n      transform: rotate3d(0, 0, 1, -10deg);\n    }\n    60% {\n      transform: rotate3d(0, 0, 1, 5deg);\n    }\n    80% {\n      transform: rotate3d(0, 0, 1, -5deg);\n    }\n    to {\n      transform: rotate3d(0, 0, 1, 0deg);\n    }\n  }\n  \n  .swing {\n    transform-origin: top center;\n    animation-name: swing;\n  }\n  \n  @keyframes tada {\n    from {\n      transform: scale3d(1, 1, 1);\n    }\n    10%, 20% {\n      transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);\n    }\n    30%, 50%, 70%, 90% {\n      transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\n    }\n    40%, 60%, 80% {\n      transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\n    }\n    to {\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .tada {\n    animation-name: tada;\n  }\n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  @keyframes wobble {\n    from {\n      transform: none;\n    }\n    15% {\n      transform: translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg);\n    }\n    30% {\n      transform: translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg);\n    }\n    45% {\n      transform: translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg);\n    }\n    60% {\n      transform: translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg);\n    }\n    75% {\n      transform: translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .wobble {\n    animation-name: wobble;\n  }\n  \n  @keyframes jello {\n    from, 11.1%, to {\n      transform: none;\n    }\n    22.2% {\n      transform: skewX(-12.5deg) skewY(-12.5deg);\n    }\n    33.3% {\n      transform: skewX(6.25deg) skewY(6.25deg);\n    }\n    44.4% {\n      transform: skewX(-3.125deg) skewY(-3.125deg);\n    }\n    55.5% {\n      transform: skewX(1.5625deg) skewY(1.5625deg);\n    }\n    66.6% {\n      transform: skewX(-0.78125deg) skewY(-0.78125deg);\n    }\n    77.7% {\n      transform: skewX(0.390625deg) skewY(0.390625deg);\n    }\n    88.8% {\n      transform: skewX(-0.1953125deg) skewY(-0.1953125deg);\n    }\n  }\n  \n  .jello {\n    animation-name: jello;\n    transform-origin: center;\n  }\n  \n  @keyframes bounceIn {\n    from, 20%, 40%, 60%, 80%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    0% {\n      opacity: 0;\n      transform: scale3d(.3, .3, .3);\n    }\n    20% {\n      transform: scale3d(1.1, 1.1, 1.1);\n    }\n    40% {\n      transform: scale3d(.9, .9, .9);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(1.03, 1.03, 1.03);\n    }\n    80% {\n      transform: scale3d(.97, .97, .97);\n    }\n    to {\n      opacity: 1;\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  \n  .bounceIn {\n    animation-name: bounceIn;\n  }\n  \n  @keyframes bounceInDown {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    0% {\n      opacity: 0;\n      transform: translate3d(0, -3000px, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(0, 25px, 0);\n    }\n    75% {\n      transform: translate3d(0, -10px, 0);\n    }\n    90% {\n      transform: translate3d(0, 5px, 0);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .bounceInDown {\n    animation-name: bounceInDown;\n  }\n  \n  @keyframes bounceInLeft {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    0% {\n      opacity: 0;\n      transform: translate3d(-3000px, 0, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(25px, 0, 0);\n    }\n    75% {\n      transform: translate3d(-10px, 0, 0);\n    }\n    90% {\n      transform: translate3d(5px, 0, 0);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .bounceInLeft {\n    animation-name: bounceInLeft;\n  }\n  \n  @keyframes bounceInRight {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    from {\n      opacity: 0;\n      transform: translate3d(3000px, 0, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(-25px, 0, 0);\n    }\n    75% {\n      transform: translate3d(10px, 0, 0);\n    }\n    90% {\n      transform: translate3d(-5px, 0, 0);\n    }\n    to {\n      transform: none;\n    }\n  }\n  \n  .bounceInRight {\n    animation-name: bounceInRight;\n  }\n  \n  @keyframes bounceInUp {\n    from, 60%, 75%, 90%, to {\n      animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\n    }\n    from {\n      opacity: 0;\n      transform: translate3d(0, 3000px, 0);\n    }\n    60% {\n      opacity: 1;\n      transform: translate3d(0, -20px, 0);\n    }\n    75% {\n      transform: translate3d(0, 10px, 0);\n    }\n    90% {\n      transform: translate3d(0, -5px, 0);\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .bounceInUp {\n    animation-name: bounceInUp;\n  }\n  \n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  \n  .fadeIn {\n    animation-name: fadeIn;\n  }\n  \n  \n  @keyframes fadeOut {\n    from {\n      opacity: 1;\n    }\n    to {\n      opacity: 0;\n    }\n  }\n  \n  .fadeOut {\n    animation-name: fadeOut;\n  }\n  \n  \n  @keyframes flipInX {\n    from {\n      transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n      animation-timing-function: ease-in;\n      opacity: 0;\n    }\n    40% {\n      transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n      animation-timing-function: ease-in;\n    }\n    60% {\n      transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n      opacity: 1;\n    }\n    80% {\n      transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    }\n    to {\n      transform: perspective(400px);\n    }\n  }\n  \n  .flipInX {\n    backface-visibility: visible !important;\n    animation-name: flipInX;\n  }\n  \n  @keyframes flipInY {\n    from {\n      transform: perspective(400px) rotate3d(0, 1, 0, 90deg);\n      animation-timing-function: ease-in;\n      opacity: 0;\n    }\n    40% {\n      transform: perspective(400px) rotate3d(0, 1, 0, -20deg);\n      animation-timing-function: ease-in;\n    }\n    60% {\n      transform: perspective(400px) rotate3d(0, 1, 0, 10deg);\n      opacity: 1;\n    }\n    80% {\n      transform: perspective(400px) rotate3d(0, 1, 0, -5deg);\n    }\n    to {\n      transform: perspective(400px);\n    }\n  }\n  \n  .flipInY {\n    backface-visibility: visible !important;\n    animation-name: flipInY;\n  }\n  \n  @keyframes spinning {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(359deg);\n    }\n  }\n  \n  @keyframes spinning-reverse {\n    0% {\n      transform: rotate(359deg);\n    }\n    100% {\n      transform: rotate(0deg);\n    }\n  }\n  \n  .spinning {\n    animation-name: spinning;\n    animation-timing-function: linear;\n  }\n  \n  .spinning-reverse {\n    animation-name: spinning-reverse;\n    animation-timing-function: linear;\n  }\n  \n  @keyframes rotateIn {\n    from {\n      transform-origin: center;\n      transform: rotate3d(0, 0, 1, -200deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: center;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateIn {\n    animation-name: rotateIn;\n  }\n  \n  @keyframes rotateInDownLeft {\n    from {\n      transform-origin: left bottom;\n      transform: rotate3d(0, 0, 1, -45deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: left bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInDownLeft {\n    animation-name: rotateInDownLeft;\n  }\n  \n  @keyframes rotateInDownRight {\n    from {\n      transform-origin: right bottom;\n      transform: rotate3d(0, 0, 1, 45deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: right bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInDownRight {\n    animation-name: rotateInDownRight;\n  }\n  \n  @keyframes rotateInUpLeft {\n    from {\n      transform-origin: left bottom;\n      transform: rotate3d(0, 0, 1, 45deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: left bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInUpLeft {\n    animation-name: rotateInUpLeft;\n  }\n  \n  @keyframes rotateInUpRight {\n    from {\n      transform-origin: right bottom;\n      transform: rotate3d(0, 0, 1, -90deg);\n      opacity: 0;\n    }\n    to {\n      transform-origin: right bottom;\n      transform: none;\n      opacity: 1;\n    }\n  }\n  \n  .rotateInUpRight {\n    animation-name: rotateInUpRight;\n  }\n  \n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  @keyframes rollIn {\n    from {\n      opacity: 0;\n      transform: translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg);\n    }\n    to {\n      opacity: 1;\n      transform: none;\n    }\n  }\n  \n  .rollIn {\n    animation-name: rollIn;\n  }\n  \n  /* originally authored by Nick Pettit - https://github.com/nickpettit/glide */\n  \n  \n  @keyframes zoomIn {\n    from {\n      opacity: 0;\n      transform: scale3d(.3, .3, .3);\n    }\n    50% {\n      opacity: 1;\n    }\n  }\n  \n  .zoomIn {\n    animation-name: zoomIn;\n  }\n  \n  @keyframes zoomInDown {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(0, -1000px, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(0, 60px, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInDown {\n    animation-name: zoomInDown;\n  }\n  \n  @keyframes zoomInLeft {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(-1000px, 0, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(10px, 0, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInLeft {\n    animation-name: zoomInLeft;\n  }\n  \n  @keyframes zoomInRight {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(1000px, 0, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(-10px, 0, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInRight {\n    animation-name: zoomInRight;\n  }\n  \n  @keyframes zoomInUp {\n    from {\n      opacity: 0;\n      transform: scale3d(.1, .1, .1) translate3d(0, 1000px, 0);\n      animation-timing-function: cubic-bezier(0.550, 0.055, 0.675, 0.190);\n    }\n    60% {\n      opacity: 1;\n      transform: scale3d(.475, .475, .475) translate3d(0, -60px, 0);\n      animation-timing-function: cubic-bezier(0.175, 0.885, 0.320, 1);\n    }\n  }\n  \n  .zoomInUp {\n    animation-name: zoomInUp;\n  }\n  \n  \n  @keyframes slideInDown {\n    from {\n      transform: translate3d(0, -100%, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInDown {\n    animation-name: slideInDown;\n  }\n  \n  @keyframes slideInLeft {\n    from {\n      transform: translate3d(-100%, 0, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInLeft {\n    animation-name: slideInLeft;\n  }\n  \n  @keyframes slideInRight {\n    from {\n      transform: translate3d(100%, 0, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInRight {\n    animation-name: slideInRight;\n  }\n  \n  @keyframes slideInUp {\n    from {\n      transform: translate3d(0, 100%, 0);\n      visibility: visible;\n    }\n    to {\n      transform: translate3d(0, 0, 0);\n    }\n  }\n  \n  .slideInUp {\n    animation-name: slideInUp;\n  }\n\n  @keyframes lightSpeedIn {\n  from {\n    transform: translate3d(100%, 0, 0) skewX(-30deg);\n    opacity: 0;\n  }\n\n  60% {\n    transform: skewX(20deg);\n    opacity: 1;\n  }\n\n  80% {\n    transform: skewX(-5deg);\n    opacity: 1;\n  }\n\n  to {\n    transform: none;\n    opacity: 1;\n  }\n}\n\n.lightSpeedIn {\n  animation-name: lightSpeedIn;\n  animation-timing-function: ease-out;\n}\n"])
return a=function(){return e},e}var s=Object(o.createGlobalStyle)(a())},function(e,t,n){"use strict"
var r=n(21),i=n(16),o=n(0),a=n(7),s=n.n(a),c=n(6),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(5),b=n(1),v=n.n(b),y=n(22),x=n.n(y),w={info:{name:"lisankebook",desc:"李三科送给你的专属福利，现在注册墨刀即可享受一个月个人版会员",successTip:"注册成功，恭喜你获得墨刀一个月个人版会员"},checker:function(){return function(){var e=location.search
0===e.indexOf("?")&&(e=e.substr(1))
var t={}
return e.split("&").forEach((function(e){var n=e.split("="),r=x()(n,2),i=r[0],o=r[1]
i&&(t[i]=!o||decodeURIComponent(o))})),t}().utm_source===w.info.name}},j=[w]
var S=n(212),_=n(216),C=n(287),O=n(285),k=n(284),E=n(156),M=n(20),T=n(3),D=n.n(T),A=n(134),N=n.n(A),P=n(15),I=n(10),L=n.n(I),B=L.a.div.withConfig({displayName:"styles__StyledSharingSetting",componentId:"mej7fj-0"
})(["flex:1;display:flex;flex-grow:1;flex-direction:column;.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;color:#415058;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:25px;width:11px;}}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{color:#353b48;font-weight:bold;font-size:16px;color:#415058;}.headerIntro{margin-top:4px;font-weight:none;font-size:12px;color:#8D9EA7;}}}.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.sharingBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 24px 0 0;.sharingIconUp{border-radius:10px;height:56px;width:56px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;margin-top:4px;&.wechat{background-color:#57BA40;}&.circle{background-color:#5CC0A5;}.blockIconUp{height:36px;width:36px;}}.sharingIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;display:flex;align-items:center;justify-content:center;border:1px solid #F2F2F2;.icon-color{stroke:rgb(91,107,115);}.blockIcon{height:36px;width:36px;}}.sharingName{font-size:12px;color:#7D8694;}}}"]),F=function(e){
d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"circleIcon",(function(e,t,n,r,i){return Object(o.jsxs)("div",{className:"sharingBlock",onClick:i,children:[Object(o.jsx)("div",{className:"sharingIconUp ".concat(r),children:Object(o.jsx)(P.a,{name:n,className:"blockIconUp"})}),Object(o.jsx)("div",{className:"sharingName",children:e})]})})),m()(D()(e),"shareToWX",(function(){MB.messageBucket.send("shareToWX")})),m()(D()(e),"shareToWXMoments",(function(){MB.messageBucket.send("shareToWXMoments")})),
m()(D()(e),"copyLinkAddress",(function(){MB.messageBucket.send("copyLinkAddress")})),m()(D()(e),"otherIcon",(function(t,n,r){return Object(o.jsxs)("div",{className:"sharingBlock",onClick:e.copyLinkAddress,children:[Object(o.jsx)("div",{className:"sharingIcon",children:Object(o.jsx)(P.a,{name:r,className:"blockIcon"})}),Object(o.jsx)("div",{className:"sharingName",children:t})]})})),m()(D()(e),"shareHeader",(function(){var t=e.props.onBack
return Object(o.jsxs)("div",{className:"theHeader",children:[Object(o.jsx)("div",{className:"backBtn","data-value":"",onClick:t,children:Object(o.jsx)(P.a,{name:"preview/menu/back",className:"backIcon"})}),Object(o.jsxs)("div",{className:"headerTitle",children:[Object(o.jsx)("div",{className:"headerName",children:I18N.pPreview.mobileMenu.share}),Object(o.jsx)("div",{className:"headerIntro",children:I18N.pPreview.mobileMenu.shareTo})]})]})})),e}return l()(n,[{key:"render",value:function(){
var e=this.props,t=e.isOnPremises,n=e.isWonderShare
return Object(o.jsxs)(B,{children:[this.shareHeader(),!t&&!n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"contentItem",children:[this.circleIcon(I18N.pPreview.mobileMenu.weChat,null,"preview/menu/wechat","wechat",this.shareToWX),this.circleIcon(I18N.pPreview.mobileMenu.moments,null,"preview/menu/circle","circle",this.shareToWXMoments)]}),Object(o.jsx)("div",{className:"line"})]}),Object(o.jsx)("div",{className:"contentItem",
children:this.otherIcon(I18N.pPreview.mobileMenu.copyUrl,null,"preview/menu/share_link")})]})}}]),n}(g.PureComponent)
m()(F,"propTypes",{isOnPremises:v.a.bool,isWonderShare:v.a.bool,onBack:v.a.func})
var R=n(13),z=n.n(R),U=n(165),H=n(51),G=n(170),V=n(29),W=n(48),Y=L.a.div.withConfig({displayName:"styles__StyledScreenItem",componentId:"sc-2s278r-0"
})(["display:flex;align-items:center;height:58px;border-bottom:1px solid #dbdbdb;margin-left:12px;.choosed{height:14px;min-width:14px;margin-right:16px;}.expander{height:18px;width:18px;margin-left:-16px;.arrow-icon{height:18px;width:18px;color:#8d9ea7;&.is-expand{transform:rotate(90deg);}}}.screen-name{display:flex;align-items:center;width:100%;height:100%;.screen-item-icon{width:24px;height:24px;display:flex;justify-content:center;align-items:center;flex-shrink:0;margin-right:6px;.icon{width:20px;height:20px;}.svg-icon{color:#5d6b73;}.sm-folder-icon{.main{fill:",";}.secondary{fill:",";}}}.editable-span{font-size:18px;color:#415058;height:26px;",";}}"],(function(e){
return e.theme.screen_panel.folder_icon.main}),(function(e){return e.theme.screen_panel.folder_icon.secondary}),W.e),Z=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"setElementRef",(function(t){return e.$elem=t})),m()(D()(e),"handleExpand",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onExpand)(r)})),m()(D()(e),"handleClick",(function(t){t.stopPropagation()
var n=e.props,r=n.screenMeta;(0,n.actionProps.onSelect)(t,r)})),e}return l()(n,[{key:"componentDidMount",value:function(){if(!Object(H.g)(this.$elem)){if(!this.$elem.classList.contains("active"))return
var e=document.querySelector(".rn-content-body")
if(!e)return
var t=e.getBoundingClientRect(),n=this.$elem.getBoundingClientRect().bottom
e.scrollTop+=n-t.bottom+20}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.depth,r=e.isExpand,i=e.isActive,a=e.showExpander,s=14*(n+1),c=Object(V.a)(t),l=t.cid,u=t.name
return Object(o.jsxs)(Y,{ref:this.setElementRef,"data-cid":l,onClick:this.handleClick,style:{paddingLeft:s},className:z()("rn-list-item",{active:i,folder:c}),children:[a&&Object(o.jsx)("a",{className:"expander",onClick:this.handleExpand,onDoubleClick:this.stopPropagation,children:Object(o.jsx)(P.a,{className:z()("arrow-icon",{"is-expand":r}),name:"new/arrow"})}),Object(o.jsxs)("div",{className:"screen-name",children:[Object(o.jsx)("div",{className:"screen-item-icon",children:Object(o.jsx)(G.a,{isActive:!1,
isFolder:c,isExpand:r})}),Object(o.jsx)(U.a,{className:"editable-span",children:Object(H.k)(u)})]}),i&&Object(o.jsx)(P.a,{name:"preview/menu/choose",className:"choosed"})]})}}]),n}(g.PureComponent)
m()(Z,"propTypes",{depth:v.a.number,screenMeta:v.a.object,isActive:v.a.bool,isExpand:v.a.bool,showExpander:v.a.bool,actionProps:v.a.object})
var q=n(219),X=L.a.div.withConfig({displayName:"styles__StyledScreenSetting",componentId:"zxoopv-0"
})(["flex:1;width:100%;.theHeader{position:absolute;width:100%;top:0;display:flex;align-items:center;justify-content:flex-start;height:68px;color:#415058;border-bottom:1px solid #dbdbdb;.backBtn{padding:20px;.backIcon{height:25px;width:11px;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-size:18px;color:#415058;font-weight:bold;}}}.screen-list{position:absolute;top:68px;width:100%;overflow-x:hidden;overflow-y:auto;height:245px;}.when-ws .choosed path{fill:#4257ff;}"]),J=function(e){
d()(n,e)
var t=f()(n)
function n(e){var r
return s()(this,n),r=t.call(this,e),m()(D()(r),"handleSelectScreenMeta",(function(e,t){var n=r.props,i=n.activeCid,o=n.dispatch
Object(V.a)(t)||(i===t.cid?r.handleScreenMetaExpand(t):o({type:"entry:sync-runner:set-screen",payload:{cid:t.cid}}))})),m()(D()(r),"handleScreenMetaExpand",(function(e){var t=e.cid,n=r.state.collapseKeySet,i=new Set(n)
n.has(t)?i.delete(t):i.add(t),r.setState({collapseKeySet:i})})),m()(D()(r),"backHeader",(function(e,t){return Object(o.jsxs)("div",{className:"theHeader",children:[Object(o.jsx)("div",{className:"backBtn","data-value":"",onClick:t,children:Object(o.jsx)(P.a,{name:"preview/menu/back",className:"backIcon"})}),Object(o.jsx)("div",{className:"headerTitle",children:Object(o.jsx)("div",{className:"headerName",children:e})})]})})),m()(D()(r),"renderScreenMetaItem",(function(e){
var t=e.depth,n=e.screenMeta,i=e.hasScreenMetaChildren,a=e.collapseScreenMetaCidSet,s=e.activeScreenMetaCid,c=n.cid,l=s===c,u=!a.has(c),d=i||Object(V.a)(n)
return Object(o.jsx)(Z,{depth:t,screenMeta:n,isActive:l,isExpand:u,showExpander:d,actionProps:r.literalActionProps})})),r.state={collapseKeySet:new Set},r.literalActionProps={onExpand:r.handleScreenMetaExpand,onSelect:r.handleSelectScreenMeta},r}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.activeCid,n=e.screenTreeData,r=e.onBack,i=e.projectName,a=e.isWonderShare,s=this.state.collapseKeySet
return Object(o.jsxs)(X,{children:[this.backHeader(i,r),Object(o.jsx)("div",{className:z()("screen-list",{"when-ws":a}),children:Object(o.jsx)(q.a,{collapseScreenMetaCidSet:s,activeScreenMetaCid:t,isExpandTree:!1,screenTreeData:n,renderScreenMetaItem:this.renderScreenMetaItem})})]})}}]),n}(g.PureComponent)
m()(J,"propTypes",{isWonderShare:v.a.bool,activeCid:v.a.string,screenTreeData:v.a.object,dispatch:v.a.func,onBack:v.a.func,projectName:v.a.string})
var K=Object(M.createSelector)([i.H,i.g],(function(e,t){return{screenTreeData:e,activeCid:t.cid}})),Q=Object(r.connect)((function(e){return K(e)}))(J),$=n(37),ee=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return s()(this,n),(r=t.call(this,e)).el=document.createElement("div"),r}return l()(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return Object($.createPortal)(this.props.children,this.el)}}]),n}(g.PureComponent)
m()(ee,"propTypes",{children:v.a.element})
var te=n(118),ne=L.a.div.withConfig({displayName:"styles__StyledPreviewMask",componentId:"sc-1jnirfk-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;"]),re=L.a.div.withConfig({displayName:"styles__StyledPreviewSetting",componentId:"sc-1jnirfk-1"
})(["position:absolute;bottom:-363px;display:flex;flex-direction:column;z-index:6;height:363px;width:100%;background-color:#f7f7f7;transition:bottom 0.3s ease-in-out;&.is-open{bottom:0;}.theContent{display:flex;flex-grow:1;flex-direction:column;.line{border-bottom:1px solid #dbdbdb;margin-left:16px;}.contentItem{display:flex;flex-direction:row;justify-content:flex-start;margin:20px 16px 16px 16px;.menuBlock{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 12px 0 0;.menuBlockIcon{border-radius:10px;background-color:white;height:60px;width:60px;margin-bottom:8px;border:1px solid #f2f2f2;display:flex;align-items:center;justify-content:center;.blockIcon{height:36px;width:36px;}}.menuBlockName{display:flex;align-items:center;font-size:12px;color:#84817a;.redDot{width:4px;height:4px;background:#eb5648;border-radius:50%;margin-right:2px;}}}}.highlight-blue{.menuBlockIcon .link-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.offline-blue{.menuBlockIcon .download-svg{fill:#4257ff;}.menuBlockName .name{color:#4257ff;}}.highlight-red{.menuBlockIcon .link-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.offline-red{.menuBlockIcon .download-svg{fill:#fe5859;}.menuBlockName .name{color:#fe5859;}}.theHeader{display:flex;align-items:center;justify-content:flex-start;height:68px;padding-left:16px;color:#415058;border-bottom:1px solid #dbdbdb;.headerIcon{height:40px;width:40px;margin-right:12px;border-radius:6px;img{height:40px;width:40px;}}.headerTitle{display:flex;flex-direction:column;justify-content:space-between;.headerName{font-weight:bold;font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:#415058;text-align:left;width:300px;}.headerIntro{margin-top:4px;color:#8d9ea7;font-size:12px;font-weight:none;text-align:left;}}}}.theFooter{display:flex;align-items:center;justify-content:center;height:50px;background-color:#fff;font-size:18px;color:#415058;border-top:1px solid #dbdbdb;}@supports (bottom:env(safe-area-inset-bottom)){&.is-open{margin-bottom:env(safe-area-inset-bottom);}}"]),ie=L.a.div.withConfig({
displayName:"styles__StyledProgressBar",componentId:"sc-1jnirfk-2"
})(["position:absolute;height:100vh;width:100vw;z-index:6;display:flex;justify-content:center;align-items:center;.progress-box{display:flex;justify-content:center;align-items:center;flex-direction:column;width:240px;height:120px;background:#fff;box-shadow:0 2px 6px 0 rgba(0,0,0,0.18);border-radius:4px;}.splash-loading{width:70px;height:70px;}.sliderName{margin-top:10px;font-size:14px;color:#415058;letter-spacing:0;text-align:center;}"]),oe=n(38),ae=n.n(oe),se=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return s()(this,n),r=t.call(this,e),m()(D()(r),"handleClickScreenSeeting",(function(){(0,r.props.onUpdateSetting)("screen")})),m()(D()(r),"handleClickSharingSeeting",(function(){(0,r.props.onUpdateSetting)("sharing")})),m()(D()(r),"refreshRenderTitle",(function(){var e=r.props,t=e.isAppOffline,n=e.isAppCacheNeedUpToDate
return t&&n?Object(o.jsx)("div",{className:"redDot"}):null})),r.isDemo="a1162497883172b3a4f79d1eb0f4b949"===e.project.access_token,r}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.isWonderShare,n=e.isDummyApk,r=e.isAppOffline,i=e.isAppCacheNeedUpToDate,a=e.project,s=e.isHighlight,c=e.isHTMLZip,l=e.onPreviewExit,u=e.onShowModal,d=e.onProjectPreviewReload,p=e.onUpdateProjectHighlight,f=a.name,h=a.model,m=a.screens_count,g=a.icon,b=g?"".concat(c?".":"").concat(g):"/images/app_icon.svg"
return Object(o.jsxs)("div",{className:"theContent",children:[Object(o.jsxs)("div",{className:"theHeader",children:[Object(o.jsx)("div",{className:"headerIcon",children:Object(o.jsx)("img",{src:b})}),Object(o.jsxs)("div",{className:"headerTitle",children:[Object(o.jsx)("div",{className:"headerName",children:f}),Object(o.jsx)("div",{className:"headerIntro",children:"".concat(I18N.pPreview.mobileMenu[h]).concat(I18N.pPreview.mobileMenu.project,", ").concat(m).concat(I18N.pPreview.mobileMenu.unitScreen)})]})]
}),Object(o.jsxs)("div",{className:"contentItem",children:[!this.isDemo&&Object(o.jsx)(ce,{className:r?t?"offline-blue":"offline-red":"",name:I18N.pPreview.mobileMenu.download,icon:"preview/menu/download",onClick:u}),Object(o.jsx)(ce,{name:I18N.pPreview.mobileMenu.refresh,icon:"preview/menu/refresh",isAppCacheNeedUpToDate:i,renderName:this.refreshRenderTitle,onClick:d}),Object(o.jsx)(ce,{className:s?t?"highlight-blue":"highlight-red":"",name:I18N.pPreview.mobileMenu.viewLink,icon:"preview/menu/link",
onClick:p}),Object(o.jsx)(ce,{name:I18N.pPreview.mobileMenu.screenList,icon:"preview/menu/list",onClick:this.handleClickScreenSeeting})]}),Object(o.jsx)("div",{className:"line"}),Object(o.jsxs)("div",{className:"contentItem",children:[Object(o.jsx)(ce,{name:I18N.pPreview.mobileMenu.share,icon:"preview/menu/share",onClick:this.handleClickSharingSeeting}),!n&&Object(o.jsx)(ce,{name:I18N.pPreview.mobileMenu.exitPreview,icon:"preview/menu/exit",onClick:l})]})]})}}]),n}(g.PureComponent)
m()(se,"propTypes",{isWonderShare:v.a.bool,isDummyApk:v.a.bool,isHighlight:v.a.bool,isHTMLZip:v.a.bool,isAppOffline:v.a.bool,isAppCacheNeedUpToDate:v.a.bool,project:v.a.object,onPreviewExit:v.a.func,onUpdateSetting:v.a.func,onShowModal:v.a.func,onProjectPreviewReload:v.a.func,onUpdateProjectHighlight:v.a.func})
var ce=Object(g.memo)((function(e){var t=e.icon,n=e.name,r=e.onClick,i=e.renderName,a=e.className
return Object(o.jsxs)("div",{className:z()("menuBlock",a),onClick:r,children:[Object(o.jsx)("div",{className:"menuBlockIcon",children:Object(o.jsx)(P.a,{name:t,className:"blockIcon"})}),Object(o.jsxs)("div",{className:"menuBlockName",children:[i&&i(),Object(o.jsx)("p",{className:"name",children:n||""})]})]})}))
ce.propTypes={className:v.a.string,icon:v.a.string,name:v.a.string,renderName:v.a.func,onClick:v.a.func}
var le=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return s()(this,n),r=t.call(this,e),m()(D()(r),"setElementRef",(function(e){return r.$elem=e})),m()(D()(r),"handleBackPreviewSetting",(function(){r.setState({currentMenuType:""})})),m()(D()(r),"handleClosePreviewSetting",(function(){r.setState({isOpen:!1,currentMenuType:""}),MB.messageBucket.send("closePreviewSettingMenu")})),m()(D()(r),"handleUpdateProjectHighlight",(function(){var e=r.props,t=e.isHighlight;(0,e.dispatch)({type:"entry:preview-setting:update:is-highlight",payload:{isHighlight:!t}}),
MB.messageBucket.send("setDisplayLinkOK",{isHighlight:!t})})),m()(D()(r),"handleProjectPreviewReload",(function(){r.props.isShowOfflineModal||MB.messageBucket.send("refreshPreview")})),m()(D()(r),"handlePreviewExit",(function(){MB.messageBucket.send("exitAppPreview")})),m()(D()(r),"handleUpdateSetting",(function(e){r.setState({currentMenuType:e})})),m()(D()(r),"handleShowModal",(function(){MB.messageBucket.send("toggleOffline")})),m()(D()(r),"onClickOutside",(function(e){var t=e.target
r.$elem.contains(t)||r.handleClosePreviewSetting()})),r.state={isOpen:!1,currentMenuType:""},r}return l()(n,[{key:"componentDidMount",value:function(){var e=this,t=document.querySelector("#workspace"),n=new N.a.Manager(t)
n.add(new N.a.Tap({event:"doubletap",pointers:2})),n.on("doubletap",(function(t){e.setState({isOpen:!0}),MB.messageBucket.send("openPreviewSettingMenu")}))}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.isWonderShare,r=e.isShowOfflineModal,i=e.isHTMLZip,a=e.isOnPremises,s=e.isHighlight,c=e.isAppOffline,l=e.isAppCacheNeedUpToDate,u=e.isDummyApk,d=this.state,p=d.isOpen,f=d.currentMenuType,h="sharing"===f,m="screen"===f,g=""===f
return Object(o.jsxs)(o.Fragment,{children:[p&&Object(o.jsx)(ne,{className:"mask"}),Object(o.jsxs)(re,{className:z()({"is-open":p}),ref:this.setElementRef,children:[g&&Object(o.jsx)(se,{project:t,isWonderShare:n,isHTMLZip:i,isHighlight:s,isAppOffline:c,isDummyApk:u,isAppCacheNeedUpToDate:l,onUpdateSetting:this.handleUpdateSetting,onPreviewExit:this.handlePreviewExit,onProjectPreviewReload:this.handleProjectPreviewReload,onUpdateProjectHighlight:this.handleUpdateProjectHighlight,
onShowModal:this.handleShowModal}),h&&Object(o.jsx)(F,{isOnPremises:a,isWonderShare:n,onBack:this.handleBackPreviewSetting}),m&&Object(o.jsx)(Q,{onBack:this.handleBackPreviewSetting,projectName:t.name,isWonderShare:n}),r&&Object(o.jsx)(de,{}),Object(o.jsx)(ue,{onClose:this.handleClosePreviewSetting}),p&&Object(o.jsx)(ae.a,{target:document,onClick:Object(oe.withOptions)(this.onClickOutside,{capture:!0})})]})]})}}]),n}(g.PureComponent)
m()(le,"propTypes",{isDummyApk:v.a.bool,isHighlight:v.a.bool,isHTMLZip:v.a.bool,isOnPremises:v.a.bool,isAppOffline:v.a.bool,isWonderShare:v.a.bool,isAppCacheNeedUpToDate:v.a.bool,isShowOfflineModal:v.a.bool,project:v.a.object,dispatch:v.a.func})
var ue=Object(g.memo)((function(e){var t=e.onClose
return Object(o.jsx)("div",{className:"theFooter",onClick:t,children:I18N.pPreview.mobileMenu.cancel})}))
ue.propTypes={onClose:v.a.func}
var de=Object(g.memo)((function(){return Object(o.jsx)(ee,{children:Object(o.jsx)(ie,{children:Object(o.jsxs)("div",{className:"progress-box",children:[Object(o.jsx)(te.a,{className:"splash-loading"}),Object(o.jsx)("div",{className:"sliderName",children:I18N.pPreview.mobile_menu_downloading_Project})]})})})}))
de.propTypes={}
var pe=Object(M.createSelector)([i.c,i.u,i.k,i.j,i.n,i.D,i.i,i.l],(function(e,t,n,r,i,o,a,s){return{project:e,isHighlight:i,isHTMLZip:o.isHTMLZip,isOnPremises:a.isOnPremises,isShowOfflineModal:t,isAppOffline:n,isAppCacheNeedUpToDate:r,isDummyApk:s,isWonderShare:a.isWonderShare}})),fe=Object(r.connect)((function(e){return pe(e)}))(le),he=n(204),me=n(11),ge=n.n(me),be=n(14),ve=n.n(be),ye=n(31),xe=n(28),we=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"handleShare",ve()(ge.a.mark((function t(){var n,r,i,o,a,s,c,l,u
return ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!MB.global.experienceLoginModalHelper||!MB.global.experienceLoginModalHelper("isSave")){t.next=2
break}return t.abrupt("return")
case 2:n=e.props,r=n.theme,i=n.isHTMLZip,o=n.isOnPremises,a=n.isWonderShare,s=MB.currentProject,c=MB.getIsInNewGuide&&MB.getIsInNewGuide(),l=!(s.is_org_project||o||c||a),u={isOnPremises:o,isInNewGuide:c,canUploadToSquare:l,isWonderShare:a},MB.global.popupHelper.sharingAsync({theme:r,project:s,isGuestMode:i,onUpdateProject:e.handleUpdateProject,extraInfo:u}),MB.event("preview","工具栏: 点击分享按钮"),MB.event("zhuge",Object(xe.d)()?"Preview_click_share":"LinkPreview_click_share"),MB.event("zhuge","SharePopup_enter",{
From:Object(xe.d)()?"Preview":"Linkpreview"})
case 11:case"end":return t.stop()}}),t)})))),m()(D()(e),"handleUpdateProject",(function(t){MB.currentProject=t,e.forceUpdate()})),e}return l()(n,[{key:"render",value:function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(ye.a,{direction:"down",content:I18N.pPreviewToolbar.share,children:Object(o.jsx)("div",{className:"share-menu-wrapper",children:Object(o.jsx)(P.a,{type:"dora",name:"design/share/new",className:"share-icon",onClick:this.handleShare})})})})}}]),n}(g.PureComponent)
m()(we,"propTypes",{isOnPremises:v.a.bool,isHTMLZip:v.a.bool,isWonderShare:v.a.bool,theme:v.a.string})
var je=we,Se=L.a.div.withConfig({displayName:"styles__StyledFullScreenMode",componentId:"sc-1ozym1e-0"})(["&{height:100%;display:flex;justify-content:center;align-items:center;}.fullscreen{position:relative;display:flex;justify-content:center;font-size:15px;width:28px;height:28px;border-radius:50%;background:",";cursor:pointer;.svg-icon{color:",";}&:hover .svg-icon{color:",";}}"],(function(e){return e.theme.preview.toolbar.fullScreen.bg}),(function(e){return e.theme.preview.toolbar.fullScreen.icon.cr
}),(function(e){return e.theme.preview.toolbar.fullScreen.icon.hover})),_e=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"handleFullScreen",(function(){MB.event("zhuge",Object(xe.d)()?"Preview_enter_FullScreen":"LinkPreview_enter_FullScreen"),MB.event("preview","工具栏: 全屏模式开启"),e.props.dispatch({type:"entry:enter:full-screen-mode"})})),e}return l()(n,[{key:"render",value:function(){return Object(o.jsx)(Se,{children:Object(o.jsx)(ye.a,{direction:"down",content:I18N.pPreviewToolbar.fullscreen,children:Object(o.jsx)("div",{className:"fullscreen-wrapper",
children:Object(o.jsx)("div",{className:"fullscreen",onClick:this.handleFullScreen,children:Object(o.jsx)(P.a,{name:"design/fullscreen"})})})})})}}]),n}(g.PureComponent)
m()(_e,"propTypes",{dispatch:v.a.func})
var Ce=L.a.a.withConfig({displayName:"styles__StyledToolBarItem",componentId:"sc-1imaxnq-0"
})(["display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:44px;color:",';border-top:2px solid transparent;cursor:pointer;&.preview{.svg-icon{width:24px;height:21px;}}&.inspect{.svg-icon{width:20px;height:21px;}}&.comment{.svg-icon{width:22px;height:21px;}}[type="tip"]{margin-top:4px;font-size:12px;white-space:nowrap;color:',";}&.active{background:",";border-top:2px solid ",";.svg-icon{color:",';}[type="tip"]{color:',";}}&:not(.active):hover{color:",";background:",';[type="tip"]{color:',";}}"],(function(e){
return e.theme.preview.toolbar.icon.cr}),(function(e){return e.theme.common.text_6.cr}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.preview.toolbar.item_border}),(function(e){return e.theme.preview.toolbar.icon.active}),(function(e){return e.theme.preview.toolbar.icon.active}),(function(e){return e.theme.common.text_6.hover}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.common.text_6.hover})),Oe=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"handleClick",(function(t){var n=e.props,r=n.type;(0,n.onClick)(r)})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.name,r=e.iconName,i=e.isActive
return Object(o.jsx)(ye.a,{content:n,direction:"down",children:Object(o.jsxs)(Ce,{className:z()({active:i},t,"toolbar-item"),onClick:this.handleClick,children:[Object(o.jsx)(P.a,{name:r}),Object(o.jsx)("span",{type:"tip",children:n})]})})}}]),n}(g.PureComponent)
m()(Oe,"propTypes",{isActive:v.a.bool,iconName:v.a.string,name:v.a.string,type:v.a.string,onClick:v.a.func})
var ke=n(80),Ee=n(57),Me=L.a.header.withConfig({displayName:"styles__StyledPreviewToolbar",componentId:"sc-1bbkeox-0"
})(["&{display:flex;align-items:center;z-index:1000;background:",";height:",";width:100%;box-shadow:1px 0 6px 0 rgba(39,54,78,0.12);padding:0 28px;transition:all 0.3s ease-in-out;color:",";.toolbar-right{font-size:18px;display:flex;align-items:center;justify-content:flex-end;height:100%;.preview-seeting{width:21px;height:22px;}.share-menu-wrapper{display:flex;align-items:center;height:100%;.share-icon{width:16px;height:16px;cursor:pointer;color:",";}&:hover .share-icon{color:",";}}a,.svg-icon{&:active,&.active{cursor:pointer;}}label.Dropdown:not(:global(.is-disabled)){&:hover{.svg-icon{color:#415058;}}}span.share-icon:hover{color:",";}}a{&[disabled]{cursor:not-allowed;color:#c8cdd0 !important;> span{color:#c8cdd0 !important;}}}.back-icon{display:flex;width:44px;height:100%;justify-content:center;align-items:center;margin-left:-28px;margin-right:7px;color:",";font-size:16px;cursor:pointer;transition:all 0.1s linear;&:hover{color:",";background:",";}.svg-icon{height:12px;}}.line{height:20px;width:1px;background:",";margin:0 25px;}.toolbar-left,.toolbar-right{flex-basis:240px;flex-shrink:0;}.toolbar-left{position:relative;display:flex;height:100%;align-items:center;.project-name{width:160px;font-size:14px;color:",";overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}}.toolbar-main{position:relative;height:100%;padding:0 100px;display:flex;justify-content:center;flex:1;}.preview-toolbar-nav{display:flex;height:100%;background:#fff;border-bottom:none;justify-content:space-between;.nav-icon{.svg-icon{width:28px;height:28px;color:#8d9ea7;}&:hover{color:#415058;}}.active .nav-icon,.active .nav-label{color:#f55d54;transition:none;.svg-icon{color:",";}}> li{width:260px;font-size:14px;border-bottom:2px solid transparent;&:not(.active){&:hover{overflow:visible;.icon{color:#415058;}}}}.background-cube{border:none;height:calc(100% + 1px);&::after{content:'';position:absolute;left:18px;bottom:-1px;width:52px;border-top:2px solid #f55d54;}}}.toolbar-main-wrapper{position:relative;display:flex;justify-content:space-around;width:200px;height:100%;}&:not(.hide-text){.toolbar-main{.toolbar-main-wrapper{.toolbar-item{&:lang(en){width:60px;}}}}}&.hide-text{height:44px;.toolbar-main{.toolbar-main-wrapper{span[type=\"tip\"]{display:none;}}}}&.is-fullscreen-mode{position:absolute;opacity:0;pointer-events:none;}}@media only screen and (max-width:985px){.toolbar-left{flex-basis:unset;.project-name{max-width:140px;}}.toolbar-right{flex-basis:140px;label.Dropdown:first-child,span.line:nth-child(2){display:none;}}}"],(function(e){
return e.theme.common.bg.preview_menu_bg}),(function(e){return e.theme.preview.toolbar.height}),(function(e){return e.theme.preview.toolbar.tc}),(function(e){return e.theme.preview.toolbar.icon.cr}),(function(e){return e.theme.preview.toolbar.icon.hover}),(function(e){return e.theme.common.icon_15.hover}),(function(e){return e.theme.toolbar.icon_color.cr}),(function(e){return e.theme.toolbar.icon_color.hover}),(function(e){return e.theme.common.bg.bg_5}),(function(e){return e.theme.preview.toolbar.line_bg
}),(function(e){return e.theme.toolbar.app_name}),(function(e){return e.theme.palette.active_color})),Te=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"handleTabChange",(function(t){(0,e.props.dispatch)({type:"entry:preview:select",payload:{toolbarActiveItem:t}})})),e}return l()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.toolbarActiveItem!==this.props.toolbarActiveItem&&this.props.dispatch({type:"reducer:preview-toolbar:update",payload:{isShowColorPicker:!1,isSelectLayer:!1}})}},{key:"render",value:function(){
var e=this.props,t=e.project,n=e.dispatch,r=e.toolbarActiveItem,i=e.isHTMLZip,a=e.isProjectMain,s=e.isFullScreenMode,c=e.showToolBarText,l=e.theme,u=e.isOnPremises,d=e.isWonderShare
if(!a)return Object(o.jsx)(he.a,{})
var p=t.name||""
return Object(o.jsxs)(Me,{className:z()("preview-toolbar",{"hide-text":!c,"is-fullscreen-mode":s}),children:[Object(o.jsxs)("div",{className:"toolbar-left",children:[Object(xe.d)()&&Object(o.jsx)("a",{className:"back-icon",title:I18N.pPreviewToolbar.back,onClick:De,children:Object(o.jsx)(P.a,{name:"angle_bracket_left"})}),Object(o.jsx)("span",{className:"project-name",children:Object(H.f)(p)})]}),Object(o.jsxs)("div",{className:"toolbar-main",children:[Object(o.jsx)(he.a,{}),Object(o.jsxs)("div",{
className:"toolbar-main-wrapper",children:[Object(o.jsx)(Oe,{type:"preview",name:I18N.pPreviewToolbar.preview,iconName:"design/preview/play",isActive:"preview"===r,onClick:this.handleTabChange}),Object(o.jsx)(Oe,{type:"inspect",name:I18N.pPreviewToolbar.developer_mode,iconName:"design/preview/handoff",isActive:"inspect"===r,onClick:this.handleTabChange}),!i&&Object(o.jsx)(Oe,{type:"comment",name:I18N.pPreviewToolbar.comment,iconName:"design/preview/comment",isActive:"comment"===r,
onClick:this.handleTabChange})]})]}),Object(o.jsxs)("div",{className:"toolbar-right",children:[!i&&Object(o.jsx)(je,{dispatch:n,isHTMLZip:i,theme:l,isOnPremises:u,isWonderShare:d}),!i&&Object(o.jsx)("span",{className:"line"}),Object(o.jsx)(_e,{dispatch:n})]})]})}}]),n}(g.PureComponent)
m()(Te,"propTypes",{project:v.a.object,isOnPremises:v.a.bool,isHTMLZip:v.a.bool,isProjectMain:v.a.bool,isFullScreenMode:v.a.bool,toolbarActiveItem:v.a.string,showToolBarText:v.a.bool,theme:v.a.string,isWonderShare:v.a.bool,dispatch:v.a.func})
var De=function(){Object(xe.d)()&&(MB.action&&MB.action("entry:activate:screen",{screenCid:MB.currentScreen.cid}),MB.backDesign(),MB.action("reducer:flag:update-state",{isInPreview:!1}),Object(ke.a)(12),Object(Ee.c)()&&MB.event("zhuge","Guide_click_Steps",{step:"Back",from:Object(Ee.a)()}),Object(Ee.c)()&&Object(Ee.d)())},Ae=Object(M.createSelector)([i.D,i.y,i.b,i.c,i.r,i.m,i.N,i.i],(function(e,t,n,r,i,o,a,s){return{project:r,isHTMLZip:e.isHTMLZip,isProjectMain:i,isFullScreenMode:o,toolbarActiveItem:n,
showToolBarText:t,theme:a,isOnPremises:s.isOnPremises,isWonderShare:s.isWonderShare}})),Ne=Object(r.connect)((function(e){return Ae(e)}))(Te),Pe=n(4),Ie=n.n(Pe),Le=n(108),Be=n.n(Le),Fe=n(99),Re=n.n(Fe),ze=n(69),Ue=n.n(ze),He=n(399),Ge=n.n(He),Ve=n(36),We=n.n(Ve),Ye=n(401),Ze=n(68),qe=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"state",{formData:{name:"",email:"",pwd:""},submitErrMsg:"",submitted:!1}),m()(D()(e),"handleFormDataChange",(function(t){return function(n){return e.setState({formData:Ie()(Ie()({},e.state.formData),{},m()({},t,n))})}})),m()(D()(e),"handleEmailChange",(function(t){return e.setState({formData:Ie()(Ie()({},e.state.formData),{},{email:t})})})),m()(D()(e),"resetSubmitErrMsg",(function(){return e.setState({submitErrMsg:""})})),
m()(D()(e),"verifyEmail",(function(e){return Ye.a.test(e)})),m()(D()(e),"handleSignUp",(function(){var t=e.props.event,n=e.state.formData,r=n.name,i=n.email,o=n.pwd
if(e.resetSubmitErrMsg(),!e.verifyEmail(i))return e.setState({submitErrMsg:I18N.dModals.verify_email_address})
Object(Ze.b)("/events/sign_up.json",{username:r,email:i,password:o,locale:"zh-CN",event:t.name}).then((function(){return Object(Ze.b)("/sessions.json",{email:i,password:o}).then((function(){return e.setState({submitted:!0})}))}),(function(t){return e.setState({submitErrMsg:t.detail})}))})),e}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.inMobile,n=e.isOpen,r=e.event,i=this.state,a=i.formData,s=a.name,c=a.email,l=a.pwd,u=i.submitErrMsg,d=i.submitted,p=!!s&&!!c&&!!l
return Object(o.jsx)(Be.a,{className:"sign-up-modal ".concat(t?"modal-in-mobile":""),maskClassName:"modal-mask",title:I18N.dModals.register_account,isOpen:n,children:d?Object(o.jsxs)("div",{className:"award-view",children:[Object(o.jsx)("img",{className:"award",src:"/mb-workspace/images/event/award.png"}),Object(o.jsx)("p",{className:"success-tip",children:r.successTip})]}):Object(o.jsxs)("div",{className:"sign-up-view",children:[Object(o.jsx)("p",{className:"event-desc",children:r.desc
}),Object(o.jsxs)("div",{className:"input-entry",children:[Object(o.jsx)(We.a,{className:"icon",type:"mb",name:"user"}),Object(o.jsx)(Re.a,{className:"input",placeholder:I18N.dModals.user_name,defaultValue:s,onChange:this.handleFormDataChange("name")})]}),Object(o.jsxs)("div",{className:"input-entry",children:[Object(o.jsx)(We.a,{className:"icon",type:"mb",name:"mail"}),Object(o.jsx)(Ge.a,{className:"input",placeholder:I18N.dModals.user_email,onChange:this.handleEmailChange})]}),Object(o.jsxs)("div",{
className:"input-entry",children:[Object(o.jsx)(We.a,{className:"icon",type:"mb",name:"lock"}),Object(o.jsx)(Re.a,{className:"input",placeholder:I18N.dModals.user_password,type:"password",defaultValue:l,onChange:this.handleFormDataChange("pwd")})]}),!!u&&Object(o.jsx)("p",{className:"error-msg",children:"* ".concat(u)}),Object(o.jsx)(Ue.a,{className:"primary-button",type:"primary",isDisabled:!p,onClick:this.handleSignUp,children:I18N.dModals.sign_up}),Object(o.jsxs)("p",{className:"agree-terms",
children:[I18N.dModals.click_register_meant_agree,Object(o.jsx)("a",{href:"/tos",target:"_blank",children:I18N.dModals.terms_of_service})]})]})})}}]),n}(g.PureComponent)
qe.propTypes={event:v.a.object,isOpen:v.a.bool,inMobile:v.a.bool}
var Xe=n(40),Je=function(e){d()(n,e)
var t=f()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.event,r=e.loggedIn,i=e.inMobile,a=e.dispatch
return Object(o.jsx)("div",{children:t&&!r&&Object(o.jsx)(qe,{inMobile:i,event:n,isOpen:t,onClose:function(){return a("event-sign-up:close:modal")}})})}}]),n}(g.PureComponent)
Je.propTypes={open:v.a.bool,inMobile:v.a.bool,event:v.a.object,loggedIn:v.a.bool,dispatch:v.a.func}
var Ke=Object(r.connect)((function(e){return Ie()(Ie()({},e.container.eventSignUpModal),{},{loggedIn:!!e.model.user.id,inMobile:Object(Xe.j)()})}))(Je),Qe=n(286),$e=function(e){var t=e.layout
return e.isShow?Object(o.jsxs)(et,{className:t,href:"/",target:"_blank",children:[Object(o.jsx)("img",{className:"zh",src:"/mb-workspace/images/preview/watermark_zh.svg",alt:I18N.pPreview.powered_by_modao}),Object(o.jsx)("img",{className:"en",src:"/mb-workspace/images/preview/watermark_en.svg",alt:I18N.pPreview.powered_by_modao})]}):null}
$e.propTypes={isShow:v.a.bool,layout:v.a.string}
var et=L.a.a.withConfig({displayName:"WaterMark__StyledWaterMark",componentId:"pgy9fr-0"})(["position:fixed;bottom:10px;z-index:1000;&.classic{left:10px;}&.recommend{right:10px;}:lang(zh) .en,:lang(en) .zh{display:none;}"]),tt=Object(r.connect)((function(e){var t=Object(i.A)(e),n=Object(i.c)(e),r="ai@mockingbot.com"===n.owner_email,o=MB.user.id!==n.owner_id&&n.expired
return{isShow:r||o,layout:t}}))($e),nt=n(32),rt=n(27),it=function(){var e=Object(g.useState)("true"!==Object(rt.b)("close_client_load_tip")),t=x()(e,2),n=t[0],r=t[1]
if(!n)return null
var i=I18N.pPreview.client_load_a,a=I18N.pPreview.client_load_tip
return Object(o.jsxs)("div",{className:"download-client-tip",children:[Object(o.jsx)(We.a,{type:"fa",name:"info-circle",className:"download-client-tip-icon"}),Object(o.jsxs)("span",{className:"download-text",children:[Object(o.jsx)("a",{href:nt.a.MB_LINK.DOWNLOAD_CLIENT,rel:"noopener noreferrer",target:"_blank",children:i})," ",a]}),Object(o.jsx)(We.a,{type:"dora",name:"times_fc",className:"download-client-close-icon",onClick:function(){r(!1),Object(rt.e)("close_client_load_tip","true")}})]})
},ot=Object(g.memo)(it),at=n(249),st=n.n(at),ct=function(e){d()(n,e)
var t=f()(n)
function n(){var e
s()(this,n)
for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
return e=t.call.apply(t,[this].concat(i)),m()(D()(e),"state",{isOpen:!0}),e}return l()(n,[{key:"componentDidMount",value:function(){var e=this
setTimeout((function(){e.setState({isOpen:!1}),Object(rt.e)(ut,!0)}),4e3)}},{key:"render",value:function(){var e=this.state.isOpen
return Object(o.jsx)(st.a,{className:"commercial-font-tip",isOpen:e,noCloseBtn:!0,guide:I18N.pPreview.commercial_font_tip_preview,X:"center",Y:"top"})}}]),n}(g.Component)
function lt(e){return Object(rt.b)(ut)?null:Object(o.jsx)(ct,Ie()({},e))}var ut="commercialFontTipShownInPreview",dt=n(142),pt=n(53),ft=L.a.div.withConfig({displayName:"styles__StyledApp",componentId:"b1c1rf-0"
})(["&{width:100%;height:100%;display:flex;flex-direction:column;background:",";.preview-content-container{position:relative;flex:1;display:flex;overflow:hidden;}&.full-screen{#preview_scrollBar_viewport{transition:opacity 0.5s ease-in-out;top:52px;}#simulator-container,#preview_scrollBar_viewport,#mb-preview-leftpane{top:52px;}}.download-client-tip{display:flex;justify-content:space-around;align-items:center;position:absolute;left:50%;bottom:26px;transform:translate(-50%);padding:0 12px 0 10px;height:34px;border-radius:22px;background:#fff;box-shadow:0 -2px 30px 0 rgba(39,54,78,0.11);.download-text{color:#415058;margin:0 10px;}span{color:#415058;a{color:",";}}.download-client-tip-icon{font-size:22px;color:",";}.download-client-close-icon{cursor:pointer;color:#c8cdd0;&:hover{color:#8d9ea7;}}}.marign-top-20{margin-top:20px;}&.is-offline-mode{.screen-actions .viewmode,.download-client-tip{display:none;}.event-gift{display:none;}.preview-sub-toolbar{.mode{min-width:initial;.picker{display:none;}}.param{margin-left:0;}}}&.is-uichina{header{background:transparent;.toolbar-main{order:1;flex:unset;flex-basis:240px;.toolbar-main-wrapper{display:none;flex:unset;}}.toolbar-left{flex:1;order:2;justify-content:center;.project-name{text-align:center;margin-left:0;}}.toolbar-right{order:3;}}}@media only screen and (max-width:985px){&.is-uichina{header{.toolbar-main{flex-basis:140px;padding:0;}}}}}"],(function(e){
return e.theme.preview.bg}),(function(e){return e.theme.preview.panel.footer_client_cr}),(function(e){return e.theme.preview.comment.layer.select_border})),ht=function(e){d()(n,e)
var t=f()(n)
function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"componentDidMount",value:function(){var e=function(){var e=j.find((function(e){return(0,e.checker)()}))
return e?e.info:null}()
if(e){var t={open:!0,event:e}
this.props.dispatch({type:"event-sign-up:set:event",payload:t})}}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"entry:preview:clear"})}},{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.previewOptions,n=e.previewSetting,r=e.dispatch,i=e.isWonderShare,a=t.isMobile,s=t.isEmbedV1,c=t.isHTMLZip,l=t.isUIChina,u=t.isForum,d=t.isElectron
if(a||s){var p=n.appVeresion,f=Boolean(p)
return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(E.a,{}),Object(o.jsx)(Ke,{}),f&&Object(o.jsx)(fe,{})]})}var h=n.toolbarActiveItem,m=n.isFullScreenMode,g=h===pt.c,b=h===pt.b,v=!d&&!c&&b,y=l||g,x=z()("preview-app",{"is-offline-mode":c,"is-uichina":l||u,"full-screen":m})
return Object(o.jsxs)(ft,{className:x,onContextMenu:this.preventDefault,children:[Object(o.jsx)(Ne,{}),m&&Object(o.jsx)(Qe.a,{}),Object(o.jsxs)("div",{id:"preview-content-container",className:"preview-content-container",children:[Object(o.jsx)(_.a,{}),Object(o.jsx)(k.a,{}),Object(o.jsx)(O.a,{}),Object(o.jsx)(C.a,{})]}),y&&Object(o.jsx)(tt,{}),v&&Object(o.jsx)(ot,{isWonderShare:i}),g&&Object(o.jsx)(lt,{}),Object(o.jsx)(Ke,{}),Object(o.jsx)(S.a,{dispatch:r}),Object(o.jsx)(dt.b,{})]})}}]),n}(g.PureComponent)
m()(ht,"propTypes",{previewOptions:v.a.object,previewSetting:v.a.object,dispatch:v.a.func,isWonderShare:v.a.bool})
t.a=Object(r.connect)((function(e){var t=Object(i.E)(e)
return{previewOptions:Object(i.D)(e),previewSetting:t,isWonderShare:Object(i.i)(e).isWonderShare}}))(ht)},function(e,t,n){"use strict"
n.d(t,"a",(function(){return I}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(8),l=n.n(c),u=n(9),d=n.n(u),p=n(5),f=n.n(p),h=n(1),m=n.n(h),g=n(4),b=n.n(g),v=n(22),y=n.n(v),x=n(3),w=n.n(x),j=n(2),S=n.n(j),_=n(58),C=function(e,t){if(Object(_.b)(e,t))return{top:e.top-t.top,right:t.left+t.width-(e.left+e.width),bottom:t.top+t.height-(e.top+e.height),left:e.left-t.left}
var n={},r=function(e,t){var n=[],r=Object(_.d)(e,t)
if(r.width<e.width+t.width)n[0]=null
else{var i=r.width-(e.width+t.width),o=t.left>e.left
n[0]=o?i:-i}if(r.height<e.height+t.height)n[1]=null
else{var a=r.height-(e.height+t.height),s=t.top>e.top
n[1]=s?a:-a}return n}(e,t)
return r[0]>0?n.right=r[0]:r[0]<0&&(n.left=Math.abs(r[0])),r[1]>0?n.bottom=r[1]:r[1]<0&&(n.top=Math.abs(r[1])),n},O=function(e){return"".concat(100*e,"%")},k=function(e){l()(n,e)
var t=d()(n)
function n(){var e
o()(this,n)
for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),S()(w()(e),"getDistanceMarksStyle",(function(e,t){return{top:O(e.top/t.height),left:O(e.left/t.width),width:O(e.width/t.width),height:O(e.height/t.height)}})),S()(w()(e),"mapDistanceMarks",(function(t,n){var i,o=y()(t,2),a=o[0],s=o[1],c=e.props,l=c.style,u=c.renderValue,d=c.isWonderShare,p=l.showStartAndEndBoundary,h=l.colorForLines,m=l.colorForText,g=l.backgroundColorForText,v=l.dashed,x=e.getMarkStyle(a,s),w=Math.abs(s)
return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"distance-line ".concat(a),style:b()(b()({},x.line),{},(i={},S()(i,["top","bottom"].includes(a)?"borderLeftStyle":"borderTopStyle",v?"dashed":"solid"),S()(i,"borderColor",d?h[1]:h[0]),i))}),u?u({value:w,style:x.value,customClassName:"distance-value ".concat(a)}):Object(r.jsx)("span",{className:"distance-value ".concat(a),style:b()(b()({},x.value),{},{color:m,backgroundColor:g}),children:w}),p&&Object(r.jsxs)(f.a.Fragment,{
children:[Object(r.jsx)("div",{className:"distance-mark-start-boundary ".concat(a),style:{borderColor:h}}),Object(r.jsx)("div",{className:"distance-mark-end-boundary ".concat(a),style:b()(b()({},x.endBoundary),{},{borderColor:h})})]})]},"".concat(n,"-").concat(s))})),S()(w()(e),"getMarkStyle",(function(t,n){var r,i=e.props.baseRect,o={line:{},value:{},endBoundary:{}},a=["right","left"],s=a.includes(t)?n/i.width:n/i.height
return o.line=(r={},S()(r,t,n<0?0:O(-s)),S()(r,a.includes(t)?"width":"height",O(Math.abs(s))),r),o.endBoundary=S()({},t,O(-s)),o.value=S()({},a.includes(t)?"left":"top",["right","bottom"].includes(t)?O(1+s/2):O(-s/2)),o})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.baseRect,n=e.refRect,i=e.screen,o=C(t,n),a=this.getDistanceMarksStyle(t,i)
return Object(r.jsx)("div",{className:"distance-marks",style:a,children:Object.entries(o).map(this.mapDistanceMarks)})}}]),n}(p.PureComponent)
S()(k,"propTypes",{baseRect:m.a.object,refRect:m.a.object,screen:m.a.object,style:m.a.object,renderValue:m.a.func,isWonderShare:m.a.bool})
var E=function(e){var t=e.refRect,n=e.screen,i=e.style,o=i.dashed,a=i.colorForLines
return Object(r.jsx)("div",{style:{position:"absolute",pointerEvents:"none",width:O(t.width/n.width),height:O(t.height/n.height),left:O(t.left/n.width),top:O(t.top/n.height),border:"1px ".concat(o?"dashed":"solid"," ").concat(a)}})}
E.propTypes={refRect:m.a.object,screen:m.a.object,style:m.a.object}
var M=E,T=function(e){l()(n,e)
var t=d()(n)
function n(){var e
o()(this,n)
for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s]
return e=t.call.apply(t,[this].concat(a)),S()(w()(e),"genLines",(function(t,n){var i=e.props,o=i.style,a=i.isWonderShare,s=[]
return t.top>0&&s.push(Object(r.jsx)("div",{className:"line top",style:{width:O(t.left/n.width),borderTopStyle:"".concat(o.dashed?"dashed":"solid"),borderTopColor:a?o.colorForLines[1]:o.colorForLines[0],top:O(t.top/n.height)}},"top")),t.left+t.width<n.width&&s.push(Object(r.jsx)("div",{className:"line right",style:{borderLeftStyle:"".concat(o.dashed?"dashed":"solid"),borderLeftColor:a?o.colorForLines[1]:o.colorForLines[0],left:O((t.left+t.width)/n.width)}},"right")),
t.top+t.height<n.height&&s.push(Object(r.jsx)("div",{className:"line bottom",style:{borderTopStyle:"".concat(o.dashed?"dashed":"solid"),borderTopColor:a?o.colorForLines[1]:o.colorForLines[0],width:O(t.left/n.width),top:O((t.top+t.height)/n.height)}},"bottom")),t.left>0&&s.push(Object(r.jsx)("div",{className:"line left",style:{borderLeftStyle:"".concat(o.dashed?"dashed":"solid"),borderLeftColor:a?o.colorForLines[1]:o.colorForLines[0],left:O(t.left/n.width)}},"left")),s})),e}return s()(n,[{key:"render",
value:function(){var e=this.props,t=e.refRect,n=e.screen
return Object(r.jsx)("div",{className:"verbose-auxiliary-lines",children:this.genLines(t,n)})}}]),n}(f.a.Component)
T.propTypes={refRect:m.a.object,screen:m.a.object,style:m.a.object,isWonderShare:m.a.bool}
var D=function(e){l()(n,e)
var t=d()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),S()(w()(e),"getAuxiliaryLinesStyle",(function(e,t){return{top:O(e.top/t.height),left:O(e.left/t.width),width:O(e.width/t.width),height:O(e.height/t.height)}})),S()(w()(e),"getAuxiliaryLinesLength",(function(){var t={},n=e.props,r=n.baseRect,i=n.refRect,o=Object(_.d)(r,i),a=o.width-i.width
o.height-(r.height+i.height)>0&&a>r.width/2&&(t.horizontal=a)
var s=o.height-i.height
return o.width-(r.width+i.width)>0&&s>r.height/2&&(t.vertical=s),t})),S()(w()(e),"getLineStyle",(function(t,n){var r=e.props,i=r.baseRect,o=r.refRect,a=i.left>o.left,s=i.top>o.top,c={}
if(t){var l,u=t/o.width
c.horizontal=(l={},S()(l,s?"bottom":"top",0),S()(l,a?"right":"left",O(-u)),S()(l,"width",O(u)),l)}if(n){var d,p=n/o.height
c.vertical=(d={},S()(d,a?"right":"left",0),S()(d,s?"bottom":"top",O(-p)),S()(d,"height",O(p)),d)}return c})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.refRect,n=e.screen,i=e.style,o=this.getAuxiliaryLinesLength(),a=o.horizontal,s=o.vertical
if(!a&&!s)return null
var c=this.getAuxiliaryLinesStyle(t,n),l=this.getLineStyle(a,s)
return Object(r.jsxs)("div",{className:"smart-auxiliary-lines",style:c,children:[a&&Object(r.jsx)("div",{className:"line horizontal",style:b()(b()({},l.horizontal),{},{borderTopStyle:"".concat(i.dashed?"dashed":"solid"),borderTopColor:i.colorForLines})}),s&&Object(r.jsx)("div",{className:"line vertical",style:b()(b()({},l.vertical),{},{borderLeftStyle:"".concat(i.dashed?"dashed":"solid"),borderLeftColor:i.colorForLines})})]})}}]),n}(f.a.Component)
D.propTypes={baseRect:m.a.object,refRect:m.a.object,screen:m.a.object,style:m.a.object}
var A=n(10),N=n.n(A).a.div.withConfig({displayName:"styles__StyledDistanceMeasurement",componentId:"u3ofv4-0"
})(["width:100%;height:100%;pointer-events:none;.distance-marks{position:absolute;pointer-events:none;.distance-line{position:absolute;width:1px;height:1px;&.top,&.bottom{left:50%;border-left:1px solid black;}&.left,&.right{top:50%;border-top:1px solid black;}}.distance-value{position:absolute;&.top,&.bottom{left:calc(50% + 6px);transform:translateY(-50%);}&.left,&.right{top:calc(50% - 6px);transform:translate(-50%,-100%);}}.distance-mark-start-boundary{&.top{top:0;}&.right{right:0;}&.bottom{bottom:0;}&.left{left:0;}}.distance-mark-start-boundary,.distance-mark-end-boundary{position:absolute;&.top,&.bottom{left:50%;transform:translateX(-4px);width:9px;height:1px;border-top:1px solid black;}&.left,&.right{top:50%;transform:translateY(-4px);width:1px;height:9px;border-left:1px solid black;}}}.smart-auxiliary-lines{position:absolute;pointer-events:none;.line{position:absolute;width:1px;height:1px;&.horizontal{border-top:1px solid black;}&.vertical{border-left:1px solid black;}}}.verbose-auxiliary-lines{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;.line{position:absolute;&.top,&.bottom{width:100%;height:1px;border-top:1px solid black;}&.bottom{transform:translateY(-1px);}&.left,&.right{width:1px;height:100%;border-left:1px solid black;}&.right{transform:translateX(-1px);}}}"]),P={
design:{distanceMarks:{showStartAndEndBoundary:!1,dashed:!1,colorForLines:["#eb5648","#eb5648"],colorForText:"#eb5648"},refRectBorder:{dashed:!1,colorForLines:"#eb5648"},verboseAuxiliaryLines:!1,auxiliaryLines:{dashed:!0,colorForLines:["#eb5648","#eb5648"]}},preview:{distanceMarks:{showStartAndEndBoundary:!0,dashed:!0,colorForLines:["#ff7100","#FF3333"]},refRectBorder:{dashed:!0,colorForLines:"#1e98ea"},verboseAuxiliaryLines:!0,auxiliaryLines:{dashed:!0,colorForLines:["#1e98ea","#4257FF"]}}},I=function(e){
l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"shouldComponentUpdate",value:function(e){return!(Object(_.c)(e.baseRect,this.props.baseRect)&&Object(_.c)(e.refRect,this.props.refRect)&&Object(_.c)(e.screen,this.props.screen)&&e.theme===this.props.theme)}},{key:"render",value:function(){var e=this.props,t=e.baseRect,n=e.refRect,i=e.screen,o=e.theme,a=e.renderValue,s=e.isWonderShare,c=P[o].verboseAuxiliaryLines
return Object(r.jsxs)(N,{className:"distance-measurement-container",children:[Object(r.jsx)(k,{baseRect:t,refRect:n,screen:i,style:P[o].distanceMarks,renderValue:a,isWonderShare:s}),c?Object(r.jsx)(T,{refRect:n,screen:i,style:P[o].auxiliaryLines,isWonderShare:s}):Object(r.jsx)(D,{baseRect:t,refRect:n,screen:i,style:P[o].auxiliaryLines}),Object(r.jsx)(M,{refRect:n,screen:i,style:P[o].refRectBorder})]})}}]),n}(f.a.Component)
I.propTypes={baseRect:m.a.object,refRect:m.a.object,screen:m.a.object,theme:m.a.string,renderValue:m.a.func,isWonderShare:m.a.bool}},function(e,t,n){"use strict"
n.d(t,"a",(function(){return I}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(217),x=n(4),w=n.n(x),j=n(13),S=n.n(j),_=n(162),C=n(31),O=n(10),k=n.n(O),E=n(48),M=k.a.li.withConfig({displayName:"styles__StyledThumbnail",componentId:"sc-5y2qzq-0"
})(["display:flex;flex-direction:column;justify-content:space-between;align-items:center;width:90px;position:relative;margin-right:10px;margin-bottom:10px;cursor:pointer;.image-wrapper{width:100%;height:93px;padding:2px;background-color:",";border:",";border-radius:2px;display:flex;justify-content:center;align-items:center;transition:all 0.2s ease-out;img{max-width:100%;max-height:100%;pointer-events:none;}.actions{display:none;position:absolute;z-index:1;top:4px;right:4px;height:24px;justify-content:space-around;align-items:center;&.is-hover{display:flex;}}&:hover,&.hover{border-width:2px;border-color:",";padding:1px;.actions{display:flex;}}}.screen-name{height:26px;max-width:100%;line-height:26px;",";}&.select,&.active{.image-wrapper{border-width:1px;border:",";padding:2px;box-shadow:0 0 1px 0 rgba(34,162,237,0.66);}}&.select{.screen-name{color:inherit;}}&.active{.screen-name{color:",";}}&:not(.active):not(.select):hover .image-wrapper{border:",";}"],(function(e){
return e.theme.thumbnail.bg}),(function(e){return e.theme.thumbnail.imgWrap.border.cr}),(function(e){return e.theme.common.border.border_blue}),E.e,(function(e){return e.theme.thumbnail.imgWrap.border.active}),(function(e){return e.theme.palette.panel_bg_blue}),(function(e){return e.theme.thumbnail.imgWrap.border.hover})),T=n(30),D=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),m()(l()(r),"setElementRef",(function(e){return r.$elem=e})),m()(l()(r),"updateIsVisible",(function(){r.setState({isVisible:r.isInBoundingClientRect()})})),m()(l()(r),"handleClick",(function(e){e.stopPropagation()
var t=r.props,n=t.screenMeta;(0,t.thumbnailActionProps.onClick)(e,n)})),m()(l()(r),"handleDown",(function(e){e.stopPropagation()
var t=r.props,n=t.screenMeta,i=t.thumbnailActionProps.onContextMenu
2===e.button&&i&&i(e,n)})),m()(l()(r),"onShowTipsByTarget",(function(e,t){var n=t.querySelector(".screen-name")
return n.offsetWidth<n.scrollWidth})),m()(l()(r),"handleHover",(function(e){r.setState({hoverCid:e})})),r.state={isVisible:!1,hoverCid:""},r}return s()(n,[{key:"componentDidMount",value:function(){this.props.containerRect&&this.updateIsVisible()}},{key:"componentDidUpdate",value:function(e,t){var n=this.isInBoundingClientRect()
if(!e.containerRect&&this.props.isActive&&!n){var r=this.$elem.getBoundingClientRect()
this.props.onScrollIntoView(r)}this.updateIsVisible()}},{key:"isInBoundingClientRect",value:function(){var e=this.props.containerRect
if(!e||!this.$elem)return!1
var t=this.$elem.getBoundingClientRect()
return t.bottom>e.top&&t.top<e.bottom}},{key:"render",value:function(){var e=this.props,t=e.screenMeta,n=e.isEditing,i=e.isActive,o=e.isSelect,a=e.renderScreenMetaItem,s=a.renderItem,c=a.renderSpan,l=void 0===c?A:c,u=e.screenTimestampMap,d=e.designOptions,p=e.experienceSnapshotUrlMap,f=this.state,h=f.hoverCid,m=f.isVisible,g=t.cid,b=t.project_meta_cid,v=h===g,y=u[g],x=!d.isDesign&&p.get(g)
return Object(r.jsx)(C.b,{content:t.name,direction:"bottom",onMouseEvent:"onClick",isShowTipsByTarget:this.onShowTipsByTarget,children:Object(r.jsxs)(M,{className:S()("thumbnail-item",{active:i,select:o}),onClick:this.handleClick,onMouseDown:this.handleDown,children:[Object(r.jsxs)("div",{ref:this.setElementRef,className:S()("image-wrapper",{hover:v}),children:[s&&s(t,this.handleHover),x?Object(r.jsx)("img",{src:x}):Object(r.jsx)(_.a,w()({},{screenMetaCid:g,projectMetaCid:b,screenStateCid:T.a,isVisible:m,
cacheTag:y}))]}),l(t,n)]})})}}]),n}(v.PureComponent)
m()(D,"propTypes",{isSelect:b.a.bool,isActive:b.a.bool,isEditing:b.a.bool,screenMeta:b.a.object,containerRect:b.a.object,screenTimestampMap:b.a.object,thumbnailActionProps:b.a.object,designOptions:b.a.object,experienceSnapshotUrlMap:b.a.object,renderScreenMetaItem:b.a.object,onScrollIntoView:b.a.func}),m()(D,"defaultProps",{renderScreenMetaItem:{}})
var A=function(e){return Object(r.jsx)("span",{className:"screen-name",children:e.name})},N=n(29),P=k.a.div.withConfig({displayName:"styles__StyledThumbnailList",componentId:"sc-1pag365-0"})(["width:100%;height:100%;overflow-x:hidden;overflow-y:auto;.thumbnail-list{display:flex;flex-wrap:wrap;width:calc(100% + 15px);color:",";}"],(function(e){return e.theme.common.text_15.cr})),I=function(e){d()(n,e)
var t=f()(n)
function n(e){var r
return o()(this,n),r=t.call(this,e),m()(l()(r),"setContainerRef",(function(e){return r.$container=e})),m()(l()(r),"updateContainerRect",(function(){return r.setState({containerRect:r.$container.getBoundingClientRect()})})),m()(l()(r),"handleScroll",(function(){return r.updateContainerRect()})),m()(l()(r),"handleResize",(function(){return r.updateContainerRect()})),m()(l()(r),"handleScrollIntoView",(function(e){var t=r.state.containerRect
r.$container.scrollTop+=e.top-t.top})),r.state={containerRect:null},r}return s()(n,[{key:"componentDidMount",value:function(){this.updateContainerRect()}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeScreenMetaCid,i=t.editingScreenMetaCid,o=t.screenMetaList,a=t.screenSelection,s=t.thumbnailActionProps,c=t.screenTimestampMap,l=t.designOptions,u=t.experienceSnapshotUrlMap,d=t.renderScreenMetaItem,p=this.state.containerRect
return Object(r.jsxs)(P,{ref:this.setContainerRef,onScroll:this.handleScroll,children:[Object(r.jsx)("ol",{className:"thumbnail-list",children:o.map((function(t){if(Object(N.a)(t))return null
var o=t.cid,f=o===i,h=o===n
return Object(r.jsx)(D,{screenMeta:t,isEditing:f,isActive:h,isSelect:a.includes(t.cid),containerRect:p,screenTimestampMap:c,experienceSnapshotUrlMap:u,designOptions:l,thumbnailActionProps:s,renderScreenMetaItem:d,onScrollIntoView:e.handleScrollIntoView},t.cid)}))}),Object(r.jsx)(y.a,{onResize:this.handleResize})]})}}]),n}(v.PureComponent)
m()(I,"propTypes",{screenMetaList:b.a.array,editingScreenMetaCid:b.a.string,activeScreenMetaCid:b.a.string,thumbnailActionProps:b.a.object,screenSelection:b.a.array,screenTimestampMap:b.a.object,designOptions:b.a.object,experienceSnapshotUrlMap:b.a.object,renderScreenMetaItem:b.a.object}),m()(I,"defaultProps",{screenTimestampMap:{},designOptions:{isDesign:!0},experienceSnapshotUrlMap:new Map,screenSelection:[]})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(10),x=n.n(y).a.div.withConfig({displayName:"styles__StyledScrollBar",componentId:"sc-104cnhq-0"
})(["position:absolute;top:",";left:",";right:0;bottom:0;z-index:4;pointer-events:none;.track{position:absolute;background:",";pointer-events:auto;.handler{position:absolute;cursor:pointer;.thumb{position:absolute;pointer-events:none;border-radius:4px;transition:background 0.2s ease-in-out;}}}.x-track{left:0;right:11px;bottom:0;height:12px;.handler{bottom:2px;height:10px;.thumb{bottom:0;width:100%;height:6px;background:",";}}}.y-track{top:0;bottom:11px;right:0;width:12px;.handler{right:2px;width:10px;.thumb{right:0;height:100%;width:6px;background:",";}}}.x-track .handler:hover .thumb{background:",";}.y-track .handler:hover .thumb{background:",";}"],"17px","17px",(function(e){
return e.theme.scrollbar.track.bg}),(function(e){return e.theme.scrollbar.thumb.x_bg}),(function(e){return e.theme.scrollbar.thumb.y_bg}),(function(e){return e.theme.scrollbar.thumb.x_hover_bg}),(function(e){return e.theme.scrollbar.thumb.y_hover_bg})),w=function(e){d()(n,e)
var t=f()(n)
function n(){var e
return o()(this,n),e=t.call(this),m()(l()(e),"handleScroll",(function(t){t.stopPropagation()
var n=t.target.dataset.axis,r=t.clientX,i=t.clientY,o=e.props,a=o.canvasOffset,s=a.x,c=a.y,l=o.viewportHeight,u=o.viewportWidth,d=o.canvasRange,p=o.onScroll,f="x"===n?u:l,h=function(e){var t=e.clientY,o=e.clientX,a="x"===n?o-r:t-i
a=a/(f-f/d[n]*f)*d[n],p("x"===n?{x:s-a,y:c}:{x:s,y:c-a})}
document.addEventListener("mousemove",h),document.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",e)}))})),m()(l()(e),"handleClickTrack",(function(t){var n=t.target.dataset.axis,r=t.clientX,i=t.clientY,o=e.props,a=o.onScroll,s=o.canvasRange,c=o.viewportHeight,l=o.viewportWidth,u=e.scrollbarX.getBoundingClientRect(),d=u.top,p=u.bottom,f=u.left,h=u.right,m="x"===n?e.scrollbarX:e.scrollbarY,g="x"===n?l:c,b=function(){
var t=m.getBoundingClientRect(),o=t.top,c=t.bottom,l=t.left,u=t.right,d=e.props.canvasOffset,p=d.x,f=d.y,h="x"===n?r>u:i>c,b="x"===n?r<l:i<o,v=(b?-1:h?1:0)*Math.min(s[n]/10,g);(h||b)&&a("x"===n?{x:p-v,y:f}:{x:p,y:f-v})};(("x"===n?r>h:i>p)||("x"===n?r<f:i<d))&&(m.style.transition="all 0.1s linear",b(),e.timer=setTimeout((function(){return e.timeInterval=setInterval(b,100)}),500))
document.addEventListener("mouseup",(function t(n){m.style.transition="",clearTimeout(e.timer),clearInterval(e.timeInterval),document.removeEventListener("mouseup",t)}))})),e.setRefY=function(t){return e.scrollbarY=t},e.setRefX=function(t){return e.scrollbarX=t},e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.canvasOffset,i=n.x,o=n.y,a=e.canvasRange,s=e.viewportWidth,c=e.viewportHeight,l=e.showRuler,u=s/a.x,d=(a.x/2-i)*(a.x-s)/(a.x*a.x)
d=Math.min(Math.max(d,0),(a.x-s)/a.x)
var p=c/a.y,f=(a.y/2-o)*(a.y-c)/(a.y*a.y)
f=Math.min(Math.max(f,0),(a.y-c)/a.y)
var h={width:"".concat(100*u,"%"),left:"".concat(100*d,"%")},m={height:"".concat(100*p,"%"),top:"".concat(100*f,"%")},g=l?null:{left:0},b=l?null:{top:0}
return Object(r.jsxs)(x,{className:t,children:[Object(r.jsx)("div",{"data-axis":"x",className:"track x-track",style:g,onMouseDown:this.handleClickTrack,children:Object(r.jsx)("div",{ref:this.setRefX,className:"handler","data-axis":"x",onMouseDown:this.handleScroll,style:h,children:Object(r.jsx)("div",{className:"thumb"})})}),Object(r.jsx)("div",{"data-axis":"y",className:"track y-track",style:b,onMouseDown:this.handleClickTrack,children:Object(r.jsx)("div",{ref:this.setRefY,className:"handler y-handler",
"data-axis":"y",onMouseDown:this.handleScroll,style:m,children:Object(r.jsx)("div",{className:"thumb"})})})]})}}]),n}(v.PureComponent)
m()(w,"propTypes",{className:b.a.string,canvasOffset:b.a.object,canvasRange:b.a.object,viewportWidth:b.a.number,viewportHeight:b.a.number,showRuler:b.a.bool,onScroll:b.a.func}),m()(w,"defaultProps",{showRuler:!1})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return _}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(3),l=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),h=n(2),m=n.n(h),g=n(1),b=n.n(g),v=n(5),y=n(10),x=n.n(y).a.div.withConfig({displayName:"styles__StyledImageExportCanvas",componentId:"sc-1skqwpp-0"})(["position:fixed;top:-2000px;left:-2000px;border:1px solid;pointer-events:none;"]),w=n(97),j=n(75),S=n(177),_=function(e){d()(n,e)
var t=f()(n)
function n(){var e
o()(this,n)
for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a]
return e=t.call.apply(t,[this].concat(i)),m()(l()(e),"download",(function(t){var n=t.width,r=t.height,i=t.ro,o=t.cid,a=t.image_rect,s=a.ro,c=a.width,l=a.height,u=e.getWidgetBoundingRect(t),d=document.getElementById("imageCanvas-".concat(o))
d.width=u.width,d.height=u.height
var p=d.getContext("2d")
p.save()
var f=e.getWidgetTopLeftPoint(t),h=f.x-u.left,m=f.y-u.top
if("circular"!==t.clip_type){p.translate(h+n/2,m+r/2)
var g=i*Math.PI/180
p.rotate(g)
var b=Object(j.h)({widget:t,ratio:1,offset:{left:-n/2-u.left-h,top:-r/2-u.top-m}}).rectPath,v=new Path2D(b)
p.fill(v)}else p.beginPath(),p.arc(n/2,r/2,n/2,0,2*Math.PI),p.fill()
p.restore(),p.globalCompositeOperation="source-in"
var y=Object(j.i)(t)
p.globalAlpha=t.o/100,"transparent"!==y&&(p.save(),p.fillStyle=y,p.fillRect(0,0,u.width,u.height),p.restore(),p.globalCompositeOperation="source-atop")
var x=new Image,w=e.getImageOffset(t,u)
x.onload=function(){p.save(),"transparent"!==y&&(p.globalAlpha=1),p.translate(w.x+c/2,w.y+l/2)
var e=s*Math.PI/180
p.rotate(e),p.drawImage(x,-c/2,-l/2,c,l),p.restore()
var n="image/png",r=d.toDataURL(n),i=document.createElement("a")
i.download=t.display_name,i.href=r,i.dataset.downloadurl=[n,i.download,i.href].join(":"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},x.src=t.image,x.setAttribute("crossorigin","anonymous")})),m()(l()(e),"onExport",(function(){var t=e.props,n=t.exportImageList;(0,t.onCheck)()||n.forEach((function(t){e.download(t)}))})),m()(l()(e),"getWidgetTopLeftPoint",(function(e){return{x:e.left,y:e.top}})),m()(l()(e),"getImageOffset",(function(e,t){
var n=e.image_rect,r=n.center_x,i=n.center_y,o=n.width,a=i-n.height/2
return{x:r-o/2-t.left,y:a-t.top}})),m()(l()(e),"getWidgetBoundingRect",(function(e){var t=e.width,n=e.height,r={x:e.left+t/2,y:e.top+n/2}
return Object(w.b)(r.x,r.y,t,n,e.ro)})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.exportImageList,n=e.isLogin,i=e.isMultiSelect
return 0===t.length?null:Object(r.jsxs)("div",{className:"svg-icon-export",children:[Object(r.jsx)(x,{children:t.map((function(e){var t=e.cid
return Object(r.jsx)("canvas",{id:"imageCanvas-".concat(t)},t)}))}),Object(r.jsx)(S.b,{}),Object(r.jsx)(S.a,{children:Object(r.jsx)("a",{onClick:this.onExport,children:n?i?I18N.ImageExport.download_selected_picture:I18N.ImageExport.download_current_picture:I18N.ImageExport.download_after_login})})]})}}]),n}(v.PureComponent)
m()(_,"propTypes",{isMultiSelect:b.a.bool,isLogin:b.a.bool,exportImageList:b.a.array,onCheck:b.a.func})},function(e,t,n){"use strict"
n.d(t,"a",(function(){return w}))
var r=n(0),i=n(7),o=n.n(i),a=n(6),s=n.n(a),c=n(8),l=n.n(c),u=n(9),d=n.n(u),p=n(2),f=n.n(p),h=n(1),m=n.n(h),g=n(5),b=n(15),v=n(31),y=n(10),x=n.n(y).a.div.withConfig({displayName:"styles__StyledFoldButton",componentId:"sc-6pp9zd-0"})(["display:flex;align-items:center;justify-content:center;font-size:14px;cursor:pointer;"]),w=function(e){l()(n,e)
var t=d()(n)
function n(){return o()(this,n),t.apply(this,arguments)}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.hasFoldedScreen,i=e.onClick
return Object(r.jsx)(v.b,{content:n?I18N.ScreenList.expand_screens:I18N.ScreenList.collapse_screens,direction:"up",children:Object(r.jsx)(x,{className:t,onClick:i,children:Object(r.jsx)(b.a,{name:n?"design/expand":"design/fold"})})})}}]),n}(g.PureComponent)
f()(w,"propTypes",{className:m.a.string,hasFoldedScreen:m.a.bool,onClick:m.a.func})},,,,,,,,,,function(e,t,n){"use strict"
var r=n(456)
e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){"use strict"
e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0
return!1}},,function(e,t,n){"use strict"
e.exports=function(e){var t=null==e?0:e.length
return t?e[t-1]:void 0}},,,,,,,,,,,,,,,function(e,t,n){"use strict"
var r=n(246),i=n(275)
e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},function(e,t,n){"use strict"
e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(687),o=n(690),a=n(247),s=n(72),c=n(694)
e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==(0,r.default)(e)?s(e)?o(e[0],e[1]):i(e):c(e)}},function(e,t,n){"use strict"
var r=n(100)
e.exports=function(e){return e==e&&!r(e)}},function(e,t,n){"use strict"
e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){"use strict"
var r=n(698)
e.exports=function(e){var t=r(e),n=t%1
return t==t?n?t-n:t:0}},function(e,t,n){"use strict"
var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n))
return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]))
return t.join("")}}}
e.exports=r},,function(e,t,n){"use strict"
var r=n(679),i=n(684)((function(e,t,n){r(e,t,n)}))
e.exports=i},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(83).compose
t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"===(0,r.default)(arguments[0])?i:i.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict"
var r=n(516)
e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){"use strict"
e.exports=function(e){var t={begin:/([*]\s?)?(?:[A-Z_.\-\\]+|--[a-zA-Z0-9_-]+)\s*(\/\*\*\/)?:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{
className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]}
return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*"},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9_+()"'.-]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{
className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:/\{/,end:/\}/,illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,{begin:/;/},t]}]}}},function(e,t,n){"use strict"
e.exports=function(e){var t="([\\w-]+|@\\{[\\w-]+\\})",n=[],r=[],i=function(e){return{className:"string",begin:"~?"+e+".*?"+e}},o=function(e,t,n){return{className:e,begin:t,relevance:n}},a={begin:"\\(",end:"\\)",contains:r,relevance:0}
r.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,i("'"),i('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},o("number","#[0-9A-Fa-f]+\\b"),a,o("variable","@@?[\\w-]+",10),o("variable","@\\{[\\w-]+\\}"),o("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},{className:"meta",begin:"!important"})
var s=r.concat({begin:/\{/,end:/\}/,contains:n}),c={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(r)},l={begin:t+"\\s*:",returnBegin:!0,end:"[;}]",relevance:0,contains:[{className:"attribute",begin:t,end:":",excludeEnd:!0,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:r}}]},u={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",returnEnd:!0,contains:r,
relevance:0}},d={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:s}},p={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:t,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,c,o("keyword","all\\b"),o("variable","@\\{[\\w-]+\\}"),o("selector-tag",t+"%?",0),o("selector-id","#"+t),o("selector-class","\\."+t,0),o("selector-tag","&",0),{
className:"selector-attr",begin:"\\[",end:"\\]"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9_\-+()"'.]+/},{begin:"\\(",end:"\\)",contains:s},{begin:"!important"}]}
return n.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,u,d,l,p),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:n}}},function(e,t,n){"use strict"
e.exports=function(e){var t={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b"},n={className:"number",begin:"#[0-9A-Fa-f]+"}
return e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"selector-attr",begin:"\\[",end:"\\]",illegal:"$"},{className:"selector-tag",
begin:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",
relevance:0},{className:"selector-pseudo",begin:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{className:"selector-pseudo",
begin:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},t,{className:"attribute",
begin:"\\b(src|z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background-blend-mode|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",
illegal:"[^\\s]"},{
begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"
},{begin:":",end:";",contains:[t,n,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"meta",begin:"!important"}]},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",returnBegin:!0,keywords:"and or not only",contains:[{begin:"@[a-z-]+",className:"keyword"},t,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n,e.CSS_NUMBER_MODE]}]}}},function(e,t,n){"use strict"
e.exports=function(e){var t={className:"variable",begin:"\\$"+e.IDENT_RE},n={className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"}
return{name:"Stylus",aliases:["styl"],case_insensitive:!1,keywords:"if else for in",illegal:"("+["\\?","(\\bReturn\\b)","(\\bEnd\\b)","(\\bend\\b)","(\\bdef\\b)",";","#\\s","\\*\\s","===\\s","\\|","%"].join("|")+")",contains:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{begin:"\\.[a-zA-Z][a-zA-Z0-9_-]*(?=[.\\s\\n[:,])",className:"selector-class"},{begin:"#[a-zA-Z][a-zA-Z0-9_-]*(?=[.\\s\\n[:,])",className:"selector-id"},{
begin:"\\b("+["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"].join("|")+")(?=[.\\s\\n[:,])",
className:"selector-tag"},{begin:"&?:?:\\b("+["after","before","first-letter","first-line","active","first-child","focus","hover","lang","link","visited"].join("|")+")(?=[.\\s\\n[:,])"},{begin:"@("+["charset","css","debug","extend","font-face","for","import","include","media","mixin","page","warn","while"].join("|")+")\\b"},t,e.CSS_NUMBER_MODE,e.NUMBER_MODE,{className:"function",begin:"^[a-zA-Z][a-zA-Z0-9_-]*\\(.*\\)",illegal:"[\\n]",returnBegin:!0,contains:[{className:"title",
begin:"\\b[a-zA-Z][a-zA-Z0-9_-]*"},{className:"params",begin:/\(/,end:/\)/,contains:[n,t,e.APOS_STRING_MODE,e.CSS_NUMBER_MODE,e.NUMBER_MODE,e.QUOTE_STRING_MODE]}]},{className:"attribute",
begin:"\\b("+["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-ligatures","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse().join("|")+")\\b",
starts:{end:/;|$/,contains:[n,t,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE,e.NUMBER_MODE,e.C_BLOCK_COMMENT_MODE],illegal:/\./,relevance:0}}]}}},function(e,t,n){"use strict"
var r=n(17),i=r(n(23)),o=r(n(26))
function a(e){return e?"string"==typeof e?e:e.source:null}function s(e){return c("(?=",e,")")}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r=t.map((function(e){return a(e)})).join("")
return r}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var r="("+t.map((function(e){return a(e)})).join("|")+")"
return r}var u=function(e){return c(/\b/,e,/\w$/.test(e)?/\b/:/\B/)
},d=["Protocol","Type"].map(u),p=["init","self"].map(u),f=["Any","Self"],h=["associatedtype",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","do","dynamic","else","enum","extension","fallthrough","fileprivate(set)","fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout","internal(set)","internal","in","is","lazy","let","mutating","nonmutating","open(set)","open","operator","optional","override","postfix","precedencegroup","prefix","private(set)","private","protocol","public(set)","public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias","unowned(safe)","unowned(unsafe)","unowned","var","weak","where","while","willSet"],m=["false","nil","true"],g=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],b=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],v=l(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),y=l(v,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),x=c(v,y,"*"),w=l(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFFFD]/),j=l(w,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),S=c(w,j,"*"),_=c(/[A-Z]/,j,"*"),C=["autoclosure",c(/convention\(/,l("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",c(/objc\(/,S,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","testable","UIApplicationMain","unknown","usableFromInline"],O=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"]
e.exports=function(e){var t=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n={className:"keyword",begin:c(/\./,s(l.apply(void 0,(0,o.default)(d).concat((0,o.default)(p))))),end:l.apply(void 0,(0,o.default)(d).concat((0,o.default)(p))),excludeBegin:!0},r={begin:c(/\./,l.apply(void 0,h)),relevance:0},a=h.filter((function(e){return"string"==typeof e})).concat(["_|0"]),v=h.filter((function(e){return"string"!=typeof e})).concat(f).map(u),w={variants:[{className:"keyword",begin:l.apply(void 0,(0,
o.default)(v).concat((0,o.default)(p)))}]},k={$pattern:l(/\b\w+(\(\w+\))?/,/#\w+/),keyword:a.concat(g).join(" "),literal:m.join(" ")},E=[n,r,w],M=[{begin:c(/\./,l.apply(void 0,b)),relevance:0},{className:"built_in",begin:c(/\b/,l.apply(void 0,b),/(?=\()/)}],T={begin:/->/,relevance:0},D=[T,{className:"operator",relevance:0,variants:[{begin:x},{begin:"\\.(\\.|".concat(y,")+")}]}],A={className:"number",relevance:0,variants:[{
begin:"\\b(".concat("([0-9]_*)+",")(\\.(").concat("([0-9]_*)+","))?")+"([eE][+-]?(".concat("([0-9]_*)+","))?\\b")},{begin:"\\b0x(".concat("([0-9a-fA-F]_*)+",")(\\.(").concat("([0-9a-fA-F]_*)+","))?")+"([pP][+-]?(".concat("([0-9]_*)+","))?\\b")},{begin:/\b0o([0-7]_*)+\b/},{begin:/\b0b([01]_*)+\b/}]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{className:"subst",variants:[{begin:c(/\\/,e,/[0\\tnr"']/)},{begin:c(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{className:"subst",begin:c(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{className:"subst",label:"interpol",begin:c(/\\/,e,/\(/),end:/\)/}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{begin:c(e,/"""/),end:c(/"""/,e),contains:[N(e),P(e),I(e)]}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
return{begin:c(e,/"/),end:c(/"/,e),contains:[N(e),I(e)]}},F={className:"string",variants:[L(),L("#"),L("##"),L("###"),B(),B("#"),B("##"),B("###")]},R=[{begin:c(/`/,S,/`/)},{className:"variable",begin:/\$\d+/},{className:"variable",begin:"\\$".concat(j,"+")}],z=[{begin:/(@|#)available\(/,end:/\)/,keywords:{$pattern:/[@#]?\w+/,keyword:O.concat(["@available","#available"]).join(" ")},contains:[].concat(D,[A,F])},{className:"keyword",begin:c(/@/,l.apply(void 0,C))},{className:"meta",begin:c(/@/,S)}],U={
begin:s(/\b[A-Z]/),relevance:0,contains:[{className:"type",begin:c(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,j,"+")},{className:"type",begin:_,relevance:0},{begin:/[?!]+/,relevance:0},{begin:/\.\.\./,relevance:0},{begin:c(/\s+&\s+/,s(_)),relevance:0}]},H={begin:/</,end:/>/,keywords:k,contains:[].concat(E,z,[T,U])}
U.contains.push(H)
var G,V=(0,i.default)(F.variants)
try{for(V.s();!(G=V.n()).done;){var W=G.value.contains.find((function(e){return"interpol"===e.label}))
W.keywords=k
var Y=[].concat(E,M,D,[A,F],R)
W.contains=[].concat((0,o.default)(Y),[{begin:/\(/,end:/\)/,contains:["self"].concat((0,o.default)(Y))}])}}catch(e){V.e(e)}finally{V.f()}return{name:"Swift",keywords:k,contains:[e.C_LINE_COMMENT_MODE,t,{className:"function",beginKeywords:"func",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{begin:/</,end:/>/},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:k,contains:["self"].concat(E,[A,F,e.C_BLOCK_COMMENT_MODE,{begin:":"}]),illegal:/["']/}],
illegal:/\[|%/},{className:"class",beginKeywords:"struct protocol class extension enum",end:"\\{",excludeEnd:!0,keywords:k,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})].concat(E)},{beginKeywords:"import",end:/$/,contains:[e.C_LINE_COMMENT_MODE,t],relevance:0}].concat(E,M,D,[A,F],R,z,[U])}}},function(e,t,n){"use strict"
function r(e){return e?"string"==typeof e?e:e.source:null}function i(e){return o("(?=",e,")")}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var i=t.map((function(e){return r(e)})).join("")
return i}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
var i="("+t.map((function(e){return r(e)})).join("|")+")"
return i}e.exports=function(e){var t=o(/[A-Z_]/,o("(",/[A-Z0-9_.-]+:/,")?"),/[A-Z0-9_.-]*/),n={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"meta-keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(r,{begin:/\(/,end:/\)/}),c=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[A-Za-z0-9._:-]+/,
relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]}
return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,l,c,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,s,l,c]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{
name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:o(/</,i(o(t,a(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:u}]},{className:"tag",begin:o(/<\//,i(o(t,/>/))),contains:[{className:"name",begin:t,
relevance:0},{begin:/>/,relevance:0}]}]}}},function(e,t,n){"use strict"
var r=n(17),i=n(63)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var o=i(n(5)),a=r(n(1)),s=r(n(38)),c=r(n(59)),l=n(35)
function u(){var e=function(e,t){t||(t=e.slice(0))
return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))
}(["\n  &.Textarea,\n  &.CoreTextarea,\n  &.Input,\n  &.CoreInput {\n    display: inline-block;\n    color: #415058;\n\n    input,\n    textarea {\n      font-size: inherit;\n      color: inherit;\n      &:disabled {\n        opacity: 0.5;\n        cursor: not-allowed;\n      }\n      &[readonly] {\n        color: #8d9ea7;\n      }\n      &:focus {\n        outline: 0;\n      }\n      &::placeholder {\n        color: #8d9ea7;\n      }\n    }\n  }\n  &.is-invalid input,\n  &.is-invalid textarea,\n  & input:not([type=email]):invalid,\n  & textarea:invalid {\n    border-color: #ff6161 !important;\n    box-shadow: 0 0 6px 0 rgba(#ff6161, .5) !important;\n  }\n  &:not(.unstyled) {\n    input,\n    textarea {\n      background-color: #f6f7f8;\n      border: 1px solid #f2f2f3;\n      border-radius: 2px;\n      caret-color: #298df8;\n      transition: 0.2s ease-out;\n      transition-property: background, border, box-shadow, opacity;\n      &:enabled:not([readonly]){\n        :hover {\n          border-color: #298df8;\n        }\n        :focus {\n          background-color: #fff;\n          border-color: #298df8;\n          box-shadow: 0 0 6px 0 rgba(41, 141, 248, .5);\n        }\n      }\n    }\n  }\n  &.is-readonly {\n    color: #8d9ea7;\n  }\n  &.Input,\n  &.CoreInput{\n    &.regular {\n      height: 34px;\n      font-size: 14px;\n    }\n    &.small {\n      height: 22px;\n      font-size: 12px;\n    }\n    input {\n      padding: 0 .5em;\n      width: 100%;\n      height: 100%;\n    }\n  }\n  &.Textarea,\n  &.CoreTextarea{\n    &.regular {\n      font-size: 14px;\n    }\n    &.small {\n      font-size: 12px;\n    }\n    textarea {\n    padding: .5em;\n    width: 100%;\n    min-height: 5em;\n    max-height: 10em;\n    resize: vertical;\n    &:disabled,\n    &[readonly] {\n      resize: none;\n    }\n    }\n  }\n  &.CoreInput:not(.unstyled) input,\n  &.CoreTextarea:not(.unstyled) textarea {\n    background-color: #fff;\n    border-color: #c8cdd1;\n  }\n  &.InputEmail, &.CoreInputEmail{\n    &:not(.unstyled).isnt-valid input {\n      box-shadow: 0 0 6px 0 rgba(255, 97, 97, .5) !important;\n      border-color: #ff6161 !important;\n    }\n  }\n"])
return u=function(){return e},e}var d=r(n(10)).default.label(u())
function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]
for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()
return function(){var n,r=x(e)
if(t){var i=x(this).constructor
n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments)
return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){return/^@/.test(e)||/@\./.test(e)||/\s+[\w@]/.test(e)||/@\w*\.\w*/.test(e)||/@\w*@/.test(e)},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e)
var t,n,r,i=b(a)
function a(){var e
h(this,a)
for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]
return w(y(e=i.call.apply(i,[this].concat(n))),"state",{prevProps:e.props,value:e.props.value,isActive:!1,isValid:!0,isFinishedTyping:j(e.props.value)}),w(y(e),"onChange",(function(t){var n=t.target.value
e.setState({value:n,isFinishedTyping:j(n)},(function(){var r=e.props.onChange
e.checkValidity(),r(n.trim(),t)}))})),w(y(e),"checkValidity",(function(){var t=e.state,n=t.value,r=t.isFinishedTyping,i=""===n||!r||l.EMAIL_REGEX.test(n)
e.setState({isValid:i})})),w(y(e),"setActive",(function(){return e.setState({isActive:!0})})),w(y(e),"setInactive",(function(){return e.setState({isActive:!1})})),w(y(e),"onClickOutside",(function(t){t.target.closest("label")||e.setInactive()})),e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps
return t.value,(0,c.default)(n,e)?null:{prevProps:e,value:e.value}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=e.size,r=e.theme,i=e.unstyled,a=e.readOnly,c=e.placeholder,u=e.onFocus,p=this.state,h=p.value,m=p.isActive,g=p.isValid,b=this.props.isDisabled||this.props.disabled,v=(0,l.trimList)(["core"===r?"CoreInput CoreInputEmail":"Input InputEmail",n,i&&"unstyled",t,m&&!b&&!a&&"is-active",b&&"is-disabled",a&&"is-readonly",g?"is-valid":"isnt-valid"])
return o.default.createElement(d,{className:v,onMouseDown:this.setActive},o.default.createElement("input",f({type:"email",value:h,placeholder:c,disabled:b,readOnly:a,onChange:this.onChange,onFocus:u},(0,l.getOtherProps)(this.constructor,this.props))),m&&o.default.createElement(s.default,{target:document,onClick:this.onClickOutside}))}}])&&m(t.prototype,n),r&&m(t,r),a}(o.PureComponent)
w(S,"propTypes",{size:a.default.oneOf(["regular","small"]),theme:a.default.oneOf(["core","plain"]),unstyled:a.default.bool,value:a.default.oneOfType([a.default.string,a.default.number]),placeholder:a.default.oneOfType([a.default.string,a.default.number]),isDisabled:a.default.bool,disabled:a.default.bool,readOnly:a.default.bool,onChange:a.default.func.isRequired,onFocus:a.default.func,className:a.default.string}),w(S,"defaultProps",{size:"regular",theme:"plain",unstyled:!1,value:"",placeholder:"",
isDisabled:!1,disabled:!1,readOnly:!1,onChange:function(){return null}})
var _=S
t.default=_},,,,,,,,,,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(277)),o=r(n(159)),a=r(n(141)),s=(r(n(1)),r(n(412))),c=r(n(414)),l=r(n(5)),u=r(n(227)),d=(n(295),function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,c.default)(e,t)}))}),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]
t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter"
t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter"
t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0]
t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0]
t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0]
t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e]
return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,a.default)(t,e)
var n=t.prototype
return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName
"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,s.default)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done
this.appliedClasses[t]={},r&&d(e,r),i&&d(e,i),o&&d(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.default)(e,["classNames"]))
return l.default.createElement(u.default,(0,i.default)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.default.Component)
p.defaultProps={classNames:""},p.propTypes={}
var f=p
t.default=f},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}
var i=r(n(413))},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}},function(e,t,n){"use strict"
function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
var i=r(n(159)),o=r(n(141)),a=(r(n(1)),r(n(5))),s=r(n(37)),c=r(n(296)),l=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r]
return t.handleLifecycle("onExited",1,n)},t}(0,o.default)(t,e)
var n=t.prototype
return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=a.default.Children.toArray(i)[t]
if(o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]){var c=o.props.nodeRef?void 0:s.default.findDOMNode(this)
this.props[e](c)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=(0,i.default)(e,["children","in"]),o=a.default.Children.toArray(t),s=o[0],l=o[1]
return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,a.default.createElement(c.default,r,n?a.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(a.default.Component)
l.propTypes={}
var u=l
t.default=u},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),c=o(t,s)
return Object.keys(c).forEach((function(i){var o=c[i]
if((0,r.isValidElement)(o)){var l=i in t,u=i in s,d=t[i],p=(0,r.isValidElement)(d)&&!d.props.in
!u||l&&!p?u||!l||p?u&&l&&(0,r.isValidElement)(d)&&(c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):c[i]=(0,r.cloneElement)(o,{in:!1}):c[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),c}
var r=n(5)
function i(e,t){var n=Object.create(null)
return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{}
var r,i=Object.create(null),o=[]
for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a)
var s={}
for(var c in t){if(i[c])for(r=0;r<i[c].length;r++){var l=i[c][r]
s[i[c][r]]=n(l)}s[c]=n(c)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r])
return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.modes=void 0
var i,o,a=r(n(141)),s=r(n(5)),c=(r(n(1)),n(227)),l=r(n(228))
var u={out:"out-in",in:"in-out"}
t.modes=u
var d=function(e,t,n){return function(){var r
e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},p=((i={})[u.out]=function(e){var t=e.current,n=e.changeState
return s.default.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){n(c.ENTERING,null)}))})},i[u.in]=function(e){var t=e.current,n=e.changeState,r=e.children
return[t,s.default.cloneElement(r,{in:!0,onEntered:d(r,"onEntered",(function(){n(c.ENTERING)}))})]},i),f=((o={})[u.out]=function(e){var t=e.children,n=e.changeState
return s.default.cloneElement(t,{in:!0,onEntered:d(t,"onEntered",(function(){n(c.ENTERED,s.default.cloneElement(t,{in:!0}))}))})},o[u.in]=function(e){var t=e.current,n=e.children,r=e.changeState
return[s.default.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){r(c.ENTERED,s.default.cloneElement(n,{in:!0}))}))}),s.default.cloneElement(n,{in:!0})]},o),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
return(t=e.call.apply(e,[this].concat(r))||this).state={status:c.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,a.default)(t,e)
var n=t.prototype
return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===c.ENTERING&&e.mode===u.in?{status:c.ENTERING}:!t.current||(n=t.current,r=e.children,n===r||s.default.isValidElement(n)&&s.default.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:s.default.cloneElement(e.children,{in:!0})}:{status:c.EXITING}
var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,o=i.status,a=i.current,u={children:n,current:a,changeState:this.changeState,status:o}
switch(o){case c.ENTERING:e=f[r](u)
break
case c.EXITING:e=p[r](u)
break
case c.ENTERED:e=a}return s.default.createElement(l.default.Provider,{value:{isMounting:!this.appeared}},e)},t}(s.default.Component)
h.propTypes={},h.defaultProps={mode:u.out}
var m=h
t.default=m},,function(e,t,n){!function(t){var n,r={},i={16:!1,18:!1,17:!1,91:!1},o="all",a={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220,numpad_subtract:109,numpad_add:107,numpad_0:96,numpad_1:97,numpad_2:98
},c=function(e){return s[e]||e.toUpperCase().charCodeAt(0)},l=[]
for(n=1;n<20;n++)s["f"+n]=111+n
function u(e,t){for(var n=e.length;n--;)if(e[n]===t)return n
return-1}function d(e,t){if(e.length!=t.length)return!1
for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1
return!0}var p={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"}
function f(e){for(n in i)i[n]=e[p[n]]}function h(e,t,n){var i,o
i=g(e),void 0===n&&(n=t,t="all")
for(var a=0;a<i.length;a++)o=[],(e=i[a].split("+")).length>1&&(o=b(e),e=[e[e.length-1]]),e=e[0],(e=c(e))in r||(r[e]=[]),r[e].push({shortcut:i[a],scope:t,method:n,key:i[a],mods:o})}for(n in a)h[n]=!1
function m(){return o||"all"}function g(e){var t
return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function b(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=a[t[n]]
return t}function v(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){n(window.event)}))}v(document,"keydown",(function(e){!function(e){var t,n,o,s,c,d
if(t=e.keyCode,-1==u(l,t)&&l.push(t),93!=t&&224!=t||(t=91),t in i)for(o in i[t]=!0,a)a[o]==t&&(h[o]=!0)
else if(f(e),h.filter.call(this,e)&&t in r)for(d=m(),s=0;s<r[t].length;s++)if((n=r[t][s]).scope==d||"all"==n.scope){for(o in c=n.mods.length>0,i)(!i[o]&&u(n.mods,+o)>-1||i[o]&&-1==u(n.mods,+o))&&(c=!1);(0!=n.mods.length||i[16]||i[18]||i[17]||i[91])&&!c||!1===n.method(e,n)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),v(document,"keyup",(function(e){var t,n=e.keyCode,r=u(l,n)
if(r>=0&&l.splice(r,1),93!=n&&224!=n||(n=91),n in i)for(t in i[n]=!1,a)a[t]==n&&(h[t]=!1)})),v(window,"focus",(function(){for(n in i)i[n]=!1
for(n in a)h[n]=!1}))
var y=t.key
t.key=h,t.key.setScope=function(e){o=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,n,i
for(t in r)for(n=r[t],i=0;i<n.length;)n[i].scope===e?n.splice(i,1):i++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName
return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=c(e)),-1!=u(l,e)},t.key.getPressedKeyCodes=function(){return l.slice(0)},t.key.noConflict=function(){var e=t.key
return t.key=y,e},t.key.unbind=function(e,t){var n,i,o,a,s,l=[]
for(n=g(e),a=0;a<n.length;a++){if((i=n[a].split("+")).length>1&&(l=b(i)),e=i[i.length-1],e=c(e),void 0===t&&(t=m()),!r[e])return
for(o=0;o<r[e].length;o++)(s=r[e][o]).scope===t&&d(s.mods,l)&&(r[e][o]={})}},e.exports=h}(window)},function(e,t,n){"use strict"
var r=n(421),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[]
return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}))
e.exports=a},function(e,t,n){"use strict"
var r=n(422)
e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache
return t}},function(e,t,n){"use strict"
var r=n(510)
function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function")
var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache
if(o.has(i))return o.get(i)
var a=e.apply(this,r)
return n.cache=o.set(i,a)||o,a}
return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){"use strict"
var r=n(224),i=n(209),o=n(72),a=n(189),s=r?r.prototype:void 0,c=s?s.toString:void 0
e.exports=function e(t){if("string"==typeof t)return t
if(o(t))return i(t,e)+""
if(a(t))return c?c.call(t):""
var n=t+""
return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){"use strict"
var r=n(209),i=n(425),o=n(443),a=n(188),s=n(131),c=n(446),l=n(447),u=n(300),d=l((function(e,t){var n={}
if(null==e)return n
var l=!1
t=r(t,(function(t){return t=a(t,e),l||(l=t.length>1),t})),s(e,u(e),n),l&&(n=i(n,7,c))
for(var d=t.length;d--;)o(n,t[d])
return n}))
e.exports=d},function(e,t,n){"use strict"
var r=n(292),i=n(426),o=n(297),a=n(427),s=n(428),c=n(337),l=n(338),u=n(431),d=n(432),p=n(528),f=n(300),h=n(265),m=n(433),g=n(434),b=n(340),v=n(72),y=n(361),x=n(439),w=n(100),j=n(441),S=n(225),_=n(160),C={}
C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,
C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,O,k,E,M){var T,D=1&n,A=2&n,N=4&n
if(O&&(T=E?O(t,k,E,M):O(t)),void 0!==T)return T
if(!w(t))return t
var P=v(t)
if(P){if(T=m(t),!D)return l(t,T)}else{var I=h(t),L="[object Function]"==I||"[object GeneratorFunction]"==I
if(y(t))return c(t,D)
if("[object Object]"==I||"[object Arguments]"==I||L&&!E){if(T=A||L?{}:b(t),!D)return A?d(t,s(T,t)):u(t,a(T,t))}else{if(!C[I])return E?t:{}
T=g(t,I,D)}}M||(M=new r)
var B=M.get(t)
if(B)return B
M.set(t,T),j(t)?t.forEach((function(r){T.add(e(r,n,O,r,t,M))})):x(t)&&t.forEach((function(r,i){T.set(i,e(r,n,O,i,t,M))}))
var F=P?void 0:(N?A?f:p:A?_:S)(t)
return i(F||t,(function(r,i){F&&(r=t[i=r]),o(T,i,e(r,n,O,i,t,M))})),T}},function(e,t,n){"use strict"
e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){"use strict"
var r=n(131),i=n(225)
e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){"use strict"
var r=n(131),i=n(160)
e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){"use strict"
var r=n(100),i=n(363),o=n(430),a=Object.prototype.hasOwnProperty
e.exports=function(e){if(!r(e))return o(e)
var t=i(e),n=[]
for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s)
return n}},function(e,t,n){"use strict"
e.exports=function(e){var t=[]
if(null!=e)for(var n in Object(e))t.push(n)
return t}},function(e,t,n){"use strict"
var r=n(131),i=n(360)
e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){"use strict"
var r=n(131),i=n(299)
e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){"use strict"
var r=Object.prototype.hasOwnProperty
e.exports=function(e){var t=e.length,n=new e.constructor(t)
return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t,n){"use strict"
var r=n(230),i=n(435),o=n(436),a=n(437),s=n(339)
e.exports=function(e,t,n){var c=e.constructor
switch(t){case"[object ArrayBuffer]":return r(e)
case"[object Boolean]":case"[object Date]":return new c(+e)
case"[object DataView]":return i(e,n)
case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n)
case"[object Map]":return new c
case"[object Number]":case"[object String]":return new c(e)
case"[object RegExp]":return o(e)
case"[object Set]":return new c
case"[object Symbol]":return a(e)}}},function(e,t,n){"use strict"
var r=n(230)
e.exports=function(e,t){var n=t?r(e.buffer):e.buffer
return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t,n){"use strict"
var r=/\w*$/
e.exports=function(e){var t=new e.constructor(e.source,r.exec(e))
return t.lastIndex=e.lastIndex,t}},function(e,t,n){"use strict"
var r=n(224),i=r?r.prototype:void 0,o=i?i.valueOf:void 0
e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){"use strict"
var r=n(100),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{}
if(i)return i(t)
e.prototype=t
var n=new e
return e.prototype=void 0,n}}()
e.exports=o},function(e,t,n){"use strict"
var r=n(440),i=n(276),o=n(362),a=o&&o.isMap,s=a?i(a):r
e.exports=s},function(e,t,n){"use strict"
var r=n(265),i=n(112)
e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){"use strict"
var r=n(442),i=n(276),o=n(362),a=o&&o.isSet,s=a?i(a):r
e.exports=s},function(e,t,n){"use strict"
var r=n(265),i=n(112)
e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){"use strict"
var r=n(188),i=n(367),o=n(444),a=n(168)
e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},function(e,t,n){"use strict"
var r=n(244),i=n(445)
e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},function(e,t,n){"use strict"
e.exports=function(e,t,n){var r=-1,i=e.length
t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0
for(var o=Array(i);++r<i;)o[r]=e[r+t]
return o}},function(e,t,n){"use strict"
var r=n(245)
e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){"use strict"
var r=n(448),i=n(301),o=n(302)
e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){"use strict"
var r=n(341)
e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){"use strict"
var r=n(224),i=n(293),o=n(72),a=r?r.isConcatSpreadable:void 0
e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){"use strict"
e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t)
case 1:return e.call(t,n[0])
case 2:return e.call(t,n[0],n[1])
case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){"use strict"
var r=n(452),i=n(298),o=n(247),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o
e.exports=a},function(e,t,n){"use strict"
e.exports=function(e){return function(){return e}}},function(e,t,n){"use strict"
var r=Date.now
e.exports=function(e){var t=0,n=0
return function(){var i=r(),o=16-(i-n)
if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0
return e.apply(void 0,arguments)}}},,,function(e,t,n){"use strict"
var r=n(342),i=n(457),o=n(458)
e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t,n){"use strict"
e.exports=function(e){return e!=e}},function(e,t,n){"use strict"
e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r
return-1}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createDummyAutoSaver=void 0
var i=r(n(11)),o=r(n(14)),a=n(137),s=n(231)
t.createDummyAutoSaver=function(e){var t=e.name,n=void 0===t?"saver:dummy":t,r=e.onSaverError,c=e.beforeSave,l=e.afterSave,u=e.autoSaveDelay
console.warn("!!! using DummyAutoSaver !!!")
var d,p=[],f=(0,s.createSaver)({name:n,doSave:(d=(0,o.default)(i.default.mark((function e(t){var n
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p,p=[],console.log("[Dummy|doSave] drop ".concat(n.length," and wait 1000ms")),t({dummy:"start",savingQueue:n}),e.next=6,(0,a.setTimeoutAsync)(1e3)
case 6:t({dummy:"end",savingQueue:n}),console.log("[Dummy|doSave] wait end"),0===p.length&&w()
case 9:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)}),onSaverError:r,beforeSave:c,afterSave:l,autoSaveDelay:u}),h=f.getIsSaving,m=f.getSavingState,g=f.getSavingPromise,b=f.getIsActive,v=f.getAutoSaveDelay,y=f.setAutoSaveDelay,x=f.startTimer,w=f.stopTimer,j=f.triggerSave
return{name:n,getState:function(){return{name:n,isActive:b(),isEmpty:0===p.length&&!h(),isSaving:h(),pendingLength:p.length,savingState:m(),autoSaveDelay:v()}},getSavingPromise:g,afterCurrentSave:function(e){return g().then(e)},setAutoSaveDelay:y,startTimer:x,stopTimer:w,triggerSave:j,add:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
console.log("[Dummy|add]",t),p.push(t),x()}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createRailsFetchAutoSaver=void 0
var i=r(n(22)),o=r(n(11)),a=r(n(14)),s=n(88),c=n(231),l=n(305),u=window.fetch
t.createRailsFetchAutoSaver=function(e){var t=e.urlRailsFetchBatchSave,n=e.onSaveChunkErrorAsync,r=e.name,d=void 0===r?"saver:rails-fetch":r,p=e.onSaverError,f=e.beforeSave,h=e.afterSave,m=e.autoSaveDelay
if(!t)throw new Error("expect urlRailsFetchBatchSave")
if(!n)throw new Error("expect onSaveChunkErrorAsync()")
var g,b,v=(0,l.createSaveChunkWithRetry)({type:"save:rails-fetch",saveChunkAsync:(g=(0,a.default)(o.default.mark((function e(n,r){var i,a,s
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t,{method:"POST",body:JSON.stringify(n),credentials:"same-origin"})
case 2:if((i=e.sent).ok){e.next=6
break}throw a=r.attempt,s=r.timeout,Object.assign(new Error("[save:rails-fetch] status error (".concat(a,"/").concat(s,")")),{status:i.status})
case 6:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)}),onSaveChunkErrorAsync:n,describeData:function(e){var t=(0,i.default)(e,3),n=t[0],r=t[1],o=t[2]
return"[".concat(r,"|").concat(n,"] ").concat(o.cid)}}),y=[],x=(0,c.createSaver)({name:d,doSave:(b=(0,a.default)(o.default.mark((function e(t){var n,r
return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y,y=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},n=[]
return e.forEach((function(e){var r=(0,i.default)(e,3),o=r[1],a=r[2],s="".concat(o,"|").concat(a.cid)
void 0===t[s]&&(t[s]=n.length),n[t[s]]=e})),n}(n),e.next=5,v({chunkList:(0,s.arraySplitChunk)(r,64),dataIndexMax:r.length,setSavingState:t})
case 5:0===y.length&&E()
case 6:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)}),onSaverError:p,beforeSave:f,afterSave:h,autoSaveDelay:m}),w=x.getIsSaving,j=x.getSavingState,S=x.getSavingPromise,_=x.getIsActive,C=x.getAutoSaveDelay,O=x.setAutoSaveDelay,k=x.startTimer,E=x.stopTimer,M=x.triggerSave
return{name:d,getState:function(){return{name:d,isActive:_(),isEmpty:0===y.length&&!w(),isSaving:w(),pendingLength:y.length,savingState:j(),autoSaveDelay:C()}},getSavingPromise:S,afterCurrentSave:function(e){return S().then(e)},setAutoSaveDelay:O,startTimer:k,stopTimer:E,triggerSave:M,add:function(e,t,n){y.push([e,t,n]),k()}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createProjectExchangeAutoSaver=void 0
var i=r(n(11)),o=r(n(14)),a=n(88),s=n(231),c=n(305)
t.createProjectExchangeAutoSaver=function(e){var t=e.projectExchange,n=e.socketStore,r=e.getFromUser,l=e.onSaveChunkErrorAsync,u=e.name,d=void 0===u?"saver:project-exchange":u,p=e.onSaverError,f=e.beforeSave,h=e.afterSave,m=e.autoSaveDelay
if(!t)throw new Error("expect projectExchange")
if(!n)throw new Error("expect socketStore")
if(!r)throw new Error("expect getFromUser()")
if(!l)throw new Error("expect onSaveChunkErrorAsync()")
var g,b,v,y=(0,c.createSaveChunkWithRetry)({type:"save:socket:json-save-queue",saveChunkAsync:(g=(0,o.default)(i.default.mark((function e(t,o){var a,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t[0].projectMetaCid,s=r()){e.next=4
break}throw new Error("expect fromUser")
case 4:return e.next=6,n.requestProjectMetaJsonSaveQueue({jsonSaveQueue:t,projectMetaCid:a,fromUser:s})
case 6:case"end":return e.stop()}}),e)}))),function(e,t){return g.apply(this,arguments)}),onSaveChunkErrorAsync:l,describeData:function(e){var t=e.projectMetaCid,n=e.data
return"[save:socket:json-save-queue|".concat(t,"] size: ").concat(n?n.length:0)}}),x=(0,c.createSaveChunkWithRetry)({type:"save:socket:buffer-save-queue",saveChunkAsync:(b=(0,o.default)(i.default.mark((function e(t,o){var a,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t[0].projectMetaCid,s=r()){e.next=4
break}throw new Error("expect fromUser")
case 4:return e.next=6,n.requestProjectMetaBufferSaveQueue({bufferSaveQueue:t,projectMetaCid:a,fromUser:s})
case 6:case"end":return e.stop()}}),e)}))),function(e,t){return b.apply(this,arguments)}),onSaveChunkErrorAsync:l,describeData:function(e){var t=e.projectMetaCid,n=e.data
return"[save:socket:buffer-save-queue|".concat(t,"] size: ").concat(n?n.length:0)}}),w=(0,s.createSaver)({name:d,doSave:(v=(0,o.default)(i.default.mark((function e(n){var r,o,s,c,l
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generateSaveQueueAsync()
case 2:return r=e.sent,o=r.jsonSaveQueue,s=r.bufferSaveQueue,c=r.applyServer,l=o.length+s.length,e.next=9,y({chunkList:(0,a.arraySplitChunk)(o,1),dataIndexMax:o.length,saveQueueLength:l,setSavingState:n})
case 9:return e.next=11,x({chunkList:(0,a.arraySplitChunk)(s,1),dataIndexMax:s.length,saveQueueLength:l,setSavingState:n})
case 11:c()
case 12:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)}),onSaverError:p,beforeSave:f,afterSave:h,autoSaveDelay:m}),j=w.getIsSaving,S=w.getSavingState,_=w.getSavingPromise,C=w.getIsActive,O=w.getAutoSaveDelay,k=w.setAutoSaveDelay,E=w.startTimer,M=w.stopTimer,T=w.triggerSave
return{name:d,getState:function(){var e=t.hasSaveQueue()
return{name:d,isActive:C(),isEmpty:!e&&!j(),isSaving:j(),pendingLength:e?t.countSaveQueue():0,savingState:S(),autoSaveDelay:O()}},getSavingPromise:_,afterCurrentSave:function(e){return _().then(e)},setAutoSaveDelay:k,startTimer:E,stopTimer:M,triggerSave:T,add:function(){throw new Error("[ProjectExchange] unexpected add")}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.applyJsonDataDumpPatchMutate=t.walkJsonDataChangeMap=t.createJsonDataStore=t.createJsonDataReducerMap=void 0
var i=r(n(22)),o=r(n(26)),a=r(n(23)),s=r(n(2)),c=n(248),l=n(127),u=n(671),d=n(278)
t.createJsonDataReducerMap=function(e){var t=function(e,t){return function(n){return(n=t(n)).mtime=(0,l.roundTimestamp)(e()),n}}
return{"json-v3:project-meta:delete":function(){},"json-v3:project-meta:update":function(n,r,i){var o=r.payload
return function(n){var r=(0,d.createFilterEntryFunctionPack)(n).filterEntryProjectMeta
return t(e,r)}(i)(o)},"json-v3:screen-glue:delete":function(){},"json-v3:screen-glue:update":function(n,r,i){var o=r.payload
return function(n){var r=(0,d.createFilterEntryFunctionPack)(n).filterEntryScreenGlue
return t(e,r)}(i)(o)},"json-v3:screen-meta:delete":function(){},"json-v3:screen-meta:update":function(n,r,i){var o=r.payload
return function(n){var r=(0,d.createFilterEntryFunctionPack)(n).filterEntryScreenMeta
return t(e,r)}(i)(o)}}}
t.createJsonDataStore=function(e){var t=e.dataName,n=void 0===t?"":t,r=e.onLocalDataDelete,i=void 0===r?function(e){}:r,l=e.onServerDataDelete,d=void 0===l?function(e){}:l,p=e.JSON_DATA_REDUCER_MAP,f=new Map,h=new Map,m=function(e){var t=f.get(e)
if(void 0!==t)return f.delete(e),i(t),(0,s.default)({},e,[void 0,t])},g=function(e){var t,n=!1,r={},o=(0,a.default)(f.values())
try{for(o.s();!(t=o.n()).done;){var s=t.value
e(s)||(f.delete(s.cid),i(s),n=!0,r[s.cid]=[void 0,s])}}catch(e){o.e(e)}finally{o.f()}return n?r:void 0},b=function(){for(var e=!1,t={},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i]
for(var o=0,a=r;o<a.length;o++){var s=a[o],c=s.cid,l=f.get(c)
l!==s&&(f.set(c,s),e=!0,t[c]=[s,l])}return e?t:void 0},v=function(e){var t,n=!1,r={},o=new Set(f.keys()),s=(0,a.default)(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value,l=c.cid,u=f.get(l)
o.delete(l),c!==u&&(f.set(l,c),n=!0,r[l]=[c,u])}}catch(e){s.e(e)}finally{s.f()}var d,p=(0,a.default)(o)
try{for(p.s();!(d=p.n()).done;){var h=d.value,m=f.get(h)
f.delete(h),i(m),n=!0,r[h]=[void 0,m]}}catch(e){p.e(e)}finally{p.f()}return n?r:void 0},y=function(){return(0,u.hasPatch)(new Map(f),(0,o.default)(h.values()))},x=function(){var e,t=(0,u.generatePatch)(new Map(f),(0,o.default)(h.values())),n=t.deleteList,r=t.updateList,i=[],s=(0,a.default)(f.keys())
try{for(s.s();!(e=s.n()).done;){var c=e.value
!h.has(c)&&i.push(c)}}catch(e){s.e(e)}finally{s.f()}return n.length||r.length?{deleteList:n,updateList:r,createCidList:i}:void 0}
return{dataName:n,hasLocal:function(e){return f.has(e)},hasServer:function(e){return h.has(e)},getLocal:function(e){return f.get(e)},getLocalList:function(){return(0,o.default)(f.values())},getLocalCidList:function(){return(0,o.default)(f.keys())},filterMapLocalList:function(e){var t,n=[],r=(0,a.default)(f.values())
try{for(r.s();!(t=r.n()).done;){var i=e(t.value)
i&&n.push(i)}}catch(e){r.e(e)}finally{r.f()}return n},unloadLocalByCid:m,unloadLocalWithFilter:g,unloadServerByCid:function(e){var t=h.get(e)
return void 0!==t&&(h.delete(e),d(t)),m(e)},unloadServerWithFilter:function(e){var t,n=(0,a.default)(h.values())
try{for(n.s();!(t=n.n()).done;){var r=t.value
e(r)||(h.delete(r.cid),d(r))}}catch(e){n.e(e)}finally{n.f()}return g(e)},loadLocal:b,loadServer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
for(var r=0,i=t;r<i.length;r++){var o=i[r]
h.set(o.cid,o)}return b.apply(void 0,t)},generateLocalDump:function(e){var t=(0,o.default)(f.values())
return e&&t.sort((function(e,t){return e.cid.localeCompare(t.cid)})),t},resetLocalWithDump:v,resetServerWithDump:function(e){var t,n=new Set(h.keys()),r=(0,a.default)(e)
try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.cid
n.delete(o),h.set(o,i)}}catch(e){r.e(e)}finally{r.f()}var s,c=(0,a.default)(n)
try{for(c.s();!(s=c.n()).done;){var l=s.value,u=h.get(l)
h.delete(l),d(u)}}catch(e){c.e(e)}finally{c.f()}return v(e)},previewResetLocalWithDump:function(e){var t,n=[],r=[],i=new Set(f.keys()),o=(0,a.default)(e)
try{for(o.s();!(t=o.n()).done;){var s=t.value,c=s.cid,l=f.get(c)
i.delete(c),s!==l&&n.push(c)}}catch(e){o.e(e)}finally{o.f()}var u,d=(0,a.default)(i)
try{for(d.s();!(u=d.n()).done;){var p=u.value
r.push(p)}}catch(e){d.e(e)}finally{d.f()}return{updateCidList:n,deleteCidList:r}},hasLocalPatch:y,countLocalPatch:function(){return(0,u.countPatch)(new Map(f),(0,o.default)(h.values()))},generateLocalPatch:x,applyServerPatch:function(e){var t=e.deleteList,n=e.updateList,r=e.createCidList,a=!1,s={},c=new Set(r),l=(0,o.default)(f.values()),p=(0,o.default)(h.values())
return f.clear(),h.clear(),(0,u.applyPatch)(t,n,l,(function(e,t){void 0===e?(e=void 0,i(t)):(t||c.has(e.cid))&&f.set(e.cid,e),e!==t&&(a=!0,s[(e||t).cid]=[e,t])})),(0,u.applyPatch)(t,n,p,(function(e,t){void 0===e?d(t):(t||c.has(e.cid))&&h.set(e.cid,e)})),a?s:void 0},reduceLocalUpdateActionList:function(e,t){var n,r=!1,o={},s=(0,a.default)(e)
try{for(s.s();!(n=s.n()).done;){var c=n.value,l=c.payload.cid,u=f.get(l),d=p[c.type](u,c,t)
d!==u&&(void 0===d?(f.delete(l),i(u)):f.set(l,d),r=!0,o[l]=[d,u])}}catch(e){s.e(e)}finally{s.f()}return r?o:void 0},describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
e("  - [".concat(n,"] local cid:"),(0,o.default)(f.keys()).sort(),"dataMap:",f),e("  - [".concat(n,"] server cid:"),(0,o.default)(h.keys()).sort(),"dataMap:",h),y()&&e("  - [".concat(n,"] patch:"),x())},verify:function(){if(!(0,c.isCompactArrayShallowEqual)((0,o.default)(f.keys()).sort(),(0,o.default)(h.keys()).sort()))throw new Error("[verify] ".concat(n," cid mismatch"))}}}
t.walkJsonDataChangeMap=function(e,t,n){void 0!==e&&Object.keys(e).forEach((function(r){var o=(0,i.default)(e[r],2),a=o[0],s=o[1]
t(n,void 0===a?"delete":void 0===s?"create":"update",r,a,s)}))}
t.applyJsonDataDumpPatchMutate=function(e,t){var n=t.deleteList,r=t.updateList,i=t.createCidList,a=new Set(i),s=(0,o.default)(e)
e.length=0,(0,u.applyPatch)(n,r,s,(function(t,n){(n||a.has(t.cid))&&e.push(t)}))}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.applyScreenRuntimeStateDumpPatchMutate=t.walkScreenRuntimeStateChangeMap=t.createScreenRuntimeStateStore=t.createRuntimeStateReducerMap=void 0
var i=r(n(26)),o=r(n(23)),a=r(n(2)),s=r(n(22)),c=n(210),l=n(248),u=n(127),d=n(278),p=n(181),f=n(464),h=n(672)
t.createRuntimeStateReducerMap=function(e){var t=function(t){var n=(0,d.createFilterEntryFunctionPack)(t).filterEntryScreenState
return m(e,n)},n=function(e,t){for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=(0,s.default)(i[r],2),a=o[0],c=o[1]
n[a]=t(c)}return n}
return{"buffer-v3:screen-runtime-state:set":function(e,r,i){return function(e){var r=e.screenMetaCid,i=e.dataMap,o=e.itemListMap,a={screenMetaCid:r,dataMap:n(i,t),itemListMap:n(o,(function(e){return e.map((function(e){return t(e)}))}))}
return(0,p.verifyScreenRuntimeState)(a),a}(r.payload)},"buffer-v3:screen-state-data:delete":function(e,t,n){var r=t.payload
return(0,f.reducerScreenStateDataDelete)(e,r)},"buffer-v3:screen-state-data:update":function(e,n,r){var i=n.payload
return(0,f.reducerScreenStateDataUpdate)(e,t(r)(i))},"buffer-v3:screen-state-item:delete":function(e,t,n){var r=t.payload,i=t.stateCid
return(0,f.reducerScreenStateItemDelete)(e,i,r)},"buffer-v3:screen-state-item:update":function(t,n,r){var i=n.payload,o=n.stateCid
return(0,f.reducerScreenStateItemUpdate)(t,o,function(t){var n=(0,d.createFilterEntryFunctionPack)(t).filterEntryItem
return m(e,n)}(r)(i))}}}
t.createScreenRuntimeStateStore=function(e){var t=e.RUNTIME_STATE_REDUCER_MAP,n=new Map,r=new Map,u=function(e){var t=n.get(e)
if(void 0!==t)return n.delete(e),(0,a.default)({},e,[void 0,t.getState()])},d=function(e){var t,r=!1,i={},a=(0,o.default)(n.values())
try{for(a.s();!(t=a.n()).done;){var s=(0,t.value.getState)()
if(!e(s)){var c=s.screenMetaCid
n.delete(c),r=!0,i[c]=[void 0,s]}}}catch(e){a.e(e)}finally{a.f()}return r?i:void 0},f=function(){for(var e=!1,t={},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o]
for(var a=0,s=i;a<s.length;a++){var l=s[a],u=l.screenMetaCid,d=n.get(u),p=d&&d.getState()
p!==l&&(void 0!==d?d.setState(l):n.set(u,(0,c.createStateStoreLite)(l)),e=!0,t[u]=[l,p])}return e?t:void 0},m=function(e){var t,r=!1,i={},a=new Set(n.keys()),s=(0,o.default)(e)
try{for(s.s();!(t=s.n()).done;){var l=t.value,u=l.screenMetaCid,d=n.get(u),p=d&&d.getState()
a.delete(u),l!==p&&(n.set(u,(0,c.createStateStoreLite)(l)),r=!0,i[u]=[l,p])}}catch(e){s.e(e)}finally{s.f()}var f,h=(0,o.default)(a)
try{for(h.s();!(f=h.n()).done;){var m=f.value,g=n.get(m).getState()
n.delete(m),r=!0,i[m]=[void 0,g]}}catch(e){h.e(e)}finally{h.f()}return r?i:void 0},g=function(e){var t,i=new Set(r.keys()),a=(0,o.default)(n.values())
try{for(a.s();!(t=a.n()).done;){var s=(0,t.value.getState)(),c=s.screenMetaCid,l=e(s,r.get(c),c)
if(l)return l
i.delete(c)}}catch(e){a.e(e)}finally{a.f()}var u,d=(0,o.default)(i)
try{for(d.s();!(u=d.n()).done;){var p=u.value,f=e(void 0,r.get(p),p)
if(f)return f}}catch(e){d.e(e)}finally{d.f()}},b=function(e,t,i){var a,s=!1,l={},u=(0,o.default)(e)
try{for(u.s();!(a=u.n()).done;){var d=a.value,p=d.screenMetaCid
if(void 0!==i){var f=r.get(p),h=i(f,d)
f!==h&&(void 0===h?r.delete(p):r.set(p,h))}var m=n.get(p),g=void 0===m?void 0:m.getState(),b=t(g,d)
g!==b&&(void 0===b?n.delete(p):void 0===m?n.set(p,(0,c.createStateStoreLite)(b)):m.setState(b),s=!0,l[p]=[b,g])}}catch(e){u.e(e)}finally{u.f()}return s?l:void 0},v=function(){return Boolean(g(h.hasScreenRuntimeStatePatch))},y=function(){var e=[]
return g((function(t,n,r){if(t){var i=(0,h.generateScreenRuntimeStatePatch)(t,n)
i.length&&e.push({screenMetaCid:r,statePatchList:i,isCreate:!n})}})),e.length?e:void 0}
return{hasLocal:function(e){return n.has(e)},hasServer:function(e){return r.has(e)},getLocalRuntimeState:function(e){var t=n.get(e)
return t&&t.getState()},getLocalRuntimeStateList:function(){var e,t=[],r=(0,o.default)(n.values())
try{for(r.s();!(e=r.n()).done;){var i=e.value
t.push(i.getState())}}catch(e){r.e(e)}finally{r.f()}return t},unloadLocalByCid:u,unloadLocalWithFilter:d,unloadServerByCid:function(e){return r.delete(e),u(e)},unloadServerWithFilter:function(e){var t,n=(0,o.default)(r.values())
try{for(n.s();!(t=n.n()).done;){var i=t.value
if(!e(i)){var a=i.screenMetaCid
r.delete(a)}}}catch(e){n.e(e)}finally{n.f()}return d(e)},loadLocal:f,loadServer:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
for(var i=0,o=t;i<o.length;i++){var a=o[i],s=a.screenMetaCid
r.set(s,a)}return f.apply(void 0,t)},generateLocalDump:function(e){var t,r=[],i=(0,o.default)(n.values())
try{for(i.s();!(t=i.n()).done;){var a=t.value
r.push(a.getState())}}catch(e){i.e(e)}finally{i.f()}return e&&r.sort((function(e,t){return e.screenMetaCid.localeCompare(t.screenMetaCid)})),r},resetLocalWithDump:m,resetServerWithDump:function(e){var t,n=new Set(r.keys()),i=(0,o.default)(e)
try{for(i.s();!(t=i.n()).done;){var a=t.value,s=a.screenMetaCid
n.delete(s),r.set(s,a)}}catch(e){i.e(e)}finally{i.f()}var c,l=(0,o.default)(n)
try{for(l.s();!(c=l.n()).done;){var u=c.value
r.delete(u)}}catch(e){l.e(e)}finally{l.f()}return m(e)},previewResetLocalWithDump:function(e){var t,r=[],i=[],a=new Set(n.keys()),s=(0,o.default)(e)
try{for(s.s();!(t=s.n()).done;){var c=t.value,l=c.screenMetaCid,u=n.get(l),d=u&&u.getState()
a.delete(l),c!==d&&r.push(l)}}catch(e){s.e(e)}finally{s.f()}var p,f=(0,o.default)(a)
try{for(f.s();!(p=f.n()).done;){var h=p.value
i.push(h)}}catch(e){f.e(e)}finally{f.f()}return{updateCidList:r,deleteCidList:i}},hasLocalPatch:v,countLocalPatch:function(){var e=0
return g((function(t,n){e+=(0,h.countScreenRuntimeStatePatch)(t,n)})),e},generateLocalPatch:y,applyServerPatch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.existLocalBindData,r=void 0===n?function(e){return!0}:n,i=t.existServerBindData,o=void 0===i?function(e){return!0}:i
return b(e,(function(e,t){var n=t.screenMetaCid,i=t.statePatchList,o=t.isCreate
if((void 0===e||r(e))&&(void 0!==e||o))return(0,h.applyScreenRuntimeStatePatch)(e||(0,p.createScreenRuntimeState)(n),i)}),(function(e,t){var n=t.screenMetaCid,r=t.statePatchList,i=t.isCreate
if((void 0===e||o(e))&&(void 0!==e||i))return(0,h.applyScreenRuntimeStatePatch)(e||(0,p.createScreenRuntimeState)(n),r)}))},reduceLocalUpdateActionList:function(e,n){return b(e,(function(e,r){return t[r.type](e||(0,p.createScreenRuntimeState)(r.screenMetaCid),r,n)}))},describe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:console.log
e("  - [screenRuntimeState] local cid:",(0,i.default)(n.keys()).sort(),"runtimeState:",(0,i.default)(n).reduce((function(e,t){var n=(0,s.default)(t,2),r=n[0],i=n[1].getState
return e[r]=i(),e}),{})),e("  - [screenRuntimeState] server cid:",(0,i.default)(r.keys()).sort(),"runtimeState:",(0,i.default)(r).reduce((function(e,t){var n=(0,s.default)(t,2),r=n[0],i=n[1]
return e[r]=i,e}),{})),v()&&e("  - patch (saveQueue):",y())},verify:function(){if(!(0,l.isCompactArrayShallowEqual)((0,i.default)(n.keys()).sort(),(0,i.default)(r.keys()).sort()))throw new Error("[verify] screenMetaCid mismatch")}}}
var m=function(e,t){return function(n){return(n=t(n)).mtime=(0,u.roundTimestamp)(e()),n}}
t.walkScreenRuntimeStateChangeMap=function(e,t){void 0!==e&&Object.keys(e).forEach((function(n){var r=(0,s.default)(e[n],2),i=r[0],a=r[1]
if(void 0===i)return t("screenRuntimeState","delete",n,i,a)
if(void 0===a)return t("screenRuntimeState","create",n,i,a)
var c=i.dataMap,l=i.itemListMap,u=a.dataMap,d=a.itemListMap
if(c!==u){for(var p=Object.keys(c),f=new Set(Object.keys(u)),h=0,m=p;h<m.length;h++){var g=m[h],b=c[g],v=u[g]
f.delete(g),t("screenRuntimeState:data",void 0===v?"create":"update",[n,g],b,v)}var y,x=(0,o.default)(f)
try{for(x.s();!(y=x.n()).done;){var w=y.value
t("screenRuntimeState:data","delete",[n,w],void 0,u[w])}}catch(e){x.e(e)}finally{x.f()}}if(l!==d){for(var j=Object.keys(l),S=new Set(Object.keys(d)),_=0,C=j;_<C.length;_++){var O=C[_],k=l[O],E=d[O]
S.delete(O),t("screenRuntimeState:itemList",void 0===E?"create":"update",[n,O],k,E)}var M,T=(0,o.default)(S)
try{for(T.s();!(M=T.n()).done;){var D=M.value
t("screenRuntimeState:itemList","delete",[n,D],void 0,d[D])}}catch(e){T.e(e)}finally{T.f()}}}))}
t.applyScreenRuntimeStateDumpPatchMutate=function(e,t){var n=new Map
e.forEach((function(e){return n.set(e.screenMetaCid,e)}))
var r,a=(0,o.default)(t)
try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s.screenMetaCid,l=s.statePatchList,u=s.isCreate,d=n.get(c)
if(void 0!==d||u){var f=(0,h.applyScreenRuntimeStatePatch)(d||(0,p.createScreenRuntimeState)(c),l)
d!==f&&(void 0===f?n.delete(c):n.set(c,f))}}}catch(e){a.e(e)}finally{a.f()}e.length=0,e.push.apply(e,(0,i.default)(n.values()))}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.reducerScreenStateItemUpdate=t.reducerScreenStateItemDelete=t.reducerScreenStateDataUpdate=t.reducerScreenStateDataDelete=void 0
var r=n(280),i=n(88)
t.reducerScreenStateDataDelete=function(e,t){var n=e,i=n.dataMap,o=n.itemListMap
return i=(0,r.objectDelete)(i,t.cid),o=(0,r.objectDelete)(o,t.cid),e=(0,r.objectSet)(e,"dataMap",i),(0,r.objectSet)(e,"itemListMap",o)}
t.reducerScreenStateDataUpdate=function(e,t){var n=e,i=n.dataMap,o=n.itemListMap
return i=(0,r.objectSet)(i,t.cid,t),void 0===o[t.cid]&&(o=(0,r.objectSet)(o,t.cid,[])),e=(0,r.objectSet)(e,"dataMap",i),(0,r.objectSet)(e,"itemListMap",o)}
t.reducerScreenStateItemDelete=function(e,t,n){var o=e.itemListMap,a=o[t]
return a=(0,i.arrayFindDelete)(a,(function(e){return e.cid===n.cid})),o=(0,r.objectSet)(o,t,a),(0,r.objectSet)(e,"itemListMap",o)}
t.reducerScreenStateItemUpdate=function(e,t,n){var o=e.itemListMap,a=o[t]
return a=(0,i.arrayFindSetOrPush)(a,(function(e){return e.cid===n.cid}),n),o=(0,r.objectSet)(o,t,a),(0,r.objectSet)(e,"itemListMap",o)}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.getReceiptForBufferSaveQueue=t.getFetchListForBufferSaveQueue=t.getFetchListForJsonSaveQueue=t.fromSaveQueueAsync=t.toSaveQueueAsync=t.PB_ACTION_BUFFER_PATCH=t.PB_ACTION_BUFFER_GET=t.P_ACTION_JSON_UPDATE=t.P_ACTION_JSON_DELETE=void 0
var i=r(n(11)),o=r(n(26)),a=r(n(14)),s=r(n(2)),c=r(n(23)),l=r(n(22)),u=n(88),d=n(196)
t.P_ACTION_JSON_DELETE="DELETE"
t.P_ACTION_JSON_UPDATE="UPDATE"
t.PB_ACTION_BUFFER_GET="project-buffer:get"
t.PB_ACTION_BUFFER_PATCH="project-buffer:patch"
var p={projectMetaPatch:"project-meta",screenGluePatch:"screen-glue",screenMetaPatch:"screen-meta"},f=Object.entries(p).reduce((function(e,t){var n=(0,l.default)(t,2),r=n[0]
return e[n[1]]=r,e}),{}),h=function(e){var t=[]
return{push:function(e,n){var r,i=e.deleteList,o=e.updateList,a=e.createCidList,s=p[n],l=new Set(a),u=(0,c.default)(i)
try{for(u.s();!(r=u.n()).done;){var d=r.value
t.push(["DELETE",s,d])}}catch(e){u.e(e)}finally{u.f()}var f,h=(0,c.default)(o)
try{for(h.s();!(f=h.n()).done;){var m=f.value
t.push(["UPDATE",s,m,{isCreate:l.has(m.cid)}])}}catch(e){h.e(e)}finally{h.f()}},build:function(){return(0,u.arraySplitChunk)(t,64).map((function(t){return{projectMetaCid:e,data:JSON.stringify((0,s.default)({projectMetaCid:e},"list",t))}}))}}},m=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,s,l,u,p,f,m,g,b,v,y,x,w,j,S,_,C,O,k
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.projectPatchList,r=t.gzipObjectToBufferAsync,a=[],s=[],l=(0,c.default)(n),e.prev=4,l.s()
case 6:if((u=l.n()).done){e.next=43
break}if(p=u.value,f=p.projectMetaCid,m=p.projectMetaType,g=p.projectMetaPatch,b=p.screenGluePatch,v=p.screenMetaPatch,y=p.screenRuntimeStatePatch,x=h(f),g&&x.push(g,"projectMetaPatch"),b&&x.push(b,"screenGluePatch"),v&&x.push(v,"screenMetaPatch"),a.push.apply(a,(0,o.default)(x.build())),!y){e.next=41
break}w=(0,c.default)(y),e.prev=16,w.s()
case 18:if((j=w.n()).done){e.next=33
break}return S=j.value,_=S.screenMetaCid,C=S.statePatchList,O=S.isCreate,k=(0,d.createScreenPatchObject)(_,C),e.t0=s,e.t1=f,e.t2=m,e.t3=_,e.next=27,r(k)
case 27:e.t4=e.sent,e.t5=O,e.t6={action:"project-buffer:patch",projectMetaCid:e.t1,projectMetaType:e.t2,localKey:e.t3,data:e.t4,isCreate:e.t5},e.t0.push.call(e.t0,e.t6)
case 31:e.next=18
break
case 33:e.next=38
break
case 35:e.prev=35,e.t7=e.catch(16),w.e(e.t7)
case 38:return e.prev=38,w.f(),e.finish(38)
case 41:e.next=6
break
case 43:e.next=48
break
case 45:e.prev=45,e.t8=e.catch(4),l.e(e.t8)
case 48:return e.prev=48,l.f(),e.finish(48)
case 51:return e.abrupt("return",{jsonSaveQueue:a,bufferSaveQueue:s})
case 52:case"end":return e.stop()}}),e,null,[[4,45,48,51],[16,35,38,41]])})))
return function(t){return e.apply(this,arguments)}}()
t.toSaveQueueAsync=m
var g=function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,s,u,p,h,m,g,b,v,y,x,w,j,S,_,C,O,k,E,M,T,D,A,N,P,I,L,B
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.jsonSaveQueue,r=void 0===n?[]:n,a=t.bufferSaveQueue,s=void 0===a?[]:a,u=t.gunzipObjectFromBufferAsync,p=new Map,h=function(e){var t=p.get(e)
return void 0===t&&(t={projectMetaCid:e,projectMetaPatch:{deleteList:[],updateList:[],createCidList:[]},screenGluePatch:{deleteList:[],updateList:[],createCidList:[]},screenMetaPatch:{deleteList:[],updateList:[],createCidList:[]},screenRuntimeStatePatch:[]},p.set(e,t)),t},m=(0,c.default)(r),e.prev=4,m.s()
case 6:if((g=m.n()).done){e.next=33
break}b=g.value.data,v=JSON.parse(b),y=v.projectMetaCid,x=v.list,w=(0,c.default)(x),e.prev=10,w.s()
case 12:if((j=w.n()).done){e.next=23
break}S=(0,l.default)(j.value,4),_=S[0],C=S[1],O=S[2],k=S[3],e.t0=_,e.next="DELETE"===e.t0?17:"UPDATE"===e.t0?19:21
break
case 17:return h(y)[f[C]].deleteList.push(O),e.abrupt("break",21)
case 19:h(y)[f[C]].updateList.push(O),k&&k.isCreate&&h(y)[f[C]].createCidList.push(O.cid)
case 21:e.next=12
break
case 23:e.next=28
break
case 25:e.prev=25,e.t1=e.catch(10),w.e(e.t1)
case 28:return e.prev=28,w.f(),e.finish(28)
case 31:e.next=6
break
case 33:e.next=38
break
case 35:e.prev=35,e.t2=e.catch(4),m.e(e.t2)
case 38:return e.prev=38,m.f(),e.finish(38)
case 41:E=(0,c.default)(s),e.prev=42,E.s()
case 44:if((M=E.n()).done){e.next=56
break}if(T=M.value,D=T.action,A=T.projectMetaCid,N=T.localKey,P=T.data,I=T.isCreate,"project-buffer:patch"===D){e.next=48
break}return e.abrupt("continue",54)
case 48:return e.next=50,u(P)
case 50:L=e.sent,(0,d.verifyScreenPatchObject)(L),B=L.statePatchList,h(A).screenRuntimeStatePatch.push({screenMetaCid:N,statePatchList:B,isCreate:I})
case 54:e.next=44
break
case 56:e.next=61
break
case 58:e.prev=58,e.t3=e.catch(42),E.e(e.t3)
case 61:return e.prev=61,E.f(),e.finish(61)
case 64:return e.abrupt("return",{projectPatchList:(0,o.default)(p.values())})
case 65:case"end":return e.stop()}}),e,null,[[4,35,38,41],[10,25,28,31],[42,58,61,64]])})))
return function(t){return e.apply(this,arguments)}}()
t.fromSaveQueueAsync=g
t.getFetchListForJsonSaveQueue=function(e){for(var t=e.urlBatchSaveAction,n=e.userAuthCookie,r=e.jsonSaveQueue,i=void 0===r?[]:r,o=[],a={cookie:n,accept:"*/*","content-type":"application/json"},s=0,c=i.length;s<c;s++){var l=i[s],u=l.projectMetaCid,d=l.data,p=new URL(u,t).toString()
o.push([p,{method:"PUT",headers:a,body:d}])}return o}
t.getFetchListForBufferSaveQueue=function(e){for(var t=e.urlBatchSaveAction,n=e.userAuthCookie,r=e.bufferSaveQueue,i=void 0===r?[]:r,o=[],a={cookie:n},s=0,c=i.length;s<c;s++){var l=i[s],u=l.action,d=l.projectMetaCid,p=l.projectMetaType,f=l.localKey,h=l.data
if("project-buffer:patch"===u){var m=new URL("".concat(p,"/").concat(d,"/").concat(f),t).toString()
o.push([m,{method:"PUT",headers:a,body:h}])}}return o}
t.getReceiptForBufferSaveQueue=function(e){for(var t=e.userId,n=e.bufferSaveQueue,r=void 0===n?[]:n,i=[],o=0,a=r.length;o<a;o++){var s=r[o],c=s.action,l=s.projectMetaCid,u=s.localKey
"project-buffer:patch"===c&&i.push([c,l,u])}return{type:"receipt:bufferSaveQueue",userId:t,bufferActionList:i}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createSocketStore=t.initialSocketState=void 0
var i=r(n(22)),o=r(n(11)),a=r(n(14)),s=n(210),c=n(101),l=n(467),u=function(){},d=function(e){console.error("ERROR",e)},p={userId:null}
t.initialSocketState=p
t.createSocketStore=function(e){var t=e.initialState,n=void 0===t?p:t,r=e.socketPayloadListenerMap,f=void 0===r?{}:r,h=e.socketPayloadQueueAsyncListenerMap,m=void 0===h?{}:h,g=e.socketUrl,b=void 0===g?window.location.origin:g,v=e.socketPath,y=void 0===v?"/imock-socket":v,x=e.socketIoClientConfig,w=void 0===x?(0,l.createSocketIoClientConfig)():x,j=e.socketQueryDebugCookie,S=n.userId
!S&&console.warn("[SocketStore][openSocket] use dummy socket")
var _=(0,s.createStateStore)(n),C=_.getState,O=_.setState,k=_.subscribe,E=_.unsubscribe,M=(0,c.createEventTarget)(),T=M.clear,D=M.addEventListener,A=M.removeEventListener,N=M.dispatchEvent,P=null,I=(S?l.createUserSocket:l.createDummySocket)({userId:S,socketUrl:b,socketPath:y,socketIoClientConfig:w,socketQueryDebugCookie:j})
return I.on("error",(function(e){console.warn("socket error",e)})),I.on("connect",(0,a.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("user socket connected"),e.next=3,I.calibrateTimestampOffsetAsync()
case 3:N({type:"socket:open"}),console.log("user socket (re)open")
case 5:case"end":return e.stop()}}),e)})))),Object.entries(f).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1],o="@@SOCKET|".concat(n)
I.on(n,(function(e){return N({type:o,payload:e})})),D(o,(function(e){var t=e.payload
return r({type:n,payload:t,eventName:n})}))})),Object.entries(m).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1],o="@@SOCKET-QUEUE-ASYNC|".concat(n)
I.on(n,(function(e){return N({type:o,payload:e})})),D(o,(function(e){var t=e.payload
return function(e){var t=(P||Promise.resolve("HEAD")).then(e)
return P=t.then(u,d),t}((function(){return r({type:n,payload:t,eventName:n})}))}))})),{getState:C,setState:O,subscribe:k,unsubscribe:E,addEventListener:D,removeEventListener:A,destroy:function(){O(n),T(),P=null,I.close()},getIsSocketConnected:function(){return I.getIsConnected()},getSocketTimestamp:function(){return I.getServerTimestamp()},sendSocketPayloadAsync:function(e,t){return I.emitAsync(e,t)}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalTimestamp=t.createDummySocket=t.createUserSocket=t.createSocketIoClientConfig=void 0
var i=r(n(11)),o=r(n(14)),a=r(n(24)),s=r(n(4)),c=n(101),l=n(468),u=n(491),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.reconnectionDelayInitialMin,n=void 0===t?4e3:t,r=e.reconnectionDelayInitialMax,i=void 0===r?16e3:r,o=e.reconnectionDelayMax,a=void 0===o?32e3:o
return{transports:["websocket"],reconnectionDelay:Math.round((n+i)/2),reconnectionDelayMax:a,randomizationFactor:(i-n)/(i+n)}}
t.createSocketIoClientConfig=d
t.createUserSocket=function(e){var t=e.userId,n=e.socketUrl,r=e.socketPath,i=void 0===r?"/S":r,o=e.socketQueryDebugCookie,c=e.socketIoClientConfig,m=void 0===c?d():c,g={userId:t,fromURL:h().slice(0,128),vTag:u.version}
o&&(g.socketQueryDebugCookie=o),m=(0,s.default)((0,s.default)({},m),{},{path:i,query:g})
var b=new l.Manager(n,m).socket("/",m)
b.on("error",(function(e){String(e).includes("/pre-connect/ [DROP]")&&(console.log("server dropped socket:",e),b.close())}))
var v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]
return new Promise((function(e){return b.emit.apply(b,t.concat([e]))})).then((function(e){var t=e.error,n=e.result
if(t)throw Object.assign(new Error("object"==("undefined"==typeof value?"undefined":(0,a.default)(value))&&t.message||"DEFAULT_USER_SOCKET_ERROR"),t)
return n}))},y=0
return{close:function(){return b.close()},getIsConnected:function(){return b.connected},on:function(e,t){return b.on(e,t)},emitAsync:v,getServerTimestamp:function(){return f(p()+y)},calibrateTimestampOffsetAsync:function(){var e=p()
return v("request:timestamp").then((function(t){var n=p()
y=Number(t)-.5*(e+n)}))},query:g}}
t.createDummySocket=function(e){var t,n,r=e.userId,a=(0,c.createEventEmitter)(),s=a.clear,l=a.on,u=a.emit,d=!1,f=setTimeout((function(){d=!0,u("connect",{isDummy:!0})}),1e3)
return{DUMMY_SOCKET:"DUMMY_SOCKET",close:function(){s(),clearTimeout(f),d=!1},getIsConnected:function(){return d},on:l,emitAsync:(n=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",{args:n,isDummy:!0})
case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),getServerTimestamp:p,calibrateTimestampOffsetAsync:(t=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),query:{userId:r,fromURL:h().slice(0,128)}}}
var p=function(){return.001*Date.now()}
t.getLocalTimestamp=p
var f=function(e){return Math.round(100*e)/100},h=function(){try{return window.location.href}catch(e){return"UNKNOWN"}}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(469),o=n(232),a=n(308),s=n(92)("socket.io-client")
e.exports=t=l
var c=t.managers={}
function l(e,t){"object"===(0,r.default)(e)&&(t=e,e=void 0),t=t||{}
var n,o=i(e),l=o.source,u=o.id,d=o.path,p=c[u]&&d in c[u].nsps
return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(s("ignoring socket cache for %s",l),n=a(l,t)):(c[u]||(s("new io instance for %s",l),c[u]=a(l,t)),n=c[u]),o.query&&!t.query&&(t.query=o.query),n.socket(o.path,t)}t.protocol=o.protocol,t.connect=l,t.Manager=n(308),t.Socket=n(314)},function(e,t,n){"use strict"
var r=n(306),i=n(92)("socket.io-client:url")
e.exports=function(e,t){var n=e
t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host)
"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e))
n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"))
n.path=n.path||"/"
var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host
return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},function(e,t,n){"use strict"
function r(e){var n
function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i)
e.diff=o,e.prev=n,e.curr=i,n=i
for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s]
a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O")
var c=0
a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n
c++
var i=t.formatters[r]
if("function"==typeof i){var o=a[c]
n=i.call(e,o),a.splice(c,1),c--}return n})),t.formatArgs.call(e,a)
var l=r.log||t.log||console.log.bind(console)
l.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0
for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0
return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this)
return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n
t.save(e),t.names=[],t.skips=[]
var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length
for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))
for(n=0;n<t.instances.length;n++){var o=t.instances[n]
o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0
var n,r
for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1
for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0
return!1},t.humanize=n(471),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=1e3,o=6e4,a=60*o,s=24*a
function c(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{}
var n,l=(0,r.default)(e)
if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return
var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e)
if(!t)return
var n=parseFloat(t[1])
switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n
case"days":case"day":case"d":return n*s
case"hours":case"hour":case"hrs":case"hr":case"h":return n*a
case"minutes":case"minute":case"mins":case"min":case"m":return n*o
case"seconds":case"second":case"secs":case"sec":case"s":return n*i
case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n
default:return}}(e)
if("number"===l&&!1===isNaN(e))return t.long?c(n=e,s,"day")||c(n,a,"hour")||c(n,o,"minute")||c(n,i,"second")||n+" ms":function(e){if(e>=s)return Math.round(e/s)+"d"
if(e>=a)return Math.round(e/a)+"h"
if(e>=o)return Math.round(e/o)+"m"
if(e>=i)return Math.round(e/i)+"s"
return e+"ms"}(e)
throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(233),o=n(307),a=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File)
t.deconstructPacket=function(e){var t=[],n=e.data,a=e
return a.data=function e(t,n){if(!t)return t
if(o(t)){var a={_placeholder:!0,num:n.length}
return n.push(t),a}if(i(t)){for(var s=new Array(t.length),c=0;c<t.length;c++)s[c]=e(t[c],n)
return s}if("object"===(0,r.default)(t)&&!(t instanceof Date)){s={}
for(var l in t)s[l]=e(t[l],n)
return s}return t}(n,t),a.attachments=t.length,{packet:a,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t
if(t&&t._placeholder)return n[t.num]
if(i(t))for(var o=0;o<t.length;o++)t[o]=e(t[o],n)
else if("object"===(0,r.default)(t))for(var a in t)t[a]=e(t[a],n)
return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var n=0,a=e
!function e(l,u,d){if(!l)return l
if(s&&l instanceof Blob||c&&l instanceof File){n++
var p=new FileReader
p.onload=function(){d?d[u]=this.result:a=this.result,--n||t(a)},p.readAsArrayBuffer(l)}else if(i(l))for(var f=0;f<l.length;f++)e(l[f],f,l)
else if("object"===(0,r.default)(l)&&!o(l))for(var h in l)e(l[h],h,l)}(a),n||t(a)}},function(e,t,n){"use strict"
t.byteLength=function(e){var t=l(e),n=t[0],r=t[1]
return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a
for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t
2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[u++]=255&t)
1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t)
return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383))
1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="))
return o.join("")}
for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s
function l(e){var t=e.length
if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4")
var n=e.indexOf("=")
return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o])
return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){"use strict"
t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d]
for(d+=p,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-l
else{if(o===c)return a?NaN:1/0*(f?-1:1)
a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0
for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+f]=255&a,f+=h,a/=256,l-=8);e[n+f-h]|=128*m}},function(e,t,n){"use strict"
var r={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict"
e.exports=n(477),e.exports.parser=n(126)},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(309),o=n(125),a=n(92)("engine.io-client:socket"),s=n(313),c=n(126),l=n(306),u=n(179)
function d(e,t){if(!(this instanceof d))return new d(e,t)
t=t||{},e&&"object"===(0,r.default)(e)&&(t=e,e=null),e?(e=l(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=l(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),
this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",
this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),
this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),
("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=d,d.priorWebsocketSuccess=!1,o(d.prototype),d.protocol=c.protocol,d.Socket=d,d.Transport=n(237),d.transports=n(309),d.parser=n(126),
d.prototype.createTransport=function(e){a('creating transport "%s"',e)
var t=function(e){var t={}
for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])
return t}(this.query)
t.EIO=c.protocol,t.transport=e
var n=this.transportOptions[e]||{}
return this.id&&(t.sid=this.id),new i[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,withCredentials:n.withCredentials||this.withCredentials,timestampRequests:n.timestampRequests||this.timestampRequests,
timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,
requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},d.prototype.open=function(){var e
if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket"
else{if(0===this.transports.length){var t=this
return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening"
try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){a("setting transport %s",e.name)
var t=this
this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},d.prototype.probe=function(e){a('probing transport "%s"',e)
var t=this.createTransport(e,{probe:1}),n=!1,r=this
function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary
n=n||i}n||(a('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(a('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return
d.priorWebsocketSuccess="websocket"===t.name,a('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(a("changing transport and sending upgrade packet"),p(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{a('probe transport "%s" failed',e)
var o=new Error("probe error")
o.transport=t.name,r.emit("upgradeError",o)}})))}function o(){n||(n=!0,p(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n)
i.transport=t.name,o(),a('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function c(){s("transport closed")}function l(){s("socket closed")}function u(e){t&&e.name!==t.name&&(a('"%s" works - aborting "%s"',e.name,t.name),o())}function p(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",c),r.removeListener("close",l),r.removeListener("upgrading",u)}d.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",c),
this.once("close",l),this.once("upgrading",u),t.open()},d.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes")
for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},d.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data))
break
case"pong":this.setPing(),this.emit("pong")
break
case"error":var t=new Error("server error")
t.code=e.data,this.onError(t)
break
case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},
d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer)
var t=this
t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this
clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},d.prototype.ping=function(){var e=this
this.sendPacket("ping",(function(){e.emit("ping")}))},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},
d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress
var i={type:e,data:t,options:n}
this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},d.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing"
var e=this
this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),a("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){a("socket error %j",e),d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},
d.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',e)
clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n])
return t}},function(e,t,n){"use strict"
try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){"use strict"
var r=n(235),i=n(310),o=n(125),a=n(180),s=n(92)("engine.io-client:polling-xhr"),c=n(236)
function l(){}function u(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port
n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,
this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=d,a(u,i),u.prototype.supportsBinary=!0,u.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,
e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},u.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this
r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},u.prototype.doPoll=function(){s("xhr poll")
var e=this.request(),t=this
e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}
e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized
var t=this.xhr=new r(e),n=this
try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async)
try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),
this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(n.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){
n.onError("number"==typeof t.status?t.status:0)}),0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){
if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=l:this.xhr.onreadystatechange=l,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e
try{var t
try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",p)
else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",p,!1)}function p(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},function(e,t,n){"use strict"
e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty
for(var r in e)n.call(e,r)&&t.push(r)
return t}},function(e,t,n){"use strict"
e.exports=function(e,t,n){var r=e.byteLength
if(t=t||0,n=n||r,e.slice)return e.slice(t,n)
if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0)
for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a]
return o.buffer}},function(e,t,n){"use strict"
function r(){}e.exports=function(e,t,n){var i=!1
return n=n||r,o.count=e,0===e?t():o
function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}}},function(e,t,n){"use strict"
var r,i,o,a=String.fromCharCode
function s(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t)
return r}function c(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")
return!1}return!0}function l(e,t){return a(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return a(e)
var n=""
return 0==(4294965248&e)?n=a(e>>6&31|192):0==(4294901760&e)?(c(e,t)||(e=65533),n=a(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=a(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+=a(63&e|128)}function d(){if(o>=i)throw Error("Invalid byte index")
var e=255&r[o]
if(o++,128==(192&e))return 63&e
throw Error("Invalid continuation byte")}function p(e){var t,n
if(o>i)throw Error("Invalid byte index")
if(o==i)return!1
if(t=255&r[o],o++,0==(128&t))return t
if(192==(224&t)){if((n=(31&t)<<6|d())>=128)return n
throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|d()<<6|d())>=2048)return c(n,e)?n:65533
throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|d()<<12|d()<<6|d())>=65536&&n<=1114111)return n
throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=s(e),i=r.length,o=-1,a="";++o<i;)a+=u(r[o],n)
return a},decode:function(e,t){var n=!1!==(t=t||{}).strict
r=s(e),i=r.length,o=0
for(var c,l=[];!1!==(c=p(n));)l.push(c)
return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=a(t)
return i}(l)}}},function(e,t,n){"use strict"
var r
r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,n=new Uint8Array(e),i=n.length,o=""
for(t=0;t<i;t+=3)o+=r[n[t]>>2],o+=r[(3&n[t])<<4|n[t+1]>>4],o+=r[(15&n[t+1])<<2|n[t+2]>>6],o+=r[63&n[t+2]]
return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,n,i,o,a,s=.75*e.length,c=e.length,l=0
"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--)
var u=new ArrayBuffer(s),d=new Uint8Array(u)
for(t=0;t<c;t+=4)n=r.indexOf(e[t]),i=r.indexOf(e[t+1]),o=r.indexOf(e[t+2]),a=r.indexOf(e[t+3]),d[l++]=n<<2|i>>4,d[l++]=(15&i)<<4|o>>2,d[l++]=(3&o)<<6|63&a
return u}},function(e,t,n){"use strict"
var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),a=r&&r.prototype.append&&r.prototype.getBlob
function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer
if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength)
n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function c(e,t){t=t||{}
var n=new r
return s(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function l(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(c.prototype=Blob.prototype,l.prototype=Blob.prototype),e.exports=i?o?Blob:l:a?c:void 0},function(e,t,n){"use strict"
var r=n(310),i=n(180),o=n(236)
e.exports=u
var a,s=/\n/g,c=/\\n/g
function l(){}function u(e){r.call(this,e),this.query=this.query||{},a||(a=o.___eio=o.___eio||[]),this.index=a.length
var t=this
a.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=l)}),!1)}i(u,r),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},u.prototype.doPoll=function(){
var e=this,t=document.createElement("script")
this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)}
var n=document.getElementsByTagName("script")[0]
n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe")
document.body.appendChild(e),document.body.removeChild(e)}),100)},u.prototype.doWrite=function(e,t){var n=this
if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),a=this.iframeId="eio_iframe_"+this.index
i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=a,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function l(){u(),t()}function u(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">'
r=document.createElement(e)}catch(e){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),u(),e=e.replace(c,"\\\n"),this.area.value=e.replace(s,"\\n")
try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&l()}:this.iframe.onload=l}},function(e,t,n){"use strict";(function(t){var r,i,o=n(237),a=n(126),s=n(179),c=n(180),l=n(312),u=n(92)("engine.io-client:websocket")
if("undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{i=n(488)}catch(e){}var d=r||i
function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=i),o.call(this,e)}e.exports=p,c(p,o),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={}
this.isReactNative||(n.agent=this.agent,n.perMessageDeflate=this.perMessageDeflate,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress)
try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this
this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var n=this
this.writable=!1
for(var r=e.length,i=0,o=r;i<o;i++)!function(e){a.encodePacket(e,n.supportsBinary,(function(i){if(!n.usingBrowserWebSocket){var o={}
if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"==typeof i?t.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,o)}catch(e){u("websocket closed before onclose event")}--r||s()}))}(e[i])
function s(){n.emit("flush"),setTimeout((function(){n.writable=!0,n.emit("drain")}),0)}},p.prototype.onClose=function(){o.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n=""
return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=s.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===p.prototype.name)}}).call(this,n(234).Buffer)},function(e,t){},function(e,t,n){"use strict"
e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r]
return n}},function(e,t,n){"use strict"
function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++)
if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e)
e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},function(e){
e.exports=JSON.parse('{"_args":[["@mockingbot/local-imock-socket@0.6.4-v6.1","/home/runner/work/mb-workspace/mb-workspace"]],"_from":"@mockingbot/local-imock-socket@0.6.4-v6.1","_id":"@mockingbot/local-imock-socket@0.6.4-v6.1","_inBundle":false,"_integrity":"sha512-9CXmmc/67wD2xj60ubNfWr+c3fzMoAqNUJU7AUD7nTt7eJtSNHqL3Wdie5CpFRmbnSplhJoNxG7M1C5FxQvplQ==","_location":"/@mockingbot/local-imock-socket","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@mockingbot/local-imock-socket@0.6.4-v6.1","name":"@mockingbot/local-imock-socket","escapedName":"@mockingbot%2flocal-imock-socket","scope":"@mockingbot","rawSpec":"0.6.4-v6.1","saveSpec":null,"fetchSpec":"0.6.4-v6.1"},"_requiredBy":["/@mockingbot/local-imock-js-api"],"_resolved":"https://0x3f.modao.cc/docker-nexus/repository/imock-npm/@mockingbot/local-imock-socket/-/local-imock-socket-0.6.4-v6.1.tgz","_spec":"0.6.4-v6.1","_where":"/home/runner/work/mb-workspace/mb-workspace","author":{"name":"mockingbot"},"bin":{"local-imock-socket":"bin/index.js"},"dependencies":{"socket.io-client":"2.4.0"},"description":"WebSocket cluster server & client code with Socket.io & Redis","engines":{"node":">=14.15","npm":">=6.14"},"name":"@mockingbot/local-imock-socket","version":"0.6.4-v6.1"}')
},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.getMethod=t.onReconnect=t.initialState=void 0
var r=n(88),i=n(50)
t.initialState={projectMetaCidList:[]}
t.onReconnect=function(e){var t=e.socketStore,n=t.getState,r=t.sendSocketPayloadAsync,o=e.onError,a=n().projectMetaCidList
a.length&&r(i.V3_JOIN_PROJECT_META_LIST,{projectMetaCidList:a}).catch(o)}
t.getMethod=function(e){var t=e.socketStore,n=t.getState,o=t.setState,a=t.sendSocketPayloadAsync,s=e.onError
return{joinProjectMeta:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c]
return(t=t.filter((function(e){return!n().projectMetaCidList.includes(e)}))).length&&a(i.V3_JOIN_PROJECT_META_LIST,{projectMetaCidList:t}).then((function(e){console.log("joined projectMeta",e),o({projectMetaCidList:t.reduce(r.arrayMatchPush,n().projectMetaCidList)})}),s)},leaveProjectMeta:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c]
return(t=t.filter((function(e){return n().projectMetaCidList.includes(e)}))).length&&a(i.V3_LEAVE_PROJECT_META_LIST,{projectMetaCidList:t}).then((function(e){console.log("left projectMeta",e),o({projectMetaCidList:t.reduce(r.arrayMatchDelete,n().projectMetaCidList)})}),s)},requestProjectMetaJsonSaveQueue:function(e){var t=e.jsonSaveQueue,n=void 0===t?[]:t,r=e.projectMetaCid,o=void 0===r?"":r,s=e.fromUser,c=void 0===s?{}:s
return a(i.V3_REQUEST_PROJECT_META_JSON_SAVE_QUEUE,{jsonSaveQueue:n,projectMetaCid:o,fromUser:c})},requestProjectMetaBufferSaveQueue:function(e){var t=e.bufferSaveQueue,n=void 0===t?[]:t,r=e.projectMetaCid,o=void 0===r?"":r,s=e.fromUser,c=void 0===s?{}:s
return a(i.V3_REQUEST_PROJECT_META_BUFFER_SAVE_QUEUE,{bufferSaveQueue:n,projectMetaCid:o,fromUser:c})}}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.getMethod=t.onReconnect=t.initialState=void 0
var i=r(n(11)),o=r(n(14)),a=n(88),s=n(50)
t.initialState={orgCidList:[],teamCidList:[],orgLibraryCidList:[]}
t.onReconnect=function(e){var t=e.socketStore,n=t.getState,r=t.sendSocketPayloadAsync,i=e.onError,o=n(),a=o.orgCidList,c=o.teamCidList
a.length&&r(s.V3_JOIN_ORG_LIST,{orgCidList:a}).catch(i),c.length&&r(s.V3_JOIN_TEAM_LIST,{teamCidList:c}).catch(i)}
t.getMethod=function(e){var t,n,r,c,l,u,d=e.socketStore,p=d.getState,f=d.setState,h=d.sendSocketPayloadAsync,m=e.onError
return{joinOrg:(u=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",(n=n.filter((function(e){return!p().orgCidList.includes(e)}))).length&&h(s.V3_JOIN_ORG_LIST,{orgCidList:n}).then((function(e){console.log("joined org",e),f({orgCidList:n.reduce(a.arrayMatchPush,p().orgCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),leaveOrg:(l=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",(n=n.filter((function(e){return p().orgCidList.includes(e)}))).length&&h(s.V3_LEAVE_ORG_LIST,{orgCidList:n}).then((function(e){console.log("left org",e),f({orgCidList:n.reduce(a.arrayMatchDelete,p().orgCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),joinTeam:(c=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",(n=n.filter((function(e){return!p().teamCidList.includes(e)}))).length&&h(s.V3_JOIN_TEAM_LIST,{teamCidList:n}).then((function(e){console.log("joined team",e),f({teamCidList:n.reduce(a.arrayMatchPush,p().teamCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return c.apply(this,arguments)}),leaveTeam:(r=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",(n=n.filter((function(e){return p().teamCidList.includes(e)}))).length&&h(s.V3_LEAVE_TEAM_LIST,{teamCidList:n}).then((function(e){console.log("left team",e),f({teamCidList:n.reduce(a.arrayMatchDelete,p().teamCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),joinOrgLibrary:(n=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",(n=n.filter((function(e){return!p().orgLibraryCidList.includes(e)}))).length&&h(s.V3_JOIN_ORG_LIBRARY_LIST,{orgLibraryCidList:n}).then((function(e){console.log("joined orgLibrary",e),f({orgLibraryCidList:n.reduce(a.arrayMatchPush,p().orgLibraryCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),leaveOrgLibrary:(t=(0,o.default)(i.default.mark((function e(){var t,n,r,o=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r]
return e.abrupt("return",(n=n.filter((function(e){return p().orgLibraryCidList.includes(e)}))).length&&h(s.V3_LEAVE_ORG_LIBRARY_LIST,{orgLibraryCidList:n}).then((function(e){console.log("left orgLibrary",e),f({orgLibraryCidList:n.reduce(a.arrayMatchDelete,p().orgLibraryCidList)})}),m))
case 2:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.requestSnapshotPngZipAsync=t.requestSnapshotPngAsync=t.loadSnapshotPngAsync=t.getSnapshotPngUrl=void 0
var i=r(n(11)),o=r(n(14)),a=n(495),s=n(123),c=n(496),l=n(343),u=function(e){var t=e.urlSnapshotPng,n=void 0===t?"/snapshot.png":t,r=e.zoomMode,i=void 0===r?s.SNAPSHOT_ZOOM_MODE.THUMBNAIL:r,o=e.projectMetaCid,a=e.screenMetaCid,c=e.screenStateCid,l=e.cacheTag
return"".concat(n,"?").concat(new URLSearchParams({projectMetaCid:o,screenMetaCid:a,screenStateCid:c,zoomMode:i,cacheTag:l}))}
t.getSnapshotPngUrl=u
t.loadSnapshotPngAsync=function(e){var t=e.urlSnapshotPng,n=void 0===t?"/snapshot.png":t,r=e.urlPngFallback,i=void 0===r?"/images/preview/image-load.png":r,o=e.imageElement,a=e.zoomMode,s=e.cacheTag,c=void 0===s?Date.now().toString(36):s,l=e.projectMetaCid,d=e.screenMetaCid,p=e.screenStateCid
return new Promise((function(e,t){var r=u({urlSnapshotPng:n,zoomMode:a,projectMetaCid:l,screenMetaCid:d,screenStateCid:p,cacheTag:c})
o.onerror=function(){o.src=i,t(new Error("failed to load ".concat(r)))},o.onload=function(){return e(o)},o.src=r}))}
var d=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,s,c,d,p,f,h,m,g
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotPng,r=void 0===n?"/snapshot.png":n,o=t.urlPngFallback,a=void 0===o?"/images/preview/image-load.png":o,s=t.zoomMode,c=t.projectMetaCid,d=t.screenMetaCid,p=t.screenStateCid,f=t.screenMetaList,h=u({urlSnapshotPng:r,urlPngFallback:a,zoomMode:s,projectMetaCid:c,screenMetaCid:d,screenStateCid:p}),m=(0,l.getSnapshotFilenamePng)({screenMetaList:f,screenMetaCid:d}),g=m.filenamePng,e.abrupt("return",{urlPng:h,filenamePng:g})
case 4:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngAsync=d
var p=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,l,u,d,p,f,h,m,g,b,v,y
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotTask,r=void 0===n?"/snapshot/task":n,l=t.zoomMode,u=t.projectMetaCid,d=t.screenMetaCidList,p=t.screenMetaFolderCidList,f=t.onProgress,h=void 0===f?function(e){}:f,e.next=3,(0,a.fetchLikeRequest)(r,{method:"POST",body:JSON.stringify({taskMode:s.SNAPSHOT_TASK_MODE.PNG_ZIP_FILE_ALL,zoomMode:l,projectMetaCid:u,screenMetaCidList:d,screenMetaFolderCidList:p})})
case 3:return e.next=5,e.sent.json()
case 5:return m=e.sent,g=m.taskId,e.next=9,(0,c.deceleratedLoopAsync)((0,o.default)(i.default.mark((function e(){var t,n,o,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.fetchLikeRequest)("".concat(r,"/").concat(g))
case 2:return e.next=4,e.sent.json()
case 4:if(t=e.sent,n=t.error,o=t.result,s=t.progress,h&&h(s),!n){e.next=11
break}throw new Error("[requestSnapshotPngZip] error: ".concat(n))
case 11:return e.abrupt("return",100===s&&o)
case 12:case"end":return e.stop()}}),e)}))),250,5e3,6e5)
case 9:return b=e.sent,v=b.zipFilename,y=b.cacheZipFileAccelRoute,e.abrupt("return",{urlPngZip:y,filenamePngZip:v})
case 13:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngZipAsync=p},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLikeRequest=void 0
var i=r(n(22)),o=r(n(4)),a=r(n(183)),s=window,c=s.XMLHttpRequest,l=s.Blob,u=s.TextDecoder,d=/[\r\n]+/
t.fetchLikeRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,r=void 0===n?"GET":n,s=t.headers,l=t.body,u=t.timeout,f=void 0===u?0:u,h=t.credentials,m=t.onProgressUpload,b=t.onProgressDownload
return new Promise((function(t,n){var u=function(t,n){return Object.assign(new Error(t),{status:n,url:e,method:r})},v=new c
v.onerror=function(){return n(u("NETWORK_ERROR",-1))},v.ontimeout=function(){return n(u("NETWORK_TIMEOUT",-1))},v.onreadystatechange=function(){var e=v.readyState,n=v.status
if(2===e&&0!==n){var r=v.getAllResponseHeaders().split(d).reduce((function(e,t){var n=t.split(":"),r=(0,a.default)(n),i=r[0],o=r.slice(1)
return o.length&&(e[i.trim().toLowerCase()]=o.join(":").trim()),e}),{})
t((0,o.default)({status:n,ok:n>=200&&n<300,headers:r},p(v,u)))}},m&&v.upload&&(v.upload.onprogress=g(m)),b&&(v.onprogress=g(b)),v.open(r,e),s&&Object.entries(s).forEach((function(e){var t=(0,i.default)(e,2),n=t[0],r=t[1]
return v.setRequestHeader(n,r)})),v.responseType="arraybuffer",v.timeout=f||0,v.withCredentials="include"===h,v.send(l||null)}))}
var p=function(e,t){var n
setTimeout((function(){n||(n="DROP",e.abort())}))
var r=function(){return new Promise((function(r,i){if(n)return i(t("KEEP"===n?"PAYLOAD_ALREADY_USED":"PAYLOAD_ALREADY_DROPPED",-1))
n="KEEP",e.onload=function(){return r(e.response)},e.onerror=function(){return i(t("PAYLOAD_ERROR",-1))},e.ontimeout=function(){return i(t("PAYLOAD_TIMEOUT",-1))}}))},i=function(){return r().then(h)}
return{arrayBuffer:r,blob:function(){return r().then(f)},text:i,json:function(){return i().then(m)}}},f=function(e){return new l([e])},h=function(e){return(new u).decode(e)},m=function(e){return JSON.parse(e)},g=function(e){return function(t){var n=t.lengthComputable,r=t.loaded,i=t.total
e(r,n?i:1/0)}}},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.deceleratedLoopAsync=void 0
var i=r(n(11)),o=r(n(14)),a=n(137),s=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,s,c,l,u=arguments
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=u.length>1&&void 0!==u[1]?u[1]:250,r=u.length>2&&void 0!==u[2]?u[2]:5e3,o=u.length>3&&void 0!==u[3]?u[3]:1/0,s=n,c=0
case 5:if(!(c<o)){e.next=17
break}return e.next=8,(0,a.setTimeoutAsync)(s)
case 8:return e.next=10,t()
case 10:if(!(l=e.sent)){e.next=13
break}return e.abrupt("return",l)
case 13:c+=s,s=Math.min(s+n,r)
case 15:e.next=5
break
case 17:throw new Error("reach delaySumLimit: ".concat(o))
case 18:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.deceleratedLoopAsync=s},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.requestSnapshotPngZipAsync=t.requestSnapshotPngAsync=t.loadSnapshotPngAsync=void 0
var i=r(n(11)),o=r(n(14)),a=n(498),s=n(123),c=n(501),l=n(343),u=function(){return window.MB_DESKTOP_SNAPSHOT_V3||window.parent.MB_DESKTOP_SNAPSHOT_V3},d=(0,a.createCacheMap)({valueSizeSumMax:8388608,valueSizeSingleMax:1048576}),p=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,l,p,f,h,m,g,b,v,y,x,w,j,S,_,C,O,k
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlSnapshotPublic,r=void 0===n?"/api/v3/snapshot_public.html":n,o=t.urlPngFallback,a=void 0===o?"/images/preview/image-load.png":o,l=t.requestDesktopSnapshot,p=void 0===l?u():l,f=t.getScreenMetaHtmlString,h=t.imageElement,m=t.zoomMode,g=t.projectMetaCid,b=t.screenMetaCid,v=t.screenStateCid,y=t.projectUpperDevice,x=t.screenMetaList,w=t.cacheTag,j=void 0===w?Date.now().toString(36):w,
S="".concat(b,"|").concat(v,"|").concat(m,"|").concat(j),void 0!==(_=d.get(S))){e.next=18
break}return e.prev=4,C={taskDataList:[{screenMetaCid:b,screenStateCid:v}],extraData:{taskMode:s.SNAPSHOT_TASK_MODE.PNG_BASE64_SINGLE,zoomMode:m,projectMetaCid:g,projectUpperDevice:y}},(0,c.patchSnapshotTaskOptionCanvasInfo)(C,(function(e){return x.find((function(t){return t.cid===e}))})),(0,c.patchSnapshotTaskOptionHtmlString)(C,f),e.next=10,p({urlSnapshotPublic:r,snapshotTaskOption:C})
case 10:O=e.sent,k=O.dataUrlPng,d.set(S,k,k.length,Date.now()+12e4),_=k,e.next=18
break
case 16:e.prev=16,e.t0=e.catch(4)
case 18:return h.src=_||a,e.abrupt("return",h)
case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))
return function(t){return e.apply(this,arguments)}}()
t.loadSnapshotPngAsync=p
var f=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,d,p,f,h,m,g,b,v
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotPublic,r=void 0===n?"/api/v3/snapshot_public.html":n,o=t.requestDesktopSnapshot,a=void 0===o?u():o,d=t.getScreenMetaHtmlString,p=t.zoomMode,f=t.projectMetaCid,h=t.screenMetaCid,m=t.screenStateCid,g=t.projectUpperDevice,b=t.screenMetaList,v={taskDataList:[{screenMetaCid:h,screenStateCid:m}],extraData:{taskMode:s.SNAPSHOT_TASK_MODE.PNG_FILE_SINGLE,zoomMode:p,projectMetaCid:f,projectUpperDevice:g,pngFilename:(0,
l.getSnapshotFilenamePng)({screenMetaList:b,screenMetaCid:h}).filenamePng}},(0,c.patchSnapshotTaskOptionCanvasInfo)(v,(function(e){return b.find((function(t){return t.cid===e}))})),(0,c.patchSnapshotTaskOptionHtmlString)(v,d),e.next=6,a({urlSnapshotPublic:r,snapshotTaskOption:v})
case 6:return e.abrupt("return",{})
case 7:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngAsync=f
var h=function(){var e=(0,o.default)(i.default.mark((function e(t){var n,r,o,a,d,p,f,h,m,g,b,v,y,x,w,j,S,_,C,O,k
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.urlSnapshotPublic,r=void 0===n?"/api/v3/snapshot_public.html":n,o=t.requestDesktopSnapshot,a=void 0===o?u():o,d=t.getScreenMetaHtmlString,p=t.zoomMode,f=t.projectMetaCid,h=t.projectUpperDevice,m=t.screenMetaList,g=t.screenMetaFolderList,b=t.cacheTag,v=void 0===b?Date.now().toString(36):b,y=t.onProgress,x=void 0===y?function(e){}:y,w="".concat(f,"-").concat(v),j="".concat(w,"/"),S="".concat(w,".zip"),_={
taskDataList:m.map((function(e){return{screenMetaCid:e.cid,screenStateCid:"default"}})),extraData:{taskMode:s.SNAPSHOT_TASK_MODE.PNG_ZIP_FILE_ALL,zoomMode:p,projectMetaCid:f,projectUpperDevice:h,zipPathPrefix:j,zipFilename:S}},(0,c.patchSnapshotTaskOptionCanvasInfo)(_,(function(e){return m.find((function(t){return t.cid===e}))})),(0,c.patchSnapshotTaskOptionHtmlString)(_,d),C=m.concat(g),O=(0,l.getSnapshotFilenamePngZip)({screenMetaList:C,zipPathPrefix:j}),k=O.screenMetaFilenameMap,(0,
c.patchSnapshotTaskOptionZipPath)(_,(function(e){return k[e]})),e.next=12,a({urlSnapshotPublic:r,snapshotTaskOption:_,onProgress:x})
case 12:return e.abrupt("return",{})
case 13:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.requestSnapshotPngZipAsync=h},function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheMap=t.createCache=void 0
var i=r(n(4)),o=n(101),a=n(499),s=function(e,t,n,r){return(0,i.default)((0,i.default)({},(0,a.createNode)(t)),{},{key:e,size:n,expireAt:r})}
t.createCache=s
t.createCacheMap=function(e){var t=e.valueSizeSumMax,n=e.valueSizeSingleMax,r=void 0===n?Math.max(.05*t,1):n,i=e.eventHub,c=void 0===i?(0,o.createHub)():i,l=Boolean(c),u=l?c:{},d=u.clear,p=u.subscribe,f=u.unsubscribe,h=u.send,m=new Map,g=(0,a.createDoublyLinkedList)(),b=0,v=function(e){m.set(e.key,e),g.unshift(e),b+=e.size,l&&h({type:"add",key:e.key,payload:e.value})},y=function(e){m.delete(e.key),g.remove(e),b-=e.size,l&&h({type:"delete",key:e.key,payload:e.value})}
return{hasEventHub:l,clearEventHub:d,subscribe:p,unsubscribe:f,clear:function(){return m.forEach(y)},getSize:g.getLength,getValueSizeSum:function(){return b},set:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now()+6e4,a=m.get(e)
if(a&&y(a),!(i>r)){for(;i+b>t;)y(g.getTail().prev)
v(s(e,n,i,o))}},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=m.get(e)
if(n)return n.expireAt<=t?y(n):(g.moveToFirst(n),n.value)},touch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()+6e4,n=m.get(e)
if(n)return n.expireAt=t,g.moveToFirst(n),n.value},delete:function(e){var t=m.get(e)
return t&&y(t),t&&t.value},saveCacheList:function(){var e=[]
return g.forEachReverse((function(t){var n=t.key,r=t.value,i=t.size,o=t.expireAt
return e.push({key:n,value:r,size:i,expireAt:o})})),e},loadCacheList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()
return e.forEach((function(e){var n=e.key,r=e.value,i=e.size,o=e.expireAt
if(!(o<=t)){var a=m.get(n)
a&&a.expireAt>=o||(a&&y(a),v(s(n,r,i,o)))}}))}}}},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.createDoublyLinkedList=t.createNode=void 0
var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null
return{value:e,prev:t,next:n}}
t.createNode=r
t.createDoublyLinkedList=function(){var e,t,n,i=function(){e=r(null),t=r(null,e),e.next=t,n=0}
i()
var o=function(e,t){var r=t.next
e.prev=t,e.next=r,t.next=r.prev=e,n++},a=function(e,t){var r=t.prev
e.prev=r,e.next=t,t.prev=r.next=e,n++},s=function(e){var t=e.prev,r=e.next
t.next=r,r.prev=t,e.prev=e.next=null,n--}
return{clear:i,getHead:function(){return e},getTail:function(){return t},getLength:function(){return n},insertAfter:o,insertBefore:a,remove:s,removeBetween:function(e,t){var r=e.prev,i=t.next
r.next=i,i.prev=r,e.prev=t.next=null
for(var o=e;o;)n--,o=o.next},forEach:function(n){for(var r=e.next,i=0;r!==t;)n(r,i),r=r.next,i++},forEachReverse:function(r){for(var i=t.prev,o=n-1;i!==e;)r(i,o),i=i.prev,o--},reverse:function(){for(var n=e.next;n!==t;){var r=n,i=r.prev,o=r.next
n.prev=o,n.next=i,n=o}var a=e.next,s=t.prev
e.next=s,t.prev=a,s.prev=e,a.next=t},moveToFirst:function(t){if(t!==e.next){var n=t.prev,r=t.next
n.next=r,r.prev=n,t.prev=e,t.next=e.next,t.next.prev=e.next=t}},moveToLast:function(e){if(e!==t.prev){var n=e.prev,r=e.next
n.next=r,r.prev=n,e.next=t,e.prev=t.prev,e.prev.next=t.prev=e}},push:function(e){return a(e,t)},pop:function(){return s(t.prev)},unshift:function(t){return o(t,e)},shift:function(){return s(e.next)}}}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
var r=n(407),i=n(364),o=n(365),a=n(408),s=n(677),c=n(409)
e.exports=function(e,t,n){var l=-1,u=i,d=e.length,p=!0,f=[],h=f
if(n)p=!1,u=o
else if(d>=200){var m=t?null:s(e)
if(m)return c(m)
p=!1,u=a,h=new r}else h=t?[]:f
e:for(;++l<d;){var g=e[l],b=t?t(g):g
if(g=n||0!==g?g:0,p&&b==b){for(var v=h.length;v--;)if(h[v]===b)continue e
t&&h.push(b),f.push(g)}else u(h,b,n)||(h!==f&&h.push(b),f.push(g))}return f}},,function(e,t,n){"use strict"
n(703),n(512)
window.$=window.jQuery=n(513),n(419),n(675),n(676),n(514),n(380),n(515),n(517)},,,,function(e,t,n){"use strict"
var r=n(17)
Object.defineProperty(t,"__esModule",{value:!0}),t.requestProjectShare=t.fetchDataSketchV2ArtboardData=t.fetchDataSketchV2ArtboardList=t.fetchDataProjectBasic=t.fetchDataPreviewInitial=t.checkHtmlZipV3=void 0
var i=r(n(11)),o=r(n(14)),a=n(454),s=n(813),c=n(1053)
t.checkHtmlZipV3=function(){return(0,a.isBasicObject)(window[c.TAG_HTML_ZIP_V3])}
var l=function(){return(0,s.basicObject)(window[c.TAG_HTML_ZIP_V3],"missing htmlZipV3 data")},u=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",window[c.TAG_HTML_ZIP_V3][c.TAG_PREVIEW_INITIAL_DATA])
case 2:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.fetchDataPreviewInitial=u
var d=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r,o,a,s
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),t=window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_BASIC_JSON],n=t.project_basic,r=t.screen_aligns,o=t.project_metas,a=t.screen_glues,s=t.screen_metas,e.abrupt("return",{projectBasic:n,screenAlignList:r,projectMetaList:o,screenGlueList:a,screenMetaList:s,projectScreenObjectList:window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_SCREEN_OBJECT_LIST]})
case 3:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.fetchDataProjectBasic=d
var p=function(){var e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",{artboards:Object.values(window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP]).map((function(e){return e.artboard}))})
case 2:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.fetchDataSketchV2ArtboardList=p
var f=function(){var e=(0,o.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),e.abrupt("return",window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP][t])
case 2:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()
t.fetchDataSketchV2ArtboardData=f
var h=function(){var e=(0,o.default)(i.default.mark((function e(){var t
return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(),t=window[c.TAG_HTML_ZIP_V3][c.TAG_PROJECT_BASIC_JSON].project_share,e.abrupt("return",{projectShare:t})
case 3:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
t.requestProjectShare=h},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict"
n.r(t)
var r,i=n(24),o=n.n(i);(r="undefined"!=typeof window?window:void 0).Shake=function(e,t){function n(n){if(this.hasDeviceMotion="ondevicemotion"in e,this.options={threshold:15,timeout:1e3},"object"===o()(n))for(var r in n)n.hasOwnProperty(r)&&(this.options[r]=n[r])
if(this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null,"function"==typeof t.CustomEvent)this.event=new t.CustomEvent("shake",{bubbles:!0,cancelable:!0})
else{if("function"!=typeof t.createEvent)return!1
this.event=t.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&e.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&e.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(t){var n=t.accelerationIncludingGravity
if(n){var r,i,o
if(null===this.lastX&&null===this.lastY&&null===this.lastZ)return this.lastX=n.x,this.lastY=n.y,void(this.lastZ=n.z)
r=Math.abs(this.lastX-n.x),i=Math.abs(this.lastY-n.y),o=Math.abs(this.lastZ-n.z),(r>this.options.threshold&&i>this.options.threshold||r>this.options.threshold&&o>this.options.threshold||i>this.options.threshold&&o>this.options.threshold)&&(new Date).getTime()-this.lastTime.getTime()>this.options.timeout&&(e.dispatchEvent(this.event),this.lastTime=new Date),this.lastX=n.x,this.lastY=n.y,this.lastZ=n.z}},n.prototype.handleEvent=function(e){if("function"==typeof this[e.type])return this[e.type](e)},n
}(r,r.document)},function(e,t,n){"use strict"
n.r(t)
var r=n(24),i=n.n(r)
!function(e,t,n){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},o=function(){var r={},o=t.createElement("div").style,a=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,n=e.length;t<n;t++)if(e[t]+"ransform"in o)return e[t].substr(0,e[t].length-1)
return!1}()
function s(e){return!1!==a&&(""===a?e:a+e.charAt(0).toUpperCase()+e.substr(1))}r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(e,t){for(var n in t)e[n]=t[n]},r.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},r.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},r.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},r.momentum=function(e,t,r,i,o,a){var s,c,l=e-t,u=n.abs(l)/r
return c=u/(a=void 0===a?6e-4:a),(s=e+u*u/(2*a)*(l<0?-1:1))<i?(s=o?i-o/2.5*(u/8):i,c=(l=n.abs(s-e))/u):s>0&&(s=o?o/2.5*(u/8):0,c=(l=n.abs(e)+s)/u),{destination:n.round(s),duration:c}}
var c=s("transform")
return r.extend(r,{hasTransform:!1!==c,hasPerspective:s("perspective")in o,hasTouch:"ontouchstart"in e,hasPointer:!(!e.PointerEvent&&!e.MSPointerEvent),hasTransition:s("transition")in o}),r.isBadAndroid=function(){var t=e.navigator.appVersion
if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var n=t.match(/Safari\/(\d+.\d)/)
return!(n&&"object"===i()(n)&&n.length>=2)||parseFloat(n[1])<535.19}return!1}(),r.extend(r.style={},{transform:c,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin"),touchAction:s("touchAction")}),r.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},r.addClass=function(e,t){if(!r.hasClass(e,t)){var n=e.className.split(" ")
n.push(t),e.className=n.join(" ")}},r.removeClass=function(e,t){if(r.hasClass(e,t)){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g")
e.className=e.className.replace(n," ")}},r.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop
return{left:t,top:n}},r.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0
return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return n.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",
fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*n.pow(2,-10*e)*n.sin((e-.055)*(2*n.PI)/.22)+1}}}),r.tap=function(e,n){var r=t.createEvent("Event")
r.initEvent(n,!0,!0),r.pageX=e.pageX,r.pageY=e.pageY,e.target.dispatchEvent(r)},r.click=function(n){var r,i=n.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||((r=t.createEvent(e.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),r.view=n.view||e,r.detail=1,r.screenX=i.screenX||0,r.screenY=i.screenY||0,r.clientX=i.clientX||0,r.clientY=i.clientY||0,r.ctrlKey=!!n.ctrlKey,r.altKey=!!n.altKey,r.shiftKey=!!n.shiftKey,r.metaKey=!!n.metaKey,r.button=0,r.relatedTarget=null,r._constructed=!0,
i.dispatchEvent(r))},r.getTouchAction=function(e,t){var n="none"
return"vertical"===e?n="pan-y":"horizontal"===e&&(n="pan-x"),t&&"none"!=n&&(n+=" pinch-zoom"),n},r.getRect=function(e){if(e instanceof SVGElement){var t=e.getBoundingClientRect()
return{top:t.top,left:t.left,width:t.width,height:t.height}}return{top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}},r}()
function a(n,r){for(var i in this.wrapper="string"==typeof n?t.querySelector(n):n,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!o.hasPointer,disableTouch:o.hasPointer||!o.hasTouch,disableMouse:o.hasPointer||o.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{
tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===e.onmousedown},r)this.options[i]=r[i]
this.translateZ=this.options.HWCompositing&&o.hasPerspective?" translateZ(0)":"",this.options.useTransition=o.hasTransition&&this.options.useTransition,this.options.useTransform=o.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,
this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?o.ease[this.options.bounceEasing]||o.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,
!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),
this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(e,n,r){var i=t.createElement("div"),o=t.createElement("div")
return!0===r&&(i.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(!0===r&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===r&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",
o.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",n||(i.style.pointerEvents="none"),i.appendChild(o),i}function c(n,i){for(var a in this.wrapper="string"==typeof i.el?t.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},
i)this.options[a]=i[a]
if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(o.addEvent(this.indicator,"touchstart",this),o.addEvent(e,"touchend",this)),this.options.disablePointer||(o.addEvent(this.indicator,o.prefixPointerEvent("pointerdown"),this),o.addEvent(e,o.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(o.addEvent(this.indicator,"mousedown",this),o.addEvent(e,"mouseup",this))),this.options.fade){
this.wrapperStyle[o.style.transform]=this.scroller.translateZ
var s=o.style.transitionDuration
if(!s)return
this.wrapperStyle[s]=o.isBadAndroid?"0.0001ms":"0ms"
var c=this
o.isBadAndroid&&r((function(){"0.0001ms"===c.wrapperStyle[s]&&(c.wrapperStyle[s]="0s")})),this.wrapperStyle.opacity="0"}}a.prototype={version:"5.2.0-snapshot",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,
this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=o.eventType[e.type]&&0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return
if(this.enabled&&(!this.initiated||o.eventType[e.type]===this.initiated)&&(!this.options.ignoreEventException||!this.options.ignoreEventException(e))){!this.options.preventDefault||o.isBadAndroid||o.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault()
var t,r=e.touches?e.touches[0]:e
this.initiated=o.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=o.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,
this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&o.eventType[e.type]===this.initiated&&(!this.options.ignoreEventException||!this.options.ignoreEventException(e))){this.options.preventDefault&&e.preventDefault()
var t,r,i,a,s=e.touches?e.touches[0]:e,c=s.pageX-this.pointX,l=s.pageY-this.pointY,u=o.getTime()
if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=c,this.distY+=l,i=n.abs(this.distX),a=n.abs(this.distY),!(u-this.endTime>300&&i<10&&a<10)){if(this.directionLocked||this.options.freeScroll||(i>a+this.options.directionLockThreshold?this.directionLocked="h":a>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault()
else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1)
l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault()
else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1)
c=0}c=this.hasHorizontalScroll?c:0,l=this.hasVerticalScroll?l:0,t=this.x+c,r=this.y+l,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+c/3:t>0?0:this.maxScrollX),(r>0||r<this.maxScrollY)&&(r=this.options.bounce?this.y+l/3:r>0?0:this.maxScrollY),this.directionX=c>0?-1:c<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,r),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y,
1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(e){if(this.enabled&&o.eventType[e.type]===this.initiated){this.options.preventDefault&&!o.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault()
e.changedTouches&&e.changedTouches[0]
var t,r,i=o.getTime()-this.startTime,a=n.round(this.x),s=n.round(this.y),c=n.abs(a-this.startX),l=n.abs(s-this.startY),u=0,d=""
if(this.isInTransition=0,this.initiated=0,this.endTime=o.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(a,s),!this.moved)return this.options.tap&&o.tap(e,this.options.tap),this.options.click&&o.click(e),void this._execEvent("scrollCancel")
if(this._events.flick&&i<200&&c<100&&l<100)this._execEvent("flick")
else{if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?o.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:a,duration:0},r=this.hasVerticalScroll?o.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},a=t.destination,s=r.destination,u=n.max(t.duration,r.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(a,s)
this.currentPage=p,u=this.options.snapSpeed||n.max(n.max(n.min(n.abs(a-p.x),1e3),n.min(n.abs(s-p.y),1e3)),300),a=p.x,s=p.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}if(a!=this.x||s!=this.y)return(a>0||a<this.maxScrollX||s>0||s<this.maxScrollY)&&(d=o.ease.quadratic),void this.scrollTo(a,s,u,d)
this._execEvent("scrollEnd")}}}},_resize:function(){var e=this
clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){e.refresh()}),this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y
return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){o.getRect(this.wrapper),this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight
var e=o.getRect(this.scroller)
this.scrollerWidth=e.width,this.scrollerHeight=e.height,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,
o.hasPointer&&!this.options.disablePointer&&(this.wrapper.style[o.style.touchAction]=o.getTouchAction(this.options.eventPassthrough,!0),this.wrapper.style[o.style.touchAction]||(this.wrapper.style[o.style.touchAction]=o.getTouchAction(this.options.eventPassthrough,!1))),this.wrapperOffset=o.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t)
n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length
if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,r){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,r)},scrollTo:function(e,t,n,r){r=r||o.ease.circular,this.isInTransition=this.options.useTransition&&n>0
var i=this.options.useTransition&&r.style
!n||i?(i&&(this._transitionTimingFunction(r.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,r.fn)},scrollToElement:function(e,t,r,i,a){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=o.offset(e)
s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top
var c=o.getRect(e),l=o.getRect(this.wrapper)
!0===r&&(r=n.round(c.width/2-l.width/2)),!0===i&&(i=n.round(c.height/2-l.height/2)),s.left-=r||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=null==t||"auto"===t?n.max(n.abs(this.x-s.left),n.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,a)}},_transitionTime:function(e){if(this.options.useTransition){e=e||0
var t=o.style.transitionDuration
if(t){if(this.scrollerStyle[t]=e+"ms",!e&&o.isBadAndroid){this.scrollerStyle[t]="0.0001ms"
var n=this
r((function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")}))}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e)}}},_transitionTimingFunction:function(e){if(this.scrollerStyle[o.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){
if(this.options.useTransform?this.scrollerStyle[o.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=n.round(e),t=n.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(t){var n=t?o.removeEvent:o.addEvent,r=this.options.bindToWrapper?this.wrapper:e
n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(r,"mousemove",this),n(r,"mousecancel",this),n(r,"mouseup",this)),o.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,o.prefixPointerEvent("pointerdown"),this),n(r,o.prefixPointerEvent("pointermove"),this),n(r,o.prefixPointerEvent("pointercancel"),this),n(r,o.prefixPointerEvent("pointerup"),this)),
o.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(r,"touchmove",this),n(r,"touchcancel",this),n(r,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,r=e.getComputedStyle(this.scroller,null)
return this.options.useTransform?(t=+((r=r[o.style.transform].split(")")[0].split(", "))[12]||r[4]),n=+(r[13]||r[5])):(t=+r.left.replace(/[^-\d.]/g,""),n=+r.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){var e,t=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,r=[],i=this
this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:s("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,
fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators))
for(var o=r.length;o--;)this.indicators.push(new c(this,r[o]))
function a(e){if(i.indicators)for(var t=i.indicators.length;t--;)e.call(i.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",(function(){a((function(){this.fade()}))})),this.on("scrollCancel",(function(){a((function(){this.fade()}))})),this.on("scrollStart",(function(){a((function(){this.fade(1)}))})),this.on("beforeScrollStart",(function(){a((function(){this.fade(1,!0)}))}))),this.on("refresh",(function(){a((function(){this.refresh()}))})),this.on("destroy",(function(){a((function(){
this.destroy()})),delete this.indicators}))},_initWheel:function(){o.addEvent(this.wrapper,"wheel",this),o.addEvent(this.wrapper,"mousewheel",this),o.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",(function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,o.removeEvent(this.wrapper,"wheel",this),o.removeEvent(this.wrapper,"mousewheel",this),o.removeEvent(this.wrapper,"DOMMouseScroll",this)}))},_wheel:function(e){if(this.enabled){if(e.metaKey||e.ctrlKey)return!0
if(4===e.buttons)return!0
e.preventDefault()
var t,r,i,o,a=this
if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((function(){a.options.snap||a._execEvent("scrollEnd"),a.wheelTimeout=void 0}),400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,r=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,r=-e.deltaY)
else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,r=e.wheelDeltaY/120*this.options.mouseWheelSpeed
else if("wheelDelta"in e)t=r=e.wheelDelta/120*this.options.mouseWheelSpeed
else{if(!("detail"in e))return
t=r=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=r,r=0),this.options.snap)return i=this.currentPage.pageX,o=this.currentPage.pageY,t>0?i--:t<0&&i++,r>0?o--:r<0&&o++,void this.goToPage(i,o)
i=this.x+n.round(this.hasHorizontalScroll?t:0),o=this.y+n.round(this.hasVerticalScroll?r:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=r>0?-1:r<0?1:0,i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),o>0?o=0:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(i,o,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",(function(){
var e,t,r,i,a,s,c,l=0,u=0,d=0,p=this.options.snapStepX||this.wrapperWidth,f=this.options.snapStepY||this.wrapperHeight
if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(r=n.round(p/2),i=n.round(f/2);d>-this.scrollerWidth;){for(this.pages[l]=[],e=0,a=0;a>-this.scrollerHeight;)this.pages[l][e]={x:n.max(d,this.maxScrollX),y:n.max(a,this.maxScrollY),width:p,height:f,cx:d-r,cy:a-i},a-=f,e++
d-=p,l++}else for(e=(s=this.options.snap).length,t=-1;l<e;l++)c=o.getRect(s[l]),(0===l||c.left<=o.getRect(s[l-1]).left)&&(u=0,t++),this.pages[u]||(this.pages[u]=[]),d=n.max(-c.left,this.maxScrollX),a=n.max(-c.top,this.maxScrollY),r=d-n.round(c.width/2),i=a-n.round(c.height/2),this.pages[u][t]={x:d,y:a,width:c.width,height:c.height,cx:r,cy:i},d>this.maxScrollX&&u++
this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}})),this.on("flick",(function(){
var e=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300)
this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)}))},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0}
var r=0,i=this.pages.length,o=0
if(n.abs(e-this.absStartX)<this.snapThresholdX&&n.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage
for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<i;r++)if(e>=this.pages[r][0].cx){e=this.pages[r][0].x
break}for(i=this.pages[r].length;o<i;o++)if(t>=this.pages[0][o].cy){t=this.pages[0][o].y
break}return r==this.currentPage.pageX&&((r+=this.directionX)<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),e=this.pages[r][0].x),o==this.currentPage.pageY&&((o+=this.directionY)<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),t=this.pages[0][o].y),{x:e,y:t,pageX:r,pageY:o}},goToPage:function(e,t,r,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0)
var o=this.pages[e][t].x,a=this.pages[e][t].y
r=void 0===r?this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-this.x),1e3),n.min(n.abs(a-this.y),1e3)),300):r,this.currentPage={x:o,y:a,pageX:e,pageY:t},this.scrollTo(o,a,r,i)},next:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this.goToPage(n,r,e,t)},prev:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,r--),this.goToPage(n,r,e,t)},_initKeys:function(t){var n,r={pageUp:33,
pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40}
if("object"==i()(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0))
else this.options.keyBindings={}
for(n in r)this.options.keyBindings[n]=this.options.keyBindings[n]||r[n]
o.addEvent(e,"keydown",this),this.on("destroy",(function(){o.removeEvent(e,"keydown",this)}))},_key:function(e){if(this.enabled){var t,r=this.options.snap,i=r?this.currentPage.pageX:this.x,a=r?this.currentPage.pageY:this.y,s=o.getTime(),c=this.keyTime||0
switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-c<200?n.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=r?1:this.wrapperWidth:a+=r?1:this.wrapperHeight
break
case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=r?1:this.wrapperWidth:a-=r?1:this.wrapperHeight
break
case this.options.keyBindings.end:i=r?this.pages.length-1:this.maxScrollX,a=r?this.pages[0].length-1:this.maxScrollY
break
case this.options.keyBindings.home:i=0,a=0
break
case this.options.keyBindings.left:i+=r?-1:5+this.keyAcceleration>>0
break
case this.options.keyBindings.up:a+=r?1:5+this.keyAcceleration>>0
break
case this.options.keyBindings.right:i-=r?-1:5+this.keyAcceleration>>0
break
case this.options.keyBindings.down:a-=r?1:5+this.keyAcceleration>>0
break
default:return}r?this.goToPage(i,a):(i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),a>0?(a=0,this.keyAcceleration=0):a<this.maxScrollY&&(a=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,a,0),this.keyTime=s)}},_animate:function(e,t,n,i){var a=this,s=this.x,c=this.y,l=o.getTime(),u=l+n
this.isAnimating=!0,function d(){var p,f,h,m=o.getTime()
if(m>=u)return a.isAnimating=!1,a._translate(e,t),void(a.resetPosition(a.options.bounceTime)||a._execEvent("scrollEnd"))
h=i(m=(m-l)/n),p=(e-s)*h+s,f=(t-c)*h+c,a._translate(p,f),a.isAnimating&&r(d),3==a.options.probeType&&a._execEvent("scroll")}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e)
break
case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e)
break
case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)
break
case"orientationchange":case"resize":this._resize()
break
case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e)
break
case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e)
break
case"keydown":this._key(e)
break
case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},c.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e)
break
case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e)
break
case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(o.removeEvent(this.indicator,"touchstart",this),o.removeEvent(this.indicator,o.prefixPointerEvent("pointerdown"),this),o.removeEvent(this.indicator,"mousedown",this),o.removeEvent(e,"touchmove",this),
o.removeEvent(e,o.prefixPointerEvent("pointermove"),this),o.removeEvent(e,"mousemove",this),o.removeEvent(e,"touchend",this),o.removeEvent(e,o.prefixPointerEvent("pointerup"),this),o.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t
t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=o.getTime(),this.options.disableTouch||o.addEvent(e,"touchmove",this),this.options.disablePointer||o.addEvent(e,o.prefixPointerEvent("pointermove"),this),this.options.disableMouse||o.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,r,i,a=e.touches?e.touches[0]:e,s=o.getTime()
this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=a.pageX-this.lastPointX,this.lastPointX=a.pageX,n=a.pageY-this.lastPointY,this.lastPointY=a.pageY,r=this.x+t,i=this.y+n,this._pos(r,i),1==this.scroller.options.probeType&&s-this.startTime>300?(this.startTime=s,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),e.preventDefault(),e.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),
t.stopPropagation(),o.removeEvent(e,"touchmove",this),o.removeEvent(e,o.prefixPointerEvent("pointermove"),this),o.removeEvent(e,"mousemove",this),this.scroller.options.snap){var r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-r.x),1e3),n.min(n.abs(this.scroller.y-r.y),1e3)),300)
this.scroller.x==r.x&&this.scroller.y==r.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0
var t=o.style.transitionDuration
if(t&&(this.indicatorStyle[t]=e+"ms",!e&&o.isBadAndroid)){this.indicatorStyle[t]="0.0001ms"
var n=this
r((function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")}))}},transitionTimingFunction:function(e){this.indicatorStyle[o.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),
this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(o.addClass(this.wrapper,"iScrollBothScrollbars"),
o.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(o.removeClass(this.wrapper,"iScrollBothScrollbars"),o.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),o.getRect(this.wrapper),
this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,
this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,
this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){
var e=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0
this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,
this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",
t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[o.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),
t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?n.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?n.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null
var n=e?250:500,r=e?0:300
e=e?"1":"0",this.wrapperStyle[o.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}}},a.utils=o,e.IScroll=a}(window,document,Math)},function(e,t,n){"use strict"
var r=n(720),i=n(678),o=n(409),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i
e.exports=a},function(e,t,n){"use strict"
e.exports=function(){}},function(e,t,n){"use strict"
var r=n(292),i=n(382),o=n(680),a=n(682),s=n(100),c=n(160),l=n(383)
e.exports=function e(t,n,u,d,p){t!==n&&o(n,(function(o,c){if(p||(p=new r),s(o))a(t,n,c,u,e,d,p)
else{var f=d?d(l(t,c),o,c+"",t,n,p):void 0
void 0===f&&(f=o),i(t,c,f)}}),c)}},function(e,t,n){"use strict"
var r=n(681)()
e.exports=r},function(e,t,n){"use strict"
e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i]
if(!1===n(o[c],c,o))break}return t}}},function(e,t,n){"use strict"
var r=n(382),i=n(337),o=n(339),a=n(338),s=n(340),c=n(293),l=n(72),u=n(304),d=n(361),p=n(526),f=n(100),h=n(245),m=n(532),g=n(383),b=n(683)
e.exports=function(e,t,n,v,y,x,w){var j=g(e,n),S=g(t,n),_=w.get(S)
if(_)r(e,n,_)
else{var C=x?x(j,S,n+"",e,t,w):void 0,O=void 0===C
if(O){var k=l(S),E=!k&&d(S),M=!k&&!E&&m(S)
C=S,k||E||M?l(j)?C=j:u(j)?C=a(j):E?(O=!1,C=i(S,!0)):M?(O=!1,C=o(S,!0)):C=[]:h(S)||c(S)?(C=j,c(j)?C=b(j):f(j)&&!p(j)||(C=s(S))):O=!1}O&&(w.set(S,C),y(C,S,v,x,w),w.delete(S)),r(e,n,C)}}},function(e,t,n){"use strict"
var r=n(131),i=n(160)
e.exports=function(e){return r(e,i(e))}},function(e,t,n){"use strict"
var r=n(303),i=n(685)
e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0
for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var c=n[r]
c&&e(t,c,r,a)}return t}))}},function(e,t,n){"use strict"
var r=n(17)(n(24)),i=n(275),o=n(226),a=n(410),s=n(100)
e.exports=function(e,t,n){if(!s(n))return!1
var c=(0,r.default)(t)
return!!("number"==c?o(n)&&a(t,n.length):"string"==c&&t in n)&&i(n[t],e)}},function(e,t,n){"use strict"
var r=n(384),i=n(226),o=n(225)
e.exports=function(e){return function(t,n,a){var s=Object(t)
if(!i(t)){var c=r(n,3)
t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,a)
return l>-1?s[c?t[l]:l]:void 0}}},function(e,t,n){"use strict"
var r=n(688),i=n(689),o=n(386)
e.exports=function(e){var t=i(e)
return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){"use strict"
var r=n(292),i=n(406)
e.exports=function(e,t,n,o){var a=n.length,s=a,c=!o
if(null==e)return!s
for(e=Object(e);a--;){var l=n[a]
if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){var u=(l=n[a])[0],d=e[u],p=l[1]
if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r
if(o)var h=o(d,p,u,e,t,f)
if(!(void 0===h?i(p,d,3,o,f):h))return!1}}return!0}},function(e,t,n){"use strict"
var r=n(385),i=n(225)
e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o]
t[n]=[o,a,r(a)]}return t}},function(e,t,n){"use strict"
var r=n(406),i=n(91),o=n(691),a=n(266),s=n(385),c=n(386),l=n(168)
e.exports=function(e,t){return a(e)&&s(t)?c(l(e),t):function(n){var a=i(n,e)
return void 0===a&&a===t?o(n,e):r(t,a,3)}}},function(e,t,n){"use strict"
var r=n(692),i=n(693)
e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){"use strict"
e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){"use strict"
var r=n(188),i=n(293),o=n(72),a=n(410),s=n(533),c=n(168)
e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l])
if(!(d=null!=e&&n(e,p)))break
e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(p,u)&&(o(e)||i(e))}},function(e,t,n){"use strict"
var r=n(695),i=n(696),o=n(266),a=n(168)
e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t,n){"use strict"
e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){"use strict"
var r=n(244)
e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){"use strict"
var r=n(342),i=n(384),o=n(387),a=Math.max
e.exports=function(e,t,n){var s=null==e?0:e.length
if(!s)return-1
var c=null==n?0:o(n)
return c<0&&(c=a(s+c,0)),r(e,i(t,3),c)}},function(e,t,n){"use strict"
var r=n(317)
e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){"use strict"
var r,i
r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24)
for(var t=0;t<e.length;t++)e[t]=i.endian(e[t])
return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()))
return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32
return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255)
return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16))
return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16))
return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(r.charAt(i>>>6*(3-o)&63)):t.push("=")
return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"")
for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(n))>>>6-2*i)
return t}},e.exports=i},function(e,t,n){"use strict"
function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict"
var r=n(178)
e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict"
var r=n(178),i=n(387),o=n(317),a=n(336),s=r.isFinite,c=Math.min
e.exports=function(e){var t=Math[e]
return function(e,n){if(e=o(e),(n=null==n?0:c(i(n),292))&&s(e)){var r=(a(e)+"e").split("e"),l=t(r[0]+"e"+(+r[1]+n))
return+((r=(a(l)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},,,,,,,,,,function(e,t,n){"use strict"
n.d(t,"a",(function(){return C}))
var r=n(11),i=n.n(r),o=n(14),a=n.n(o),s=n(37),c=n.n(s),l=n(0),u=(n(5),n(518),n(133)),d=n(129),p=n(119),f=n(25),h=n(214),m=n(173),g=n(113),b=n(349),v=n(32),y=n(257),x=window,w=(x.$,x.MB)
w.f.inSharing=!0
var j=function(e){var t=e.initialData,n=e.designOptions,r=e.previewOptions,o=e.popupHelper,s=e.initStoreRelated,c=e.api,x=c.requestProjectFullDataByAccessToken,j=c.requestSketchArtboardList,S=c.requestSketchArtboardById,_=c.requestSliceByArtboardId,C=c.requestSliceZipByArtboardId,O=c.checkSharingPermission,k=c.fetchProjectComment,E=c.fetchProjectScreenCommentThreadCountMap,M=c.requestProjectShare,T=r.isMobile,D=r.isIOSClient,A=r.isStandAlone
w.config.minFS=Object(u.a)(),(A||D)&&(document.documentElement.style.height="100vh")
var N,P=Object(h.b)(b.a),I=P.runner,L=P.messageBucket,B=P.webpackInterface,F=P.PreviewApp
return Object(v.b)({api:{requestSketchArtboardList:j,requestSketchArtboardById:S,requestSliceByArtboardId:_,requestSliceZipByArtboardId:C,checkSharingPermission:O,fetchProjectComment:k,fetchProjectScreenCommentThreadCountMap:E}}),Object.assign(w,{runner:I,messageBucket:L,webpackInterface:B,global:{popupHelper:o,designOptions:n}}),w.webpackInterface.store.dispatch({type:"entry:init:preview:options",payload:{previewOptions:r}}),{requestData:(N=a()(i.a.mark((function e(r){
var o,a,c,l,u,d,f,h,b,v,j,S,_,C,O,k,E,D,A,N,P,I,L,B,F,R,z,U,H,G
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.projectAccessToken,a=r.projectEncryptedPassword,c=r.isPasswordRequired,l=t.user,u=t.preference,d=t.MBSketchPluginDownloadURL,f=t.canEditByCurrentUser,h=n.isWonderShare,w.getCurrentDesignOptions=function(){return h},Object.assign(w,{user:l||{},canEditByCurrentUser:f}),Object(p.b)(u||{}),b=s(l&&!T?l.id:null),v=b.autoSaver,j=b.socketStore,S=b.projectExchange,_=b.snapshotStore,Object.assign(window,{AutoSaver:v,ProjectExchange:S,
MBSketchPluginDownloadURL:d}),_&&Object.assign(window,{SnapshotStore:_}),e.next=11,j.getSocketConnectPromise()
case 11:return C=Object(m.a)(x),e.next=14,C({projectAccessToken:o,projectEncryptedPassword:a,isPasswordRequired:c})
case 14:if(O=e.sent){e.next=17
break}return e.abrupt("return")
case 17:return k=O.projectMeta,E=O.screenGlueList,D=O.screenMetaList,A=O.projectScreenObjectList,N=O.projectBasic,P=O.screenAlignList,e.next=20,M(N.cid)
case 20:return I=e.sent,L=I.projectShare,B=D,F=L.screen_visible_switch,R=L.screen_visible_list,F&&(z=E.find((function(e){return e.type===g.SCREEN_GLUE_TYPE.PROJECT_MAIN})),U=z.cid,H=new Set(R),B=D.filter((function(e){return e.screen_glue_cid!==U||H.has(e.cid)}))),e.next=27,ProjectExchange.openProject({projectMeta:k,screenGlueList:E,screenMetaList:B,projectScreenObjectList:A})
case 27:return G=Object(p.c)({projectBasic:N,screenAlignList:P}),w.webpackInterface.init(),Object(y.a)(),document.title=G.name,w.webpackInterface.store.dispatch({type:"preview:set:current-projectShare",payload:{projectShare:L}}),e.abrupt("return",{projectAlike:G,projectMeta:k})
case 33:case"end":return e.stop()}}),e)}))),function(e){return N.apply(this,arguments)}),renderPreview:function(e,t,n){var r=Object(f.o)(t.cid).find((function(e){return"project-main"===e.type})),i=Object(f.q)(t.cid,r.cid),o=i.find((function(e){return e.cid===n}))||Object(d.b)(i),a=new URLSearchParams(location.search),s=T?"preview":a.has("inspect")?"inspect":a.has("comment")?"comment":"preview"
return Object(l.jsx)(F,{store:w.webpackInterface.store,previewMode:s,projectAlike:e,projectMeta:t,screenGlue:r,screenMeta:o})}}},S=n(215),_=n(344),C=function(){var e=a()(i.a.mark((function e(t){var n,r,o,a,s,l,u,d,p,f,h,m,g,b,v,y,x,w,C
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.isMockitt,r=t.isOnPremises,o=t.initialData,a=t.previewOptions,s=t.api,l=t.initStoreRelated,u=t.projectAccessToken,d=t.projectEncryptedPassword,p=t.isPasswordRequired,f=t.$root,h={isDesign:!0,isExperience:!1,isLoggedExperience:!1,isOnPremises:r,isWonderShare:n},Object(_.a)(h),m=j({api:s,initialData:o,popupHelper:Object(S.a)(),previewOptions:a,designOptions:h,initStoreRelated:l}),g=m.requestData,b=m.renderPreview,e.next=6,g({
projectAccessToken:u,projectEncryptedPassword:d,isPasswordRequired:p})
case 6:v=e.sent,y=v.projectAlike,x=v.projectMeta,w=location.hash||"",C=w&&w.startsWith("#screen=")&&w.substr("#screen=".length),MB.getRootProject=function(){return y},c.a.render(b(y,x,C),f)
case 13:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(375),n(376),n(357),n(377),n(378),e.exports=n(1060)},function(e,t,n){"use strict"
Object.defineProperty(t,"__esModule",{value:!0}),t.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP=t.TAG_PROJECT_SCREEN_OBJECT_LIST=t.TAG_PROJECT_BASIC_JSON=t.TAG_PREVIEW_INITIAL_DATA=t.TAG_HTML_ZIP_V3=void 0
t.TAG_HTML_ZIP_V3="hzv3"
t.TAG_PREVIEW_INITIAL_DATA="pid"
t.TAG_PROJECT_BASIC_JSON="pbj"
t.TAG_PROJECT_SCREEN_OBJECT_LIST="psol"
t.TAG_PROJECT_SKETCH_V2_ARTBOARD_MAP="psv2am"},,,,,,,function(e,t,n){"use strict"
n.r(t)
var r=n(11),i=n.n(r),o=n(14),a=n.n(o),s=n(712),c=n(150),l=n(4),u=n.n(l),d=n(22),p=n.n(d),f=n(522),h=function(){var e=a()(i.a.mark((function e(t){var n,r,o,a,s,c,l,u,d,h
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectEncryptedPassword,e.next=3,Object(f.fetchDataProjectBasic)()
case 3:if(r=e.sent,o=p()(r.projectMetaList,1),a=o[0],s=r.screenGlueList,c=r.screenMetaList,l=r.projectScreenObjectList,u=r.projectBasic,d=r.screenAlignList,!(h=u.password)||n===h){e.next=14
break}throw new Error("error password")
case 14:return e.abrupt("return",{projectMeta:a,screenGlueList:s,screenMetaList:c,projectScreenObjectList:l,projectBasic:u,screenAlignList:d})
case 15:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),m=function(){var e=a()(i.a.mark((function e(t){var n,r,o
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.requestProjectShare)(t)
case 2:return n=e.sent,r=n.projectShare,o=u()(u()({},r),{},{screen_visible_switch:!1,screen_visible_list:[]}),e.abrupt("return",{projectShare:o})
case 6:case"end":return e.stop()}}),e)})))
return function(t){return e.apply(this,arguments)}}(),g={requestPreviewInitialData:f.fetchDataPreviewInitial,requestProjectFullDataByAccessToken:h,requestSketchArtboardList:f.fetchDataSketchV2ArtboardList,requestSketchArtboardById:f.fetchDataSketchV2ArtboardData,requestProjectShare:m},b=n(200),v=n(158),y=n(257),x=n(190),w=n(40),j=function(){var e=a()(i.a.mark((function e(){var t,n,r,o,a
return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.a)({isHTMLZip:!0}),Object(w.j)()&&$("body").addClass("mobile"),e.next=4,g.requestPreviewInitialData()
case 4:return n=e.sent,window.MBLocale=n.locale,document.documentElement.lang=n.locale,window.I18N=Object(v.a)(n.locale,x.a),Object(y.b)(n.locale,n.projectName),r=n.projectAccessToken,o=n.projectEncryptedPassword,a=n.isPasswordRequired,e.next=12,Object(s.a)({isMockitt:!1,isOnPremises:!1,initialData:n,previewOptions:t,api:g,initStoreRelated:c.b,projectAccessToken:r,projectEncryptedPassword:o,isPasswordRequired:a,$root:document.getElementById("workspace")})
case 12:case"end":return e.stop()}}),e)})))
return function(){return e.apply(this,arguments)}}()
document.addEventListener("DOMContentLoaded",a()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()
case 2:case"end":return e.stop()}}),e)}))))}])}))

//# sourceMappingURL=preview-html-zip-5da23074347651a96918.js.map